/* 
MZ React Round Slider v1.0.0
https://github.com/mzusin/react-round-slider
MIT License      
Copyright (c) 2023-present, Miriam Zusin          
*/
var Ft=Object.defineProperty;var Ie=Object.getOwnPropertySymbols;var Nt=Object.prototype.hasOwnProperty,Bt=Object.prototype.propertyIsEnumerable;var Ae=(e,n,t)=>n in e?Ft(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,F=(e,n)=>{for(var t in n||(n={}))Nt.call(n,t)&&Ae(e,t,n[t]);if(Ie)for(var t of Ie(n))Bt.call(n,t)&&Ae(e,t,n[t]);return e};import{useEffect as p,useRef as be,useState as f}from"react";var Ot=Math.pow,T=(e,n=1/0)=>{if(n===1/0)return e;n<0&&(n=0);let t=Ot(10,n);return Math.round(e*t)/t},_=(e,n)=>(e%n+n)%n,J=(e,n,t,r,o)=>(o-r)*(e-n)/(t-n)+r;var ee=e=>!isNaN(parseFloat(e))&&isFinite(e),le=(e,n,t,r=1/0)=>{let[o,i]=e,[a,l]=n;return[T(o+a*Math.cos(t),r),T(i+l*Math.sin(t),r)]};var De=(e,n=1/0)=>{let t=e*(180/Math.PI);return T(t,n)},K=(e,n=1/0)=>{let t=e*(Math.PI/180);return T(t,n)};var te=(e,n,t=1/0)=>{let r=Math.abs(_(e,360)-_(n,360));return T(r<=180?r:360-r,t)};var Ht=(e,n,t=1/0)=>{let r=[];for(let o=0;o<e.length;o++)r.push(T(e[o]-n[o],t));return r},Re=(e,n,t=1/0)=>Ht(e,n,t);var $t=(e,n,t=1/0)=>{let r=[];for(let o=0;o<e.length;o++)r.push(T(e[o]*n,t));return r},ye=(e,n,t=1/0)=>$t(e,n,t);var Ut=(e,n=1/0)=>{let t=0;for(let r=0;r<e.length;r++)t+=e[r]*e[r];return T(Math.sqrt(t),n)};var Gt=(e,n=1/0)=>{let t=Ut(e),r=[];for(let o=0;o<e.length;o++)r.push(t===0?0:T(e[o]/t,n));return r},we=(e,n=1/0)=>Gt(e,n);var Le=(e,n,t,r)=>(n=n%Math.PI*2,[e[0]+Math.cos(n)*t,e[1]+Math.sin(n)*r]);var ue=()=>Math.random().toString(36).substring(2)+new Date().getTime().toString(36);var v=(e,n)=>ee(e)?Number(e):n,ne=(e,n)=>e==null?n:e,z=(e,n)=>e==null?n:e;var ce="#efefef",me="#5daed2",W="#333";var _e={filter:"opacity(0.7) grayscale(100%)"},Ve={outline:"none"},ke={outline:"none"},de=2,Z=3,Q=20,Fe="#000",Ne=16;var Be=(e,n,t)=>t>=e&&t<=n||t+360>=e&&t+360<=n,Oe=(e,n)=>{let t=v(e,0),r=v(n,359.999);return t=_(t,360),r=_(r,360),t<0&&(t+=360),r<0&&(r+=360),r<t&&(r+=360),t===r&&(r+=359.999),[t,r]};var Ge=e=>{if(e.length<=0)return[0,0];let n=-1/0,t=-1/0;for(let r of e){let[o,i]=r.pointerRadii;n=Math.max(n,Math.max(0,o)),t=Math.max(t,Math.max(0,i))}return[n,t]},ze=(e,n,t)=>{if(t&&t.length>0){let i=t.findIndex(u=>u===e),a=t.findIndex(u=>u===n),l=i===-1?0:i,s=a===-1?t.length-1:a;return[l,s]}let r=v(e,0),o=v(n,100);return r>o&&(o=r+100),[r,o]},Yt=(e,n,t,r)=>{if(r&&r.length>0){let i=r.findIndex(a=>a===e);return i===-1?0:i}let o=v(e,n);return o<n&&(o=n),o>t&&(o=t),o};var re=(e,n,t,r,o)=>{let i=n===t?0:J(e,0,100,n,t);return o&&o.length>0?o[Math.round(i)]:T(i,r)},qt=(e,n)=>n===0?0:Math.round(e/n)*n,he=(e,n,t,r)=>{if(r===void 0&&t&&(r=1),r===void 0)return;let o=n-e;return o===0?0:r*100/o},We=(e,n,t,r,o,i)=>{let a=[],l=e||[];for(let s=0;s<l.length;s++){let u=l[s];if(u.rx<=0||u.ry<=0)continue;let d=Yt(u.value,n,t,r),g=n===t?0:J(n,t,0,100,d),m={pointerRadii:[v(u.rx,10),v(u.ry,10)],percent:g,id:ue(),index:0,bgColor:u.bgColor||o||W,pointerSVG:i||u.pointerSVG,disabled:u.disabled===!0,keyboardDisabled:!1,mousewheelDisabled:!1,ariaLabel:u.ariaLabel};a.push(m)}if(a.length>1){a.sort((s,u)=>s.percent-u.percent);for(let s=0;s<a.length;s++)a[s].index=s}return!a||a.length<=0?[{pointerRadii:[10,10],percent:0,id:ue(),index:0,bgColor:W,disabled:!1,keyboardDisabled:!1,mousewheelDisabled:!1}]:a},X=(e,n,t,r,o)=>{let i=Math.abs(t-n),a=e*i/100,l=_(n+a,360),s=K(l);return s=J(s,0,Math.PI*2,0,Math.PI),{position:Le(o,s,r[0],r[1]),angleDegrees:l}},Xe=e=>{if(!e||e.length<2)return null;let n=1/0,t=null,r=-1/0,o=null;for(let i=0;i<e.length;i++){let a=e[i];a.percent<n&&(n=a.percent,t=a),a.percent>r&&(r=a.percent,o=a)}return t===null||o===null?null:[t,o]},Ye=(e,n,t,r,o,i,a,l,s,u)=>{let[d,g]=n,{left:m,top:b}=e.getBoundingClientRect(),h=[d-m,g-b],S=Re(h,t),[E,P]=r,x=Math.atan2(S[1]/P,S[0]/E);x<0&&(x+=2*Math.PI);let C=De(x);if(!Be(o,i,C)){let R=te(C,o),B=te(C,i);return R<=B?a:l}let N=Math.abs(i-o),A=C*100/N,V=he(a,l,s,u);return V===void 0?A:qt(A,V)},j=(e,n)=>!e||!n?-1:e.findIndex(t=>t.id===n),Kt=e=>e.getAttribute("data-type")==="panel",Zt=e=>e.getAttribute("data-type")==="connection",Qt=(e,n)=>e.getAttribute("data-type")==="pointer"&&e.getAttribute("data-id")===n||e.querySelector(`[data-type="pointer"][data-index="${n}"]`)!==null,qe=(e,n,t,r,o,i,a)=>{if(n.length<=0)return null;if(n.length===1)return n[0].id;if(a==="drag")return r;if(Kt(e)||Zt(e)){let l=Math.abs(i-o),s=t*l/100,u=1/0,d=null;for(let g=0;g<n.length;g++){let m=n[g],b=m.percent*l/100,h=te(b,s);h<u&&(u=h,d=m.id)}return d}for(let l=0;l<n.length;l++){let s=n[l];if(Qt(e,s.id))return s.id}return r};var jt=(e,n)=>{let t=e.find(l=>l.id===n);if(!t)return null;let r=_(t.index+1,e.length),o=e.find(l=>l.index===r);if(!o)return null;let i=_(t.index-1,e.length),a=e.find(l=>l.index===i);return[t,o,a]},Ke=(e,n)=>{if(e[0].disabled)return e;let t=[...e],r=t[0];return r.percent=n,t[0]=r,t},Ze=(e,n,t)=>{if(!t)return e;let r=e.findIndex(a=>a.id===t);if(r===-1||e[r].disabled)return e;let o=[...e],i=F({},o[r]);return i.percent=n,o[r]=i,o},Qe=(e,n,t,r,o)=>{let[i,a,l]=jt(n,t),s=e-i.percent,u=Math.abs(o-r)/2;if(s!==0&&i.percent!==0&&e!==0){let d=Math.abs(s)>u?s<0:s>=0;d&&a.percent>=i.percent&&(e=Math.min(e,a.percent)),!d&&l.percent<=i.percent&&(e=Math.max(e,l.percent))}return e};var fe=(e,n,t)=>{let[r,o]=e,[i,a]=n,l=Math.max(0,i*2-t),s=Math.max(0,a*2-t),u=r*2+t+l,d=o*2+t+s;return[u,d]},ge=(e,n,t)=>{let[r,o]=fe(e,n,t);return[T(r/2,2),T(o/2,2)]},je=(e,n,t,r,o)=>{let i=n,a=i-e<=180?0:1;e>i&&(i+=360);let l=ge(t,r,o),s=le(l,t,K(e)),u=le(l,t,K(i));return{start:s,end:u,largeArcFlag:a}};import{forwardRef as Jt}from"react";import{jsx as tn}from"react/jsx-runtime";var en=(e,n)=>{let{ellipse:t,strokeWidth:r,svgRadii:o,bgColor:i}=e,{start:a,end:l,largeArcFlag:s}=t;return tn("path",{"data-type":"panel",ref:n,d:`M ${a[0]} ${a[1]} A ${o[0]} ${o[1]} 0 ${s} 1 ${l[0]} ${l[1]}`,stroke:i,strokeWidth:r,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer"})},Je=Jt(en);import{useEffect as nn,useState as xe}from"react";import{Fragment as on,jsx as et}from"react/jsx-runtime";var rn=e=>{let{pointers:n,ellipse:t,strokeWidth:r,svgCenter:o,svgRadii:i,connectionBgColor:a,connectionGradient:l,startEndAngle:s}=e,{start:u}=t,[d,g]=s,[m,b]=xe(null),[h,S]=xe(null),[E,P]=xe(0);return nn(()=>{if(!n||n.length<=0)return;if(n.length<=1){let B=n[0],{position:ae,angleDegrees:ie}=X(B.percent,d,g,i,o);b(u),S(ae),P(Math.abs(ie-d)<=180?0:1);return}let x=Xe(n);if(x===null)return;let C=x[0],M=x[1],{position:N,angleDegrees:A}=X(C.percent,d,g,i,o),{position:V,angleDegrees:R}=X(M.percent,d,g,i,o);b(N),S(V),P(Math.abs(R-A)<=180?0:1)},[g,n,u,d,o,i]),et(on,{children:m!==null&&h!==null&&et("path",{"data-type":"connection",d:`M ${m[0]} ${m[1]} A ${i[0]} ${i[1]} 0 ${E} 1 ${h[0]} ${h[1]}`,stroke:l?"url(#connection)":a,strokeWidth:r+1,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer",pointerEvents:"none"})})},tt=rn;import{useEffect as nt,useState as rt}from"react";import{Fragment as ot,jsx as oe,jsxs as sn}from"react/jsx-runtime";var an=e=>{let{id:n,pointer:t,startEndAngle:r,svgRadii:o,svgCenter:i,pointerBgColor:a,pointerSVG:l,disabledPointerStyle:s,min:u,max:d,round:g,data:m,ariaLabel:b}=e,{percent:h,pointerRadii:S}=t,[E,P]=S,[x,C]=r,[M,N]=rt(null),[A,V]=rt("");nt(()=>{let{position:B}=X(h,x,C,o,i);N(B)},[h,o,i,x,C]),nt(()=>{V(re(h,u,d,g,m))},[u,d,g,m,h]);let R=F({},ke);return t.disabled&&(R=F(F({},R),s)),M?sn(ot,{children:[!l&&oe("ellipse",{className:t.disabled?"disabled":void 0,style:R,"aria-disabled":t.disabled?!0:void 0,"aria-valuenow":A,"aria-valuetext":(A||"").toString(),"aria-label":b,"data-type":"pointer","data-index":t.index,"data-id":n,"data-percent":t.percent,cx:M[0],cy:M[1],rx:E,ry:P,cursor:"pointer",tabIndex:0,role:"slider",fill:a}),l&&oe("g",{className:t.disabled?"disabled":void 0,style:R,"aria-disabled":t.disabled?!0:void 0,"aria-valuenow":A,"aria-valuetext":A.toString(),"aria-label":b,"data-type":"pointer","data-index":t.index,"data-id":n,"data-percent":t.percent,cursor:"pointer",transform:`translate(${M[0]-E/2}, ${M[1]-P/2})`,tabIndex:0,role:"slider",children:oe("g",{pointerEvents:"none",children:l})})]}):oe(ot,{})},at=an;import{useEffect as ln,useState as un}from"react";import{jsx as mn}from"react/jsx-runtime";var cn=e=>{let{svgCenter:n,round:t,min:r,max:o,pointers:i,data:a,textPrefix:l,textSuffix:s,textColor:u,textFontSize:d,textFontFamily:g}=e,[m,b]=n,[h,S]=un("");return ln(()=>{let E=[];for(let P of i){let x=re(P.percent,r,o,t,a);E.push(`${l||""}${x}${s||""}`)}S(E.join(" "))},[a,o,r,i,t,l,s]),mn("text",{x:m,y:b,fill:u||Fe,fontSize:d||Ne,fontFamily:g,style:{userSelect:"none"},textAnchor:"middle",children:h})},it=cn;import{useEffect as dn,useState as hn}from"react";import{jsx as st}from"react/jsx-runtime";var fn=(e,n,t)=>{var i;let r=[],o=e===0?0:n/e;for(let a=0;a<e;a++){let l=a*o,s=(i=t==null?void 0:t.current)==null?void 0:i.getPointAtLength(l),u=s?s.x:0,d=s?s.y:0;r.push({distance:l,x:u,y:d})}return r},gn=e=>{let{ticksColor:n,ticksWidth:t,ticksHeight:r,ticsCount:o,totalLength:i,sliderRef:a,svgCenter:l}=e,[s,u]=hn([]);dn(()=>{u(fn(o,i,a))},[o,i,a]);let[d,g]=l;return st("g",{children:s.map((m,b)=>{let{x:h,y:S}=m,E=r||Q,P=we([d-h,g-S]),x=ye(P,E),C=h+x[0],M=S+x[1];return st("line",{x1:h,y1:S,x2:C,y2:M,strokeWidth:t||Z,stroke:n},b)})})},lt=gn;import{jsx as Y,jsxs as pn}from"react/jsx-runtime";var Vr=e=>{var Pe,Ce;let n=be(null),t=be(null),r=be("click"),[o,i]=f(null),[a,l]=f([0,0]),[s,u]=f(0),[d,g]=f([0,0]),[m,b]=f([]),[h,S]=f([0,0]),[E,P]=f([0,0]),[x,C]=f([0,0]),[M,N]=f([0,0]),[A,V]=f({start:[0,0],end:[0,0],largeArcFlag:0}),[R,B]=f(ce),[ae,ie]=f(me),[ve,ut]=f(W),[ct,mt]=f(!1),[O,dt]=f(!1),[ht,ft]=f(void 0),[Se,gt]=f(!1),[xt,bt]=f(!1),[pe,vt]=f(de),[y,w]=d,[St,pt]=E,[H,$]=M,[Mt,Tt]=f(!1),[Et,Pt]=f(""),[Ct,It]=f(""),[At,Dt]=f(!1),[Rt,yt]=f(Z),[wt,Lt]=f(Q),[_t,Vt]=f(0);p(()=>{Dt(z(e.disableTicks,!1)),yt(v(e.ticksWidth,Z)),Lt(v(e.ticksHeight,Q));let c=v(e.ticsCount,0);c||(e.data&&e.data.length>0?c=e.data.length-1:c=Math.abs(H-$)%360*(w-y)/360),Vt(c)},[e.disableTicks,e.ticksWidth,e.ticksHeight,e.ticsCount,w,y,e.data,H,$]),p(()=>{B(ne(e.bgColor,ce)),ie(ne(e.connectionBgColor,me)),ut(ne(e.pointerBgColor,W))},[e.bgColor,e.connectionBgColor,e.pointerBgColor]),p(()=>{mt(z(e.pointersOverlap,!1))},[e.pointersOverlap]),p(()=>{dt(z(e.disabled,!1)),ft(e.disabledPointerStyle||_e),gt(z(e.keyboardDisabled,!1)),bt(z(e.mousewheelDisabled,!1))},[e.disabled,e.disabledPointerStyle,e.keyboardDisabled,e.mousewheelDisabled]),p(()=>{l([v(e.rx,150),v(e.ry,150)])},[e.rx,e.ry]),p(()=>{u(v(e.strokeWidth,5))},[e.strokeWidth]),p(()=>{g(ze(e.min,e.max,e.data))},[e.min,e.max,e.data]),p(()=>{b(We(e.pointers,y,w,e.data,ve,e.pointerSVG))},[e.pointers,e.data,y,w,ve,e.pointerSVG]),p(()=>{S(Ge(m))},[m]),p(()=>{P(fe(a,h,s))},[a,h,s]),p(()=>{C(ge(a,h,s))},[a,h,s]),p(()=>{N(Oe(e.startAngleDegrees,e.endAngleDegrees))},[e.startAngleDegrees,e.endAngleDegrees]),p(()=>{V(je(H,$,a,h,s))},[H,$,a,h,s]),p(()=>{vt(v(e.round,de))},[e.round]),p(()=>{Tt(e.hideText),Pt(e.textPrefix),It(e.textSuffix)},[e.hideText,e.textPrefix,e.textSuffix]);let U=c=>{var q;if(O||!n||!n.current)return;let I=c.type.indexOf("mouse")!==-1?c.clientX:c.touches[0].clientX,k=c.type.indexOf("mouse")!==-1?c.clientY:c.touches[0].clientY,D=Ye(n.current,[I,k],x,a,H,$,y,w,e.data,e.step);if(m.length<=1){i(((q=m[0])==null?void 0:q.id)||null),b(G=>Ke(G,D));return}let L=o;i(G=>(L=qe(c.target,m,D,G,H,$,r.current),L)),L!==null&&b(G=>(ct||w===y||(D=Qe(D,G,L,y,w)),Ze(G,D,L)))},kt=c=>{if(O)return;let I=c.target;!I||!(I===t.current||I.getAttribute("data-type")==="pointer")||(U(c),window.addEventListener("mousemove",U),window.addEventListener("mouseup",Me),r.current="drag")},Me=c=>{window.removeEventListener("mousemove",U),window.removeEventListener("mouseup",U),r.current="click"},se=c=>{let I=j(m,o);if(I===-1)return;let k=F({},m[I]),D=k.percent;if(!ee(D))return;let L=he(y,w,e.data,e.step);L===void 0&&(L=1),c?D-=L:D+=L,D>100&&(D=100),k.percent=D;let q=[...m];q[I]=k,b(q)},Te=()=>{if(O||Se)return;let c=j(m,o);c===-1||m[c].disabled||se(!1)},Ee=()=>{if(O||Se)return;let c=j(m,o);c===-1||m[c].disabled||se(!0)};return pn("svg",{"data-type":"bg",xmlns:"http://www.w3.org/2000/svg",ref:n,width:St,height:pt,onMouseDown:kt,onMouseUp:Me,onTouchMove:U,onTouchStart:U,onKeyDown:c=>{switch(c.key){case"ArrowLeft":{c.preventDefault(),Te();break}case"ArrowRight":{c.preventDefault(),Ee();break}case"ArrowUp":{c.preventDefault(),Te();break}case"ArrowDown":{c.preventDefault(),Ee();break}}},className:O?"disabled":void 0,"aria-disabled":O?!0:void 0,tabIndex:0,focusable:!0,onWheel:c=>{if(O||xt)return;let I=j(m,o);if(I===-1||m[I].disabled)return;c.stopPropagation();let k=c.deltaY<0;se(!k)},style:Ve,children:[e.connectionGradient&&Y("defs",{children:e.connectionGradient}),Y(Je,{ref:t,ellipse:A,strokeWidth:s,svgRadii:a,bgColor:R}),!At&&t&&t.current&&typeof((Pe=t==null?void 0:t.current)==null?void 0:Pe.getTotalLength)=="function"&&Y(lt,{sliderRef:t,ticksWidth:Rt,ticksHeight:wt,ticksColor:R,ticsCount:_t,totalLength:((Ce=t==null?void 0:t.current)==null?void 0:Ce.getTotalLength())||0,svgCenter:x}),Y(tt,{pointers:m,ellipse:A,svgRadii:a,strokeWidth:s,connectionBgColor:ae,startEndAngle:M,svgCenter:x,connectionGradient:e.connectionGradient}),m.map(c=>Y(at,{pointer:c,id:c.id,startEndAngle:M,svgRadii:a,svgCenter:x,pointerBgColor:c.bgColor,pointerSVG:e.pointerSVG||c.pointerSVG,disabledPointerStyle:ht,min:y,max:w,round:pe,data:e.data,ariaLabel:c.ariaLabel},c.id)),!Mt&&Y(it,{svgCenter:x,round:pe,min:y,max:w,pointers:m,data:e.data,textPrefix:Et,textSuffix:Ct,textColor:e.textColor,textFontSize:e.textFontSize,textFontFamily:e.textFontFamily})]})};export{Vr as RoundSlider};
//# sourceMappingURL=mz-react-round-slider.esm.js.map
