/* 
MZ React Round Slider v1.0.0
https://github.com/mzusin/react-round-slider
MIT License      
Copyright (c) 2023-present, Miriam Zusin          
*/
var wt=Object.defineProperty;var Ee=Object.getOwnPropertySymbols;var yt=Object.prototype.hasOwnProperty,Lt=Object.prototype.propertyIsEnumerable;var Te=(e,t,n)=>t in e?wt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N=(e,t)=>{for(var n in t||(t={}))yt.call(t,n)&&Te(e,n,t[n]);if(Ee)for(var n of Ee(t))Lt.call(t,n)&&Te(e,n,t[n]);return e};import{useEffect as p,useRef as ge,useState as f}from"react";var Vt=Math.pow,M=(e,t=1/0)=>{if(t===1/0)return e;t<0&&(t=0);let n=Vt(10,t);return Math.round(e*n)/n},V=(e,t)=>(e%t+t)%t,j=(e,t,n,r,o)=>(o-r)*(e-t)/(n-t)+r;var J=e=>!isNaN(parseFloat(e))&&isFinite(e),ie=(e,t,n,r=1/0)=>{let[o,a]=e,[i,l]=t;return[M(o+i*Math.cos(n),r),M(a+l*Math.sin(n),r)]};var Ce=(e,t=1/0)=>{let n=e*(180/Math.PI);return M(n,t)},W=(e,t=1/0)=>{let n=e*(Math.PI/180);return M(n,t)};var ee=(e,t,n=1/0)=>{let r=Math.abs(V(e,360)-V(t,360));return M(r<=180?r:360-r,n)};var _t=(e,t,n=1/0)=>{let r=[];for(let o=0;o<e.length;o++)r.push(M(e[o]-t[o],n));return r},Ie=(e,t,n=1/0)=>_t(e,t,n);var kt=(e,t,n=1/0)=>{let r=[];for(let o=0;o<e.length;o++)r.push(M(e[o]*t,n));return r},Re=(e,t,n=1/0)=>kt(e,t,n);var Nt=(e,t=1/0)=>{let n=0;for(let r=0;r<e.length;r++)n+=e[r]*e[r];return M(Math.sqrt(n),t)};var Bt=(e,t=1/0)=>{let n=Nt(e),r=[];for(let o=0;o<e.length;o++)r.push(n===0?0:M(e[o]/n,t));return r},Ae=(e,t=1/0)=>Bt(e,t);var De=(e,t,n,r)=>(t=t%Math.PI*2,[e[0]+Math.cos(t)*n,e[1]+Math.sin(t)*r]);var se=()=>Math.random().toString(36).substring(2)+new Date().getTime().toString(36);var v=(e,t)=>J(e)?Number(e):t,te=(e,t)=>e==null?t:e,G=(e,t)=>e==null?t:e;var le="#efefef",ue="#5daed2",Y="#333";var we={filter:"opacity(0.7) grayscale(100%)"},ye={outline:"none"},Le={outline:"none"},ce=2,Z=3;var Ve=(e,t,n)=>n>=e&&n<=t||n+360>=e&&n+360<=t,_e=(e,t)=>{let n=v(e,0),r=v(t,359.999);return n=V(n,360),r=V(r,360),n<0&&(n+=360),r<0&&(r+=360),r<n&&(r+=360),n===r&&(r+=359.999),[n,r]};var Oe=e=>{if(e.length<=0)return[0,0];let t=-1/0,n=-1/0;for(let r of e){let[o,a]=r.pointerRadii;t=Math.max(t,Math.max(0,o)),n=Math.max(n,Math.max(0,a))}return[t,n]},$e=(e,t,n)=>{if(n&&n.length>0){let a=n.findIndex(u=>u===e),i=n.findIndex(u=>u===t),l=a===-1?0:a,s=i===-1?n.length-1:i;return[l,s]}let r=v(e,0),o=v(t,100);return r>o&&(o=r+100),[r,o]},Ut=(e,t,n,r)=>{if(r&&r.length>0){let a=r.findIndex(i=>i===e);return a===-1?0:a}let o=v(e,t);return o<t&&(o=t),o>n&&(o=n),o};var ne=(e,t,n,r,o)=>{let a=t===n?0:j(e,0,100,t,n);return o&&o.length>0?o[Math.round(a)]:M(a,r)},Ht=(e,t)=>t===0?0:Math.round(e/t)*t,me=(e,t,n,r)=>{if(r===void 0&&n&&(r=1),r===void 0)return;let o=t-e;return o===0?0:r*100/o},Fe=(e,t,n,r,o,a)=>{let i=[],l=e||[];for(let s=0;s<l.length;s++){let u=l[s];if(u.rx<=0||u.ry<=0)continue;let d=Ut(u.value,t,n,r),x=t===n?0:j(t,n,0,100,d),m={pointerRadii:[v(u.rx,10),v(u.ry,10)],percent:x,id:se(),index:0,bgColor:u.bgColor||o||Y,pointerSVG:a||u.pointerSVG,disabled:u.disabled===!0,keyboardDisabled:!1,mousewheelDisabled:!1,ariaLabel:u.ariaLabel};i.push(m)}if(i.length>1){i.sort((s,u)=>s.percent-u.percent);for(let s=0;s<i.length;s++)i[s].index=s}return!i||i.length<=0?[{pointerRadii:[10,10],percent:0,id:se(),index:0,bgColor:Y,disabled:!1,keyboardDisabled:!1,mousewheelDisabled:!1}]:i},q=(e,t,n,r,o)=>{let a=Math.abs(n-t),i=e*a/100,l=V(t+i,360),s=W(l);return s=j(s,0,Math.PI*2,0,Math.PI),{position:De(o,s,r[0],r[1]),angleDegrees:l}},Ue=e=>{if(!e||e.length<2)return null;let t=1/0,n=null,r=-1/0,o=null;for(let a=0;a<e.length;a++){let i=e[a];i.percent<t&&(t=i.percent,n=i),i.percent>r&&(r=i.percent,o=i)}return n===null||o===null?null:[n,o]},He=(e,t,n,r,o,a,i,l,s,u)=>{let[d,x]=t,{left:m,top:g}=e.getBoundingClientRect(),h=[d-m,x-g],R=Ie(h,n),[A,T]=r,b=Math.atan2(R[1]/T,R[0]/A);b<0&&(b+=2*Math.PI);let P=Ce(b);if(!Ve(o,a,P)){let D=ee(P,o),O=ee(P,a);return D<=O?i:l}let B=Math.abs(a-o),C=P*100/B,_=me(i,l,s,u);return _===void 0?C:Ht(C,_)},K=(e,t)=>!e||!t?-1:e.findIndex(n=>n.id===t),zt=e=>e.getAttribute("data-type")==="panel",Gt=e=>e.getAttribute("data-type")==="panel-fill",Yt=(e,t)=>e.getAttribute("data-type")==="pointer"&&e.getAttribute("data-id")===t||e.querySelector(`[data-type="pointer"][data-index="${t}"]`)!==null,ze=(e,t,n,r,o,a,i)=>{if(t.length<=0)return null;if(t.length===1)return t[0].id;if(i==="drag")return r;if(zt(e)||Gt(e)){let l=Math.abs(a-o),s=n*l/100,u=1/0,d=null;for(let x=0;x<t.length;x++){let m=t[x],g=m.percent*l/100,h=ee(g,s);h<u&&(u=h,d=m.id)}return d}for(let l=0;l<t.length;l++){let s=t[l];if(Yt(e,s.id))return s.id}return r};var qt=(e,t)=>{let n=e.find(l=>l.id===t);if(!n)return null;let r=V(n.index+1,e.length),o=e.find(l=>l.index===r);if(!o)return null;let a=V(n.index-1,e.length),i=e.find(l=>l.index===a);return[n,o,i]},Ge=(e,t)=>{if(e[0].disabled)return e;let n=[...e],r=n[0];return r.percent=t,n[0]=r,n},Ye=(e,t,n)=>{if(!n)return e;let r=e.findIndex(i=>i.id===n);if(r===-1||e[r].disabled)return e;let o=[...e],a=N({},o[r]);return a.percent=t,o[r]=a,o},qe=(e,t,n,r,o)=>{let[a,i,l]=qt(t,n),s=e-a.percent,u=Math.abs(o-r)/2;if(s!==0&&a.percent!==0&&e!==0){let d=Math.abs(s)>u?s<0:s>=0;d&&i.percent>=a.percent&&(e=Math.min(e,i.percent)),!d&&l.percent<=a.percent&&(e=Math.max(e,l.percent))}return e};var de=(e,t,n)=>{let[r,o]=e,[a,i]=t,l=Math.max(0,a*2-n),s=Math.max(0,i*2-n),u=r*2+n+l,d=o*2+n+s;return[u,d]},he=(e,t,n)=>{let[r,o]=de(e,t,n);return[M(r/2,2),M(o/2,2)]},Xe=(e,t,n,r,o)=>{let a=t,i=a-e<=180?0:1;e>a&&(a+=360);let l=he(n,r,o),s=ie(l,n,W(e)),u=ie(l,n,W(a));return{start:s,end:u,largeArcFlag:i}};import{forwardRef as Xt}from"react";import{jsx as Zt}from"react/jsx-runtime";var Wt=(e,t)=>{let{ellipse:n,strokeWidth:r,svgRadii:o,bgColor:a}=e,{start:i,end:l,largeArcFlag:s}=n;return Zt("path",{"data-type":"panel",ref:t,d:`M ${i[0]} ${i[1]} A ${o[0]} ${o[1]} 0 ${s} 1 ${l[0]} ${l[1]}`,stroke:a,strokeWidth:r,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer"})},We=Xt(Wt);import{useEffect as Kt,useState as fe}from"react";import{Fragment as jt,jsx as Ze}from"react/jsx-runtime";var Qt=e=>{let{pointers:t,ellipse:n,strokeWidth:r,svgCenter:o,svgRadii:a,connectionBgColor:i,startEndAngle:l}=e,{start:s}=n,[u,d]=l,[x,m]=fe(null),[g,h]=fe(null),[R,A]=fe(0);return Kt(()=>{if(!t||t.length<=0)return;if(t.length<=1){let D=t[0],{position:O,angleDegrees:oe}=q(D.percent,u,d,a,o);m(s),h(O),A(Math.abs(oe-u)<=180?0:1);return}let T=Ue(t);if(T===null)return;let b=T[0],P=T[1],{position:S,angleDegrees:B}=q(b.percent,u,d,a,o),{position:C,angleDegrees:_}=q(P.percent,u,d,a,o);m(S),h(C),A(Math.abs(_-B)<=180?0:1)},[d,t,s,u,o,a]),Ze(jt,{children:x!==null&&g!==null&&Ze("path",{"data-type":"panel-fill",d:`M ${x[0]} ${x[1]} A ${a[0]} ${a[1]} 0 ${R} 1 ${g[0]} ${g[1]}`,stroke:i,strokeWidth:r+1,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer",pointerEvents:"none"})})},Ke=Qt;import{useEffect as Qe,useState as je}from"react";import{Fragment as Je,jsx as re,jsxs as en}from"react/jsx-runtime";var Jt=e=>{let{id:t,pointer:n,startEndAngle:r,svgRadii:o,svgCenter:a,pointerBgColor:i,pointerSVG:l,disabledPointerStyle:s,min:u,max:d,round:x,data:m,ariaLabel:g}=e,{percent:h,pointerRadii:R}=n,[A,T]=R,[b,P]=r,[S,B]=je(null),[C,_]=je("");Qe(()=>{let{position:O}=q(h,b,P,o,a);B(O)},[h,o,a,b,P]),Qe(()=>{_(ne(h,u,d,x,m))},[u,d,x,m,h]);let D=N({},Le);return n.disabled&&(D=N(N({},D),s)),S?en(Je,{children:[!l&&re("ellipse",{className:n.disabled?"disabled":void 0,style:D,"aria-disabled":n.disabled?!0:void 0,"aria-valuenow":C,"aria-valuetext":(C||"").toString(),"aria-label":g,"data-type":"pointer","data-index":n.index,"data-id":t,"data-percent":n.percent,cx:S[0],cy:S[1],rx:A,ry:T,cursor:"pointer",tabIndex:0,role:"slider",fill:i}),l&&re("g",{className:n.disabled?"disabled":void 0,style:D,"aria-disabled":n.disabled?!0:void 0,"aria-valuenow":C,"aria-valuetext":C.toString(),"aria-label":g,"data-type":"pointer","data-index":n.index,"data-id":t,"data-percent":n.percent,cursor:"pointer",transform:`translate(${S[0]-A/2}, ${S[1]-T/2})`,tabIndex:0,role:"slider",children:re("g",{pointerEvents:"none",children:l})})]}):re(Je,{})},et=Jt;import{useEffect as tn,useState as nn}from"react";import{jsx as on}from"react/jsx-runtime";var rn=e=>{let{svgCenter:t,round:n,min:r,max:o,pointers:a,data:i,textPrefix:l,textSuffix:s}=e,[u,d]=t,[x,m]=nn("");return tn(()=>{let g=[];for(let h of a){let R=ne(h.percent,r,o,n,i);g.push(`${l||""}${R}${s||""}`)}m(g.join(" "))},[i,o,r,a,n,l,s]),on("text",{x:u,y:d,style:{userSelect:"none"},textAnchor:"middle",children:x})},tt=rn;import{useEffect as an,useState as sn}from"react";import{jsx as nt}from"react/jsx-runtime";var ln=(e,t,n)=>{var a;let r=[],o=e===0?0:t/e;for(let i=0;i<e;i++){let l=i*o,s=(a=n==null?void 0:n.current)==null?void 0:a.getPointAtLength(l),u=s?s.x:0,d=s?s.y:0;r.push({distance:l,x:u,y:d})}return r},un=e=>{let{ticksColor:t,ticksSize:n,ticsCount:r,totalLength:o,sliderRef:a,svgCenter:i}=e,[l,s]=sn([]);an(()=>{s(ln(r,o,a))},[r,o,a]);let[u,d]=i;return nt("g",{children:l.map((x,m)=>{let{x:g,y:h}=x,A=Math.sqrt(Math.pow(u-g,2)+Math.pow(d-h,2))*.1,T=Ae([u-g,d-h]),b=Re(T,A),P=g+b[0],S=h+b[1];return nt("line",{x1:g,y1:h,x2:P,y2:S,strokeWidth:n||Z,stroke:t},m)})})},rt=un;import{jsx as Q,jsxs as fn}from"react/jsx-runtime";var Rr=e=>{var Pe;let t=ge(null),n=ge(null),r=ge("click"),[o,a]=f(null),[i,l]=f([0,0]),[s,u]=f(0),[d,x]=f([0,0]),[m,g]=f([]),[h,R]=f([0,0]),[A,T]=f([0,0]),[b,P]=f([0,0]),[S,B]=f([0,0]),[C,_]=f({start:[0,0],end:[0,0],largeArcFlag:0}),[D,O]=f(le),[oe,ot]=f(ue),[xe,at]=f(Y),[it,st]=f(!1),[$,lt]=f(!1),[ut,ct]=f(void 0),[be,mt]=f(!1),[dt,ht]=f(!1),[ve,ft]=f(ce),[w,y]=d,[gt,xt]=A,[F,U]=S,[bt,vt]=f(!1),[pt,St]=f(""),[Mt,Pt]=f(""),[Et,Tt]=f(!1),[Ct,It]=f(Z),[Rt,At]=f(0);p(()=>{Tt(G(e.disableTicks,!1)),It(v(e.ticksSize,Z));let c=v(e.ticsCount,0);c||(e.data&&e.data.length>0?c=e.data.length-1:c=Math.abs(F-U)%360*(y-w)/360),At(c)},[e.disableTicks,e.ticksSize,e.ticsCount,y,w,e.data,F,U]),p(()=>{O(te(e.bgColor,le)),ot(te(e.connectionBgColor,ue)),at(te(e.pointerBgColor,Y))},[e.bgColor,e.connectionBgColor,e.pointerBgColor]),p(()=>{st(G(e.pointersOverlap,!1))},[e.pointersOverlap]),p(()=>{lt(G(e.disabled,!1)),ct(e.disabledPointerStyle||we),mt(G(e.keyboardDisabled,!1)),ht(G(e.mousewheelDisabled,!1))},[e.disabled,e.disabledPointerStyle,e.keyboardDisabled,e.mousewheelDisabled]),p(()=>{l([v(e.rx,150),v(e.ry,150)])},[e.rx,e.ry]),p(()=>{u(v(e.strokeWidth,5))},[e.strokeWidth]),p(()=>{x($e(e.min,e.max,e.data))},[e.min,e.max,e.data]),p(()=>{g(Fe(e.pointers,w,y,e.data,xe,e.pointerSVG))},[e.pointers,e.data,w,y,xe,e.pointerSVG]),p(()=>{R(Oe(m))},[m]),p(()=>{T(de(i,h,s))},[i,h,s]),p(()=>{P(he(i,h,s))},[i,h,s]),p(()=>{B(_e(e.startAngleDegrees,e.endAngleDegrees))},[e.startAngleDegrees,e.endAngleDegrees]),p(()=>{_(Xe(F,U,i,h,s))},[F,U,i,h,s]),p(()=>{ft(v(e.round,ce))},[e.round]),p(()=>{vt(e.hideText),St(e.textPrefix),Pt(e.textSuffix)},[e.hideText,e.textPrefix,e.textSuffix]);let H=c=>{var X;if($||!t||!t.current)return;let E=c.type.indexOf("mouse")!==-1?c.clientX:c.touches[0].clientX,k=c.type.indexOf("mouse")!==-1?c.clientY:c.touches[0].clientY,I=He(t.current,[E,k],b,i,F,U,w,y,e.data,e.step);if(m.length<=1){a(((X=m[0])==null?void 0:X.id)||null),g(z=>Ge(z,I));return}let L=o;a(z=>(L=ze(c.target,m,I,z,F,U,r.current),L)),L!==null&&g(z=>(it||y===w||(I=qe(I,z,L,w,y)),Ye(z,I,L)))},Dt=c=>{if($)return;let E=c.target;!E||!(E===n.current||E.getAttribute("data-type")==="pointer")||(H(c),window.addEventListener("mousemove",H),window.addEventListener("mouseup",pe),r.current="drag")},pe=c=>{window.removeEventListener("mousemove",H),window.removeEventListener("mouseup",H),r.current="click"},ae=c=>{let E=K(m,o);if(E===-1)return;let k=N({},m[E]),I=k.percent;if(!J(I))return;let L=me(w,y,e.data,e.step);L===void 0&&(L=1),c?I-=L:I+=L,I>100&&(I=100),k.percent=I;let X=[...m];X[E]=k,g(X)},Se=()=>{if($||be)return;let c=K(m,o);c===-1||m[c].disabled||ae(!1)},Me=()=>{if($||be)return;let c=K(m,o);c===-1||m[c].disabled||ae(!0)};return fn("svg",{"data-type":"bg",xmlns:"http://www.w3.org/2000/svg",ref:t,width:gt,height:xt,onMouseDown:Dt,onMouseUp:pe,onTouchMove:H,onTouchStart:H,onKeyDown:c=>{switch(c.key){case"ArrowLeft":{c.preventDefault(),Se();break}case"ArrowRight":{c.preventDefault(),Me();break}case"ArrowUp":{c.preventDefault(),Se();break}case"ArrowDown":{c.preventDefault(),Me();break}}},className:$?"disabled":void 0,"aria-disabled":$?!0:void 0,tabIndex:0,focusable:!0,onWheel:c=>{if($||dt)return;let E=K(m,o);if(E===-1||m[E].disabled)return;c.stopPropagation();let k=c.deltaY<0;ae(!k)},style:ye,children:[Q(We,{ref:n,ellipse:C,strokeWidth:s,svgRadii:i,bgColor:D}),!Et&&Q(rt,{sliderRef:n,ticksSize:Ct,ticksColor:D,ticsCount:Rt,totalLength:((Pe=n==null?void 0:n.current)==null?void 0:Pe.getTotalLength())||0,svgCenter:b}),Q(Ke,{pointers:m,ellipse:C,svgRadii:i,strokeWidth:s,connectionBgColor:oe,startEndAngle:S,svgCenter:b}),m.map(c=>Q(et,{pointer:c,id:c.id,startEndAngle:S,svgRadii:i,svgCenter:b,pointerBgColor:c.bgColor,pointerSVG:e.pointerSVG||c.pointerSVG,disabledPointerStyle:ut,min:w,max:y,round:ve,data:e.data,ariaLabel:c.ariaLabel},c.id)),!bt&&Q(tt,{svgCenter:b,round:ve,min:w,max:y,pointers:m,data:e.data,textPrefix:pt,textSuffix:Mt})]})};export{Rr as RoundSlider};
//# sourceMappingURL=mz-react-round-slider.esm.js.map
