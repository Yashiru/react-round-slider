/* 
MZ React Round Slider v1.0.0
https://github.com/mzusin/react-round-slider
MIT License      
Copyright (c) 2023-present, Miriam Zusin          
*/
var $e=Object.defineProperty;var re=Object.getOwnPropertySymbols;var ze=Object.prototype.hasOwnProperty,Ge=Object.prototype.propertyIsEnumerable;var oe=(e,t,n)=>t in e?$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N=(e,t)=>{for(var n in t||(t={}))ze.call(t,n)&&oe(e,n,t[n]);if(re)for(var n of re(t))Ge.call(t,n)&&oe(e,n,t[n]);return e};import{useEffect as te,useRef as Ft,useState as ne}from"react";var Xe=Math.pow,S=(e,t=1/0)=>{if(t===1/0)return e;t<0&&(t=0);let n=Xe(10,t);return Math.round(e*n)/n},I=(e,t)=>(e%t+t)%t,v=(e,t,n,o,r)=>(r-o)*(e-t)/(n-t)+o;var se=e=>!isNaN(parseFloat(e))&&isFinite(e);var ae=(e,t=1/0)=>{let n=e*(180/Math.PI);return S(n,t)},C=(e,t=1/0)=>{let n=e*(Math.PI/180);return S(n,t)};var ie=(e,t,n=1/0)=>{let o=[];for(let r=0;r<e.length;r++)o.push(S(e[r]-t[r],n));return o},le=(e,t,n=1/0)=>ie(e,t,n);var qe=(e,t,n=1/0)=>{let o=[];for(let r=0;r<e.length;r++)o.push(S(e[r]*t,n));return o},V=(e,t,n=1/0)=>qe(e,t,n);var ue=(e,t=1/0)=>{let n=0;for(let o=0;o<e.length;o++)n+=e[o]*e[o];return S(Math.sqrt(n),t)};var H=(e,t,n=1/0)=>{let o=ie(e,t);return ue(o,n)};var Ye=(e,t=1/0)=>{let n=ue(e),o=[];for(let r=0;r<e.length;r++)o.push(n===0?0:S(e[r]/n,t));return o},ce=(e,t=1/0)=>Ye(e,t);var M=(e,t,n)=>(t=t%Math.PI*2,[e[0]+Math.cos(t)*n,e[1]+Math.sin(t)*n]);var K=()=>Math.random().toString(36).substring(2)+new Date().getTime().toString(36);var me=(e,t,n,o,r,s)=>{let a=t+n*2,i=Math.max(0,o*2-a),u=e*2+a+i,[l,c]=Ke(e,o,t,n);return{cx:l,cy:c,radius:e,size:u,thickness:t,border:n,startAngleDeg:r,endAngleDeg:s}},Ke=(e,t,n,o)=>{let r=We(e,t,n,o),s=S(r/2,2);return[s,s]},We=(e,t,n,o)=>{let r=n+o*2,s=Math.max(0,t*2-r);return e*2+r+s};var ge="#efefef";var de="#444444";var W="#163a86",Z="#000",Q="#a8a8a8";var j="#000",he="#5daed2",fe="#000";var pe="#efefef",xe="#000";var g=(e,t)=>se(e)?Number(e):t,x=(e,t)=>e==null?t:e,P=(e,t)=>e==null?t:e;var $=(e,t,n)=>(e>t&&(t+=360),n>=e&&n<=t||n+360>=e&&n+360<=t),O=(e,t)=>{t<e&&(t+=360);let n=t-e,o=I(n,360);return o===0&&n>0?360:o},be=(e,t,n)=>{e>t&&(t+=360);let o=2*Math.PI*n;e>t&&(t+=360);let r=t-e,s=-(e/360)*o,a=r/360*o,i=o-a;return{strokeDasharray:[a,i].join(" "),strokeOffset:s}};var L=(e,t,n,o,r,s,a)=>{let{left:i,top:u}=e.getBoundingClientRect(),l=[t-i,n-u],c=le(l,[o,r]),m=Math.atan2(c[1]/a,c[0]/s);return m<0&&(m+=2*Math.PI),ae(m)},Te=(e,t,n,o)=>{o<n&&(n-=360),t>180&&(t-=360);let r=v(t,n,o,e.min,e.max),s=Math.abs(e.max-e.min);if(r!==e.max&&(r=I(r,s)),e.data.length>0){let a=Math.round(r);r=e.data[a]}else r=S(r,e.round);return r},Ze=(e,t,n,o)=>{let r;if(o<n&&(o+=360),e.data.length>0){let s=e.data.findIndex(a=>a===t);r=s===-1?0:s}else r=typeof t!="number"?e.min:t;return I(v(r,e.min,e.max,n,o),360)},Qe=(e,t)=>{if(!e||!e.pointers||e.pointers.length<0||!t)return[{id:K(),index:0,radius:10,angleDeg:I(g(e.pathStartAngle,0),360),bgColor:x(e.pointerBgColor,W),bgColorSelected:x(e.pointerBgColorSelected,Z),bgColorDisabled:x(e.pointerBgColorDisabled,Q),border:g(e.pointerBorder,0),borderColor:x(e.pointerBorderColor,j),disabled:!!e.disabled}];let n=[];for(let o=0;o<e.pointers.length;o++){let r=e.pointers[o],s=r.bgColor?r.bgColor:x(e.pointerBgColor,W),a=r.bgColorSelected?r.bgColorSelected:x(e.pointerBgColorSelected,Z),i=r.bgColorDisabled?r.bgColorDisabled:x(e.pointerBgColorDisabled,Q),u=r.border?r.border:g(e.pointerBorder,0),l=r.borderColor?r.borderColor:x(e.pointerBorderColor,j),c=r.disabled!==void 0?r.disabled:P(e.disabled,!1),m=Ze(t,r.value,g(e.pathStartAngle,0),g(e.pathEndAngle,360)),d=J(m,t.stepAngleDeg);n.push({id:K(),index:o,radius:g(r.radius,10),angleDeg:d,bgColor:s,bgColorSelected:a,bgColorDisabled:i,border:u,borderColor:l,disabled:c})}return n},Se=(e,t)=>{let n=Qe(e,t);return{pointers:n,maxRadius:je(n)}},je=e=>{if(e.length<=0)return 0;let t=-1/0;for(let n of e)t=Math.max(t,Math.max(0,n.radius+n.border/2));return t},z=(e,t,n,o,r)=>{if(!e||e.length<=0)return null;if(e.length===1)return e[0];let s=v(C(t),0,Math.PI*2,0,Math.PI),a=M([n,o],s,r),i,u=null,l=e.filter(c=>!c.disabled);for(let c of l){let m=v(C(c.angleDeg),0,Math.PI*2,0,Math.PI),d=M([n,o],m,r),f=H(a,d);(i===void 0||f<i)&&(i=f,u=c)}return N({},u)},G=(e,t,n,o,r,s)=>{let a=v(C(n),0,Math.PI*2,0,Math.PI),i=M([o,r],a,s),u=v(C(e),0,Math.PI*2,0,Math.PI),l=M([o,r],u,s),c=v(C(t),0,Math.PI*2,0,Math.PI),m=M([o,r],c,s),d=H(i,l),f=H(i,m);return d<=f?e:t},Ie=(e,t)=>{if(!e||e.length<=0)return null;let n,o,r=null,s=null;for(let a of e){let i=O(t,a.angleDeg);(n===void 0||i<n)&&(r=a,n=i),(o===void 0||i>o)&&(s=a,o=i)}return r===null||s===null?null:[r,s]},J=(e,t)=>t===0?0:Math.round(e/t)*t;import{useEffect as Ae,useState as Je,useRef as et,useCallback as tt}from"react";import{Fragment as ot,jsx as ee}from"react/jsx-runtime";var nt={outline:"none"},rt=e=>{let t=et(null),{pointer:n,svg:o,$svg:r,setPointer:s,data:a,settings:i}=e,{radius:u,angleDeg:l,bgColor:c,bgColorSelected:m,border:d,borderColor:f}=e.pointer,{cx:p,cy:T}=o,[b,y]=Je(null);Ae(()=>{let h=v(C(l),0,Math.PI*2,0,Math.PI),A=M([p,T],h,o.radius);y(A)},[l,p,T,o.radius]);let R=tt(h=>{if(!r||i.disabled||n.disabled)return;let A=h.type.indexOf("mouse")!==-1?h.clientX:h.touches[0].clientX,_=h.type.indexOf("mouse")!==-1?h.clientY:h.touches[0].clientY,D=L(r,A,_,o.cx,o.cy,o.radius,o.radius);$(o.startAngleDeg,o.endAngleDeg,D)?n.angleDeg=D:n.angleDeg=G(o.startAngleDeg,o.endAngleDeg,n.angleDeg,o.cx,o.cy,o.radius),s(n)},[r,n,s,o.cx,o.cy,o.endAngleDeg,o.radius,o.startAngleDeg,i.disabled]),U=()=>{window.removeEventListener("mousemove",R),window.removeEventListener("mouseup",R)},q=h=>{i.disabled||n.disabled||!h.target||(R(h),window.addEventListener("mousemove",R),window.addEventListener("mouseup",U))},Y=h=>{if(!(i.disabled||n.disabled||i.keyboardDisabled))switch(h.key){case"ArrowLeft":{h.preventDefault(),n.angleDeg+=a.stepAngleDeg,s(n);break}case"ArrowRight":{h.preventDefault(),n.angleDeg-=a.stepAngleDeg,s(n);break}case"ArrowUp":{h.preventDefault(),n.angleDeg-=a.stepAngleDeg,s(n);break}case"ArrowDown":{h.preventDefault(),n.angleDeg+=a.stepAngleDeg,s(n);break}}};return Ae(()=>{let h=t.current,A=D=>{i.disabled||n.disabled||(D.preventDefault(),D.stopPropagation(),R(D))},_=D=>{if(i.disabled||n.disabled||i.mousewheelDisabled||document.activeElement!==h)return;D.stopPropagation(),D.preventDefault(),D.deltaY<0?n.angleDeg+=a.stepAngleDeg:n.angleDeg-=a.stepAngleDeg,s(n)};return h==null||h.addEventListener("touchmove",A,{passive:!1}),document.addEventListener("wheel",_,{passive:!1}),()=>{h==null||h.removeEventListener("touchmove",A),document.removeEventListener("wheel",_)}},[b,R,a.stepAngleDeg,n,s,i.disabled,i.mousewheelDisabled]),ee(ot,{children:b&&ee("g",{ref:t,transform:`translate(${b[0]-u/2}, ${b[1]-u/2})`,"data-type":"pointer",cursor:"pointer",tabIndex:0,role:"slider","data-angle":n.angleDeg,"data-id":n.id,"data-index":n.index,onMouseDown:q,onKeyDown:Y,style:nt,children:ee("circle",{cx:u/2,cy:u/2,r:u,fill:document.activeElement===t.current&&m||c,strokeWidth:d,stroke:f})})})},Ee=rt;import{Fragment as at,jsx as Ce}from"react/jsx-runtime";var st=e=>{let{pointers:t,settings:n,svg:o,$svg:r,setPointer:s,data:a}=e;return Ce(at,{children:t.pointers.map(i=>Ce(Ee,{pointer:i,svg:o,settings:n,$svg:r,setPointer:s,data:a},i.id))})},Me=st;var Re=e=>{let t=g(e.min,0),n=g(e.max,100),o=g(e.step,1),r=g(e.arrowStep,1),s=g(e.round,0),a=e.data||[];if(a.length>0){let d=a.findIndex(p=>p===t),f=a.findIndex(p=>p===n);t=d===-1?0:d,n=f===-1?a.length:f}else t>n&&(t=n+100);let i=g(e.pathStartAngle,0),u=g(e.pathEndAngle,360),l=I(i,360)===I(u,360),c=o*360/(n-t),m=r*360/(n-t);return{min:t,max:n,round:s,data:a,stepAngleDeg:c,arrowStepAngleDeg:m,isClosedShape:l}};import{useEffect as mt,useState as gt}from"react";var _e=(e,t,n,o,r,s)=>{if(!e.pointers||e.pointers.length<=0)return null;let a={radius:t,cx:n,cy:o,startAngleDeg:r,endAngleDeg:r,strokeDasharray:[0,0],strokeOffset:0};if(e.pointers.length===1)a.startAngleDeg=r,a.endAngleDeg=e.pointers[0].angleDeg;else{let p=Ie(e.pointers,r);if(!p)return null;let[T,b]=p;a.startAngleDeg=T.angleDeg,a.endAngleDeg=b.angleDeg}let i=O(r,s);a.startAngleDeg>a.endAngleDeg&&(a.endAngleDeg+=360);let u=O(a.startAngleDeg,a.endAngleDeg);u>i&&(u=360-u,[a.startAngleDeg,a.endAngleDeg]=[a.endAngleDeg,a.startAngleDeg]);let c=2*Math.PI*t,m=-(a.startAngleDeg/360)*c,d=u/360*c,f=c-d;return a.strokeDasharray=[d,f],a.strokeOffset=m,a};import{Fragment as ht,jsx as ke}from"react/jsx-runtime";var dt=e=>{let{settings:t,pointers:n,$svg:o,svg:r,setPointer:s}=e,[a,i]=gt(null);mt(()=>{i(_e(n,r.radius,r.cx,r.cy,r.startAngleDeg,r.endAngleDeg))},[n,r.radius,r.cx,r.cy,r.startAngleDeg,r.endAngleDeg]);let u=l=>{if(!o||t.disabled)return;let c=L(o,l.clientX,l.clientY,r.cx,r.cy,r.radius,r.radius),m=z(n.pointers,c,r.cx,r.cy,r.radius);m&&(m.angleDeg=c,s(m))};return ke(ht,{children:!P(t.hideConnection,!1)&&a&&ke("circle",{cx:a.cx,cy:a.cy,r:a.radius,strokeDasharray:a.strokeDasharray.join(" "),strokeDashoffset:a.strokeOffset,stroke:x(t.connectionBgColor,he),strokeWidth:r.thickness+1,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer",onClick:u,"data-type":"connection"})})},Le=dt;import{useEffect as pt,useState as xt}from"react";import{Fragment as Dt,jsx as we}from"react/jsx-runtime";var bt=e=>{let{settings:t,pointers:n,svg:o,data:r}=e,{cx:s,cy:a}=o,[i,u]=xt("");pt(()=>{let c=n.pointers.map(d=>Te(r,d.angleDeg,o.startAngleDeg,o.endAngleDeg));c.sort((d,f)=>d.toString().localeCompare(f.toString(),"en",{numeric:!0}));let m=c.map(d=>`${t.textPrefix||""}${d}${t.textSuffix||""}`);u(m.join(" "))},[r,n.pointers,o.startAngleDeg,o.endAngleDeg,t.textPrefix,t.textSuffix]);let l=P(t.hideText,!1);return we(Dt,{children:!l&&we("text",{x:s,y:a,fill:x(t.textColor,fe),fontSize:g(t.textFontSize,16),fontFamily:t.textFontFamily,style:{userSelect:"none"},textAnchor:"middle",children:i})})},ye=bt;import{useEffect as Ue,useState as Be,Fragment as Et}from"react";var Oe=(e,t)=>{let n=g(e.ticsCount,0);n||(t.data&&t.data.length>0?n=t.data.length:n=t.max);let o=g(e.ticksHeight,20);return{ticksCount:n,disableTicks:P(e.disableTicks,!1),ticksWidth:g(e.ticksWidth,3),ticksHeight:o,longerTicksHeight:g(e.longerTicksHeight,o*2),ticksDistanceToPanel:g(e.ticksDistanceToPanel,0),tickValuesDistance:g(e.tickValuesDistance,15),ticksColor:x(e.ticksColor,pe),tickValuesColor:x(e.tickValuesColor,xe),tickValuesFontSize:g(e.tickValuesFontSize,12),ticksGroupSize:g(e.ticksGroupSize,10),longerTickValuesOnly:P(e.longerTickValuesOnly,!0),showTickValues:P(e.showTickValues,!0)}},Fe=(e,t,n,o,r,s)=>{let a=[],i=Math.abs(o-n),u=t===0?0:i/t,l=t;s.isClosedShape||l++;for(let c=0;c<l;c++){let m=n+c*u,d=v(C(m),0,Math.PI*2,0,Math.PI),[f,p]=M([r.cx,r.cy],d,r.radius),T=e.ticksGroupSize!==void 0&&c%e.ticksGroupSize===0,b=e.ticksHeight;T&&(b=e.longerTicksHeight);let y=ce([r.cx-f,r.cy-p]),R=V(y,b),U=V(y,e.ticksDistanceToPanel);f+=U[0],p+=U[1];let q=f+R[0],Y=p+R[1],h;if(e.showTickValues&&(!e.longerTickValuesOnly||e.longerTickValuesOnly&&(T||e.ticksGroupSize===void 0))){let E=v(c,0,t,s.min,s.max);if(s.data.length>0){let B=Math.round(E);E=s.data[B]}else E=S(E,s.round);h=(E!=null?E:"").toString()}let A=0,_=0,D=h!==void 0;if(D){let E=g(b+e.tickValuesDistance,b*1.5),B=V(y,E);A=f+B[0],_=p+B[1]}a.push({x:f,y:p,x1:q,y1:Y,textX:A,textY:_,isLonger:T,tickValue:h,showText:D})}return a};import{Fragment as Pt,jsx as X,jsxs as Mt}from"react/jsx-runtime";var Ct=e=>{let{settings:t,svg:n,data:o}=e,[r,s]=Be(null),[a,i]=Be([]);return Ue(()=>{s(Oe(t,o))},[t,o]),Ue(()=>{if(!r)return;let u=n.endAngleDeg;u<n.startAngleDeg&&(u+=360),i(Fe(r,r.ticksCount,n.startAngleDeg,u,n,o))},[o,n,r]),X(Pt,{children:r&&!r.disableTicks&&X("g",{children:a.map((u,l)=>{let{x:c,y:m,x1:d,y1:f,textX:p,textY:T,showText:b}=u;return Mt(Et,{children:[X("line",{x1:c,y1:m,x2:d,y2:f,strokeWidth:r.ticksWidth,stroke:r.ticksColor}),b&&X("text",{x:p,y:T,textAnchor:"middle",dominantBaseline:"middle",fill:r.tickValuesColor,fontSize:r.tickValuesFontSize,fontFamily:t.tickValuesFontFamily,style:{userSelect:"none"},children:u.tickValue})]},l)})})})},Ne=Ct;import{useEffect as Rt,useState as _t}from"react";import{jsx as Ve,jsxs as Lt}from"react/jsx-runtime";var kt=e=>{let{settings:t,pointers:n,$svg:o,svg:r,setPointer:s}=e,[a,i]=_t({strokeDasharray:"0 1000000",strokeOffset:0});return Rt(()=>{i(be(r.startAngleDeg,r.endAngleDeg,r.radius))},[r.startAngleDeg,r.endAngleDeg,r.radius]),Lt("g",{onClick:l=>{if(!o||t.disabled)return;let c=L(o,l.clientX,l.clientY,r.cx,r.cy,r.radius,r.radius),m=z(n.pointers,c,r.cx,r.cy,r.radius);m&&(m.angleDeg=c,s(m))},children:[r.border>0&&Ve("circle",{strokeDasharray:a.strokeDasharray,strokeDashoffset:a.strokeOffset,cx:r.cx,cy:r.cy,r:r.radius,stroke:x(t.pathBorderColor,de),strokeWidth:r.thickness+r.border*2,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer","data-type":"path-border"}),Ve("circle",{strokeDasharray:a.strokeDasharray,strokeDashoffset:a.strokeOffset,cx:r.cx,cy:r.cy,r:r.radius,stroke:x(t.pathBgColor,ge),strokeWidth:r.thickness,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer","data-type":"path"})]})},He=kt;import{Fragment as Bt,jsx as w,jsxs as Ut}from"react/jsx-runtime";var Mr=e=>{let[t,n]=ne(null),[o,r]=ne(null),[s,a]=ne(null),i=Ft(null);te(()=>{n(Re(e))},[e]),te(()=>{a(Se(e,t))},[e,t]),te(()=>{s&&r(me(g(e.pathRadius,150),g(e.pathThickness,5),g(e.pathBorder,0),s.maxRadius,g(e.pathStartAngle,0),g(e.pathEndAngle,360)))},[e.pathRadius,e.pathThickness,e.pathBorder,e.pathStartAngle,e.pathEndAngle,s]);let u=l=>{if(e.disabled||!s.pointers||!l||l.disabled)return;if(l.angleDeg=J(l.angleDeg,t.stepAngleDeg),!e.pointersOverlap&&s.pointers.length>1){let d,f;if(t.isClosedShape){let p=I(l.index-1,s.pointers.length),T=I(l.index+1,s.pointers.length);d=s.pointers[p].angleDeg,f=s.pointers[T].angleDeg}else d=l.index===0?o.startAngleDeg:s.pointers[l.index-1].angleDeg,f=l.index===s.pointers.length-1?o.endAngleDeg:s.pointers[l.index+1].angleDeg;f<=d&&(f+=360),$(d,f,l.angleDeg)||(l.angleDeg=G(d,f,l.angleDeg,o.cx,o.cy,o.radius))}let m=N({},s);m.pointers=[...s.pointers],m.pointers[l.index]=l,s.pointers=m.pointers,a(m)};return w(Bt,{children:o&&Ut("svg",{ref:i,xmlns:"http://www.w3.org/2000/svg",width:o.size,height:o.size,tabIndex:0,focusable:!0,style:{outline:"none"},children:[w(Ne,{settings:e,svg:o,data:t}),w(He,{settings:e,pointers:s,svg:o,$svg:i.current,setPointer:u}),w(Le,{settings:e,pointers:s,svg:o,$svg:i.current,setPointer:u}),w(Me,{settings:e,pointers:s,svg:o,$svg:i.current,setPointer:u,data:t}),w(ye,{settings:e,pointers:s,svg:o,data:t})]})})};export{Mr as RoundSlider};
//# sourceMappingURL=mz-react-round-slider.esm.js.map
