/* 
MZ React Round Slider v1.0.0
https://github.com/mzusin/react-round-slider
MIT License      
Copyright (c) 2023-present, Miriam Zusin          
*/
var ie=Object.defineProperty,le=Object.defineProperties;var ue=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var me=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable;var B=(e,r,t)=>r in e?ie(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,y=(e,r)=>{for(var t in r||(r={}))me.call(r,t)&&B(e,t,r[t]);if(G)for(var t of G(r))he.call(r,t)&&B(e,t,r[t]);return e},Y=(e,r)=>le(e,ue(r));import{useContext as Se,useRef as re,useState as be}from"react";import{createContext as ve}from"react";var ce=Math.pow,m=(e,r=1/0)=>{if(r===1/0)return e;r<0&&(r=0);let t=ce(10,r);return Math.round(e*t)/t},b=(e,r)=>(e%r+r)%r,q=(e,r,t,n,o)=>(o-n)*(e-r)/(t-r)+n;var X=e=>!isNaN(parseFloat(e))&&isFinite(e),I=(e,r,t,n=1/0)=>{let[o,a]=e,[i,s]=r;return[m(o+i*Math.cos(t),n),m(a+s*Math.sin(t),n)]},O=(e,r=1/0)=>{let t=Math.atan2(e[1],e[0]);return m(t,r)};var U=(e,r=1/0)=>{let t=e*(180/Math.PI);return m(t,r)},L=(e,r=1/0)=>{let t=e*(Math.PI/180);return m(t,r)};var N=(e,r,t=1/0)=>{let n=Math.abs(b(e,360)-b(r,360));return m(n<=180?n:360-n,t)};var ge=(e,r,t=1/0)=>{let n=[];for(let o=0;o<e.length;o++)n.push(m(e[o]-r[o],t));return n},W=(e,r,t=1/0)=>ge(e,r,t);var Q=(e,r,t,n)=>(r=r%Math.PI*2,[e[0]+Math.cos(r)*t,e[1]+Math.sin(r)*n]);var _="#efefef";var g=(e,r)=>X(e)?Number(e):r,Z=(e,r)=>e==null?r:e;var k=(e,r,t)=>t>=e&&t<=r||t+360>=e&&t+360<=r,j=(e,r)=>{let t=g(e,0),n=g(r,180);return t=b(t,360),n=b(n,360),t<0&&(t+=360),n<0&&(n+=360),n<t&&(n+=360),t===n&&(n+=359.999),[t,n]};var H=(e,r,t)=>{let[n,o]=e,[a,i]=r,s=Math.max(0,a*2-t),u=Math.max(0,i*2-t),h=n*2+t+s,v=o*2+t+u;return{svgWidth:h,svgHeight:v}},R=(e,r,t)=>{let[n,o]=e,[a,i]=r,s=Math.max(0,a*2-t),u=Math.max(0,i*2-t);return[m(n+t/2+s/2,2),m(o+t/2+u/2,2)]},$=(e,r,t,n,o)=>{let a=r,i=a-e<=180?0:1;e>a&&(a+=360);let s=R(t,n,o),u=I(s,t,L(e)),h=I(s,t,L(a));return{sliderStartPoint:u,sliderEndPoint:h,largeArcFlag:i}},K=(e,r,t,n,o,a,i,s)=>{let u=e.getBoundingClientRect(),[h,v]=r,p=h-u.left,x=v-u.top,M=W([p,x],t),c=O(M);c<0&&(c+=2*Math.PI);let S=U(c),f=N(S,o),D=N(S,a);return k(o,a,S)?(c=q(c,0,Math.PI*2,0,Math.PI),Q(t,c,n[0],n[1])):f<=D?i:s};console.log("getSVGCenter",R);var J=e=>{if(!e||e.length<=0)return[{pointerRadii:[10,10]}];let r=[];for(let t of e){let n=[g(t.rx,10),g(t.ry,10)];r.push({pointerRadii:n})}return r},pe=e=>{let r=-1/0,t=-1/0;for(let n of e)r=Math.max(r,n.pointerRadii[0]),t=Math.max(t,n.pointerRadii[1]);return[r,t]},ee=e=>{let r=J(e.pointers),t=[g(e.rx,200),g(e.ry,200)],[n,o]=j(e.startAngleDegrees,e.endAngleDegrees),a=g(e.strokeWidth,5),i=Z(e.bgColor,_),s=pe(r),{svgWidth:u,svgHeight:h}=H(t,s,a),{sliderStartPoint:v,sliderEndPoint:p,largeArcFlag:x}=$(n,o,t,s,a),M=R(t,s,a);return{pointers:r,svgRadii:t,startAngleDegrees:n,endAngleDegrees:o,strokeWidth:a,bgColor:i,svgWidth:u,svgHeight:h,svgCenter:M,sliderStartPoint:v,sliderEndPoint:p,largeArcFlag:x}},P=ve(Y(y(y({pointers:J(),svgRadii:[200,200],startAngleDegrees:DEFAULT_START_ANGLE,endAngleDegrees:DEFAULT_END_ANGLE,strokeWidth:5,bgColor:_},H([200,200],[10,10],5)),$(DEFAULT_START_ANGLE,DEFAULT_END_ANGLE,[200,200],[10,10],5)),{svgCenter:R([200,200],[10,10],5)}));import{useRef as xe}from"react";import{jsx as Me}from"react/jsx-runtime";var te=e=>{let r=xe(null),[t,n]=e.center,[o,a]=e.pointerRadii;return Me("ellipse",{"data-type":"pointer",ref:r,cx:t,cy:n,rx:o,ry:a,cursor:"pointer",fill:"#000"})};import{jsx as ne,jsxs as Re}from"react/jsx-runtime";var oe=()=>{let e=re(null),r=re(null),t=Se(P),{sliderStartPoint:n,sliderEndPoint:o,largeArcFlag:a,svgRadii:i,bgColor:s,strokeWidth:u,svgWidth:h,svgHeight:v,svgCenter:p,startAngleDegrees:x,endAngleDegrees:M}=t,[c,S]=be(t.pointers.map(()=>n)),f=l=>{if(!e||!e.current||!r||!r.current)return;let d=l.type.indexOf("mouse")!==-1?l.clientX:l.touches[0].clientX,z=l.type.indexOf("mouse")!==-1?l.clientY:l.touches[0].clientY,se=K(e.current,[d,z],p,i,x,M,n,o),F=[...c];F[0]=se,S(F)},D=l=>{let d=l.target;!d||!(d===r.current||d.getAttribute("data-type")==="pointer")||(l.preventDefault&&l.preventDefault(),f(l),window.addEventListener("mousemove",f),window.addEventListener("mouseup",V))},V=l=>{window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",f)};return Re("svg",{xmlns:"http://www.w3.org/2000/svg",ref:e,width:h,height:v,onMouseDown:D,onMouseUp:V,onTouchMove:f,onTouchStart:f,children:[ne("path",{ref:r,d:`M ${n[0]} ${n[1]} A ${i[0]} ${i[1]} 0 ${a} 1 ${o[0]} ${o[1]}`,stroke:s,strokeWidth:u,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer"}),c.map((l,d)=>ne(te,{center:l,pointerRadii:t.pointers[d].pointerRadii},d))]})};import{jsx as ae}from"react/jsx-runtime";var nt=e=>ae(P.Provider,{value:ee(e),children:ae(oe,{})});export{nt as RoundSlider};
//# sourceMappingURL=mz-react-round-slider.esm.js.map
