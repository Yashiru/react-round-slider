/* 
MZ React Round Slider v1.0.0
https://github.com/mzusin/react-round-slider
MIT License      
Copyright (c) 2023-present, Miriam Zusin          
*/
var zt=Object.defineProperty;var Ue=Object.getOwnPropertySymbols;var Xt=Object.prototype.hasOwnProperty,Yt=Object.prototype.propertyIsEnumerable;var $e=(e,n,t)=>n in e?zt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,U=(e,n)=>{for(var t in n||(n={}))Xt.call(n,t)&&$e(e,t,n[t]);if(Ue)for(var t of Ue(n))Yt.call(n,t)&&$e(e,t,n[t]);return e};import{useEffect as P,useRef as ke,useState as h}from"react";var Wt=Math.pow,A=(e,n=1/0)=>{if(n===1/0)return e;n<0&&(n=0);let t=Wt(10,n);return Math.round(e*t)/t},_=(e,n)=>(e%n+n)%n,me=(e,n,t,r,o)=>(o-r)*(e-n)/(t-n)+r;var de=e=>!isNaN(parseFloat(e))&&isFinite(e),Ce=(e,n,t,r=1/0)=>{let[o,a]=e,[i,l]=n;return[A(o+i*Math.cos(t),r),A(a+l*Math.sin(t),r)]};var Ge=(e,n=1/0)=>{let t=e*(180/Math.PI);return A(t,n)},ne=(e,n=1/0)=>{let t=e*(Math.PI/180);return A(t,n)};var fe=(e,n,t=1/0)=>{let r=Math.abs(_(e,360)-_(n,360));return A(r<=180?r:360-r,t)};var qt=(e,n,t=1/0)=>{let r=[];for(let o=0;o<e.length;o++)r.push(A(e[o]-n[o],t));return r},ze=(e,n,t=1/0)=>qt(e,n,t);var Kt=(e,n,t=1/0)=>{let r=[];for(let o=0;o<e.length;o++)r.push(A(e[o]*n,t));return r},he=(e,n,t=1/0)=>Kt(e,n,t);var Zt=(e,n=1/0)=>{let t=0;for(let r=0;r<e.length;r++)t+=e[r]*e[r];return A(Math.sqrt(t),n)};var Qt=(e,n=1/0)=>{let t=Zt(e),r=[];for(let o=0;o<e.length;o++)r.push(t===0?0:A(e[o]/t,n));return r},Xe=(e,n=1/0)=>Qt(e,n);var Ye=(e,n,t,r)=>(n=n%Math.PI*2,[e[0]+Math.cos(n)*t,e[1]+Math.sin(n)*r]);var De=()=>Math.random().toString(36).substring(2)+new Date().getTime().toString(36);var S=(e,n)=>de(e)?Number(e):n,ge=(e,n)=>e==null?n:e,Z=(e,n)=>e==null?n:e;var Ie="#efefef",Ae="#5daed2",Q="#333";var We={filter:"opacity(0.7) grayscale(100%)"},qe={outline:"none"},Ke={outline:"none"},Re=2,re=3,oe=20,xe="#000",be=16;var Ze=(e,n,t)=>t>=e&&t<=n||t+360>=e&&t+360<=n,Qe=(e,n)=>{let t=S(e,0),r=S(n,359.999);return t=_(t,360),r=_(r,360),t<0&&(t+=360),r<0&&(r+=360),r<t&&(r+=360),t===r&&(r+=359.999),[t,r]};var tt=e=>{if(e.length<=0)return[0,0];let n=-1/0,t=-1/0;for(let r of e){let[o,a]=r.pointerRadii;n=Math.max(n,Math.max(0,o)),t=Math.max(t,Math.max(0,a))}return[n,t]},nt=(e,n,t)=>{if(t&&t.length>0){let a=t.findIndex(u=>u===e),i=t.findIndex(u=>u===n),l=a===-1?0:a,s=i===-1?t.length:i;return[l,s]}let r=S(e,0),o=S(n,100);return r>o&&(o=r+100),[r,o]},tn=(e,n,t,r)=>{if(r&&r.length>0){let a=r.findIndex(i=>i===e);return a===-1?0:a}let o=S(e,n);return o<n&&(o=n),o>t&&(o=t),o};var $=(e,n,t,r,o)=>{let a=n===t?0:me(e,0,100,n,t);return o&&o.length>0?o[Math.round(a)]:A(a,r)},nn=(e,n)=>n===0?0:Math.round(e/n)*n,ye=(e,n,t,r)=>{if(r===void 0&&t&&(r=1),r===void 0)return;let o=n-e;return o===0?0:r*100/o},rt=(e,n,t,r,o,a)=>{let i=[],l=e||[];for(let s=0;s<l.length;s++){let u=l[s];if(u.rx<=0||u.ry<=0)continue;let f=tn(u.value,n,t,r),g=n===t?0:me(n,t,0,100,f),m={pointerRadii:[S(u.rx,10),S(u.ry,10)],percent:g,id:De(),index:0,bgColor:u.bgColor||o||Q,pointerSVG:a||u.pointerSVG,disabled:u.disabled===!0,keyboardDisabled:!1,mousewheelDisabled:!1,ariaLabel:u.ariaLabel};i.push(m)}if(i.length>1){i.sort((s,u)=>s.percent-u.percent);for(let s=0;s<i.length;s++)i[s].index=s}return!i||i.length<=0?[{pointerRadii:[10,10],percent:0,id:De(),index:0,bgColor:Q,disabled:!1,keyboardDisabled:!1,mousewheelDisabled:!1}]:i},j=(e,n,t,r,o)=>{let a=Math.abs(t-n),i=e*a/100,l=_(n+i,360),s=ne(l);return s=me(s,0,Math.PI*2,0,Math.PI),{position:Ye(o,s,r[0],r[1]),angleDegrees:l}},ot=e=>{if(!e||e.length<2)return null;let n=1/0,t=null,r=-1/0,o=null;for(let a=0;a<e.length;a++){let i=e[a];i.percent<n&&(n=i.percent,t=i),i.percent>r&&(r=i.percent,o=i)}return t===null||o===null?null:[t,o]},at=(e,n,t,r,o,a,i,l,s,u)=>{let[f,g]=n,{left:m,top:x}=e.getBoundingClientRect(),d=[f-m,g-x],M=ze(d,t),[T,C]=r,b=Math.atan2(M[1]/C,M[0]/T);b<0&&(b+=2*Math.PI);let E=Ge(b);if(!Ze(o,a,E)){let w=fe(E,o),G=fe(E,a);return w<=G?i:l}let N=Math.abs(a-o),D=E*100/N,k=ye(i,l,s,u),I=k===void 0?D:nn(D,k);return I===100?0:I},ae=(e,n)=>!e||!n?-1:e.findIndex(t=>t.id===n),rn=e=>e.getAttribute("data-type")==="panel",on=e=>e.getAttribute("data-type")==="connection",an=(e,n)=>e.getAttribute("data-type")==="pointer"&&e.getAttribute("data-id")===n||e.querySelector(`[data-type="pointer"][data-index="${n}"]`)!==null,it=(e,n,t,r,o,a,i)=>{if(n.length<=0)return null;if(n.length===1)return n[0].id;if(i==="drag")return r;if(rn(e)||on(e)){let l=Math.abs(a-o),s=t*l/100,u=1/0,f=null;for(let g=0;g<n.length;g++){let m=n[g],x=m.percent*l/100,d=fe(x,s);d<u&&(u=d,f=m.id)}return f}for(let l=0;l<n.length;l++){let s=n[l];if(an(e,s.id))return s.id}return r};var sn=(e,n)=>{let t=e.find(l=>l.id===n);if(!t)return null;let r=_(t.index+1,e.length),o=e.find(l=>l.index===r);if(!o)return null;let a=_(t.index-1,e.length),i=e.find(l=>l.index===a);return[t,o,i]},st=(e,n)=>{if(e[0].disabled)return e;let t=[...e],r=t[0];return r.percent=n,t[0]=r,t},lt=(e,n,t)=>{if(!t)return e;let r=e.findIndex(i=>i.id===t);if(r===-1||e[r].disabled)return e;let o=[...e],a=U({},o[r]);return a.percent=n,o[r]=a,o},ut=(e,n,t,r,o)=>{let[a,i,l]=sn(n,t),s=e-a.percent,u=Math.abs(o-r)/2;if(s!==0&&a.percent!==0&&e!==0){let f=Math.abs(s)>u?s<0:s>=0;f&&i.percent>=a.percent&&(e=Math.min(e,i.percent)),!f&&l.percent<=a.percent&&(e=Math.max(e,l.percent))}return e};var we=(e,n,t)=>{let[r,o]=e,[a,i]=n,l=Math.max(0,a*2-t),s=Math.max(0,i*2-t),u=r*2+t+l,f=o*2+t+s;return[u,f]},Le=(e,n,t)=>{let[r,o]=we(e,n,t);return[A(r/2,2),A(o/2,2)]},ct=(e,n,t,r,o)=>{let a=n,i=a-e<=180?0:1;e>a&&(a+=360);let l=Le(t,r,o),s=Ce(l,t,ne(e)),u=Ce(l,t,ne(a));return{start:s,end:u,largeArcFlag:i}};import{forwardRef as ln}from"react";import{jsx as cn}from"react/jsx-runtime";var un=(e,n)=>{let{ellipse:t,strokeWidth:r,svgRadii:o,bgColor:a}=e,{start:i,end:l,largeArcFlag:s}=t;return cn("path",{"data-type":"panel",ref:n,d:`M ${i[0]} ${i[1]} A ${o[0]} ${o[1]} 0 ${s} 1 ${l[0]} ${l[1]}`,stroke:a,strokeWidth:r,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer"})},mt=ln(un);import{useEffect as mn,useState as Ve}from"react";import{Fragment as fn,jsx as dt}from"react/jsx-runtime";var dn=e=>{let{pointers:n,ellipse:t,strokeWidth:r,svgCenter:o,svgRadii:a,connectionBgColor:i,connectionGradient:l,startEndAngle:s}=e,{start:u}=t,[f,g]=s,[m,x]=Ve(null),[d,M]=Ve(null),[T,C]=Ve(0);return mn(()=>{if(!n||n.length<=0)return;if(n.length<=1){let w=n[0],{position:G,angleDegrees:O}=j(w.percent,f,g,a,o);x(u),M(G),C(Math.abs(O-f)<=180?0:1);return}let b=ot(n);if(b===null)return;let E=b[0],p=b[1],{position:N,angleDegrees:D}=j(E.percent,f,g,a,o),{position:k,angleDegrees:I}=j(p.percent,f,g,a,o);x(N),M(k),C(Math.abs(I-D)<=180?0:1)},[g,n,u,f,o,a]),dt(fn,{children:m!==null&&d!==null&&dt("path",{"data-type":"connection",d:`M ${m[0]} ${m[1]} A ${a[0]} ${a[1]} 0 ${T} 1 ${d[0]} ${d[1]}`,stroke:l?"url(#connection)":i,strokeWidth:r+1,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer",pointerEvents:"none"})})},ft=dn;import{useEffect as ht,useState as gt}from"react";import{Fragment as xt,jsx as Se,jsxs as gn}from"react/jsx-runtime";var hn=e=>{let{id:n,pointer:t,startEndAngle:r,svgRadii:o,svgCenter:a,pointerBgColor:i,pointerSVG:l,disabledPointerStyle:s,min:u,max:f,round:g,data:m,ariaLabel:x}=e,{percent:d,pointerRadii:M}=t,[T,C]=M,[b,E]=r,[p,N]=gt(null),[D,k]=gt("");ht(()=>{let{position:w}=j(d,b,E,o,a);N(w)},[d,o,a,b,E]),ht(()=>{k($(d,u,f,g,m))},[u,f,g,m,d]);let I=U({},Ke);return t.disabled&&(I=U(U({},I),s)),p?gn(xt,{children:[!l&&Se("ellipse",{className:t.disabled?"disabled":void 0,style:I,"aria-disabled":t.disabled?!0:void 0,"aria-valuenow":D,"aria-valuetext":(D||"").toString(),"aria-label":x,"data-type":"pointer","data-index":t.index,"data-id":n,"data-percent":t.percent,cx:p[0],cy:p[1],rx:T,ry:C,cursor:"pointer",tabIndex:0,role:"slider",fill:i}),l&&Se("g",{className:t.disabled?"disabled":void 0,style:I,"aria-disabled":t.disabled?!0:void 0,"aria-valuenow":D,"aria-valuetext":D.toString(),"aria-label":x,"data-type":"pointer","data-index":t.index,"data-id":n,"data-percent":t.percent,cursor:"pointer",transform:`translate(${p[0]-T/2}, ${p[1]-C/2})`,tabIndex:0,role:"slider",children:Se("g",{pointerEvents:"none",children:l})})]}):Se(xt,{})},bt=hn;import{useEffect as xn,useState as bn}from"react";import{jsx as vn}from"react/jsx-runtime";var Sn=e=>{let{svgCenter:n,round:t,min:r,max:o,pointers:a,data:i,textPrefix:l,textSuffix:s,textColor:u,textFontSize:f,textFontFamily:g}=e,[m,x]=n,[d,M]=bn("");return xn(()=>{let T=[];for(let C of a){let b=$(C.percent,r,o,t,i);T.push(`${l||""}${b}${s||""}`)}M(T.join(" "))},[i,o,r,a,t,l,s]),vn("text",{x:m,y:x,fill:u||xe,fontSize:f||be,fontFamily:g,style:{userSelect:"none"},textAnchor:"middle",children:d})},St=Sn;import{Fragment as Tn,useEffect as Mn,useState as pn}from"react";import{jsx as _e,jsxs as Cn}from"react/jsx-runtime";var En=(e,n,t,r,o,a,i,l,s,u)=>{var m,x;let f=[],g=e===0?0:n/e;for(let d=0;d<e;d++){let M=d*g,T=(m=t==null?void 0:t.current)==null?void 0:m.getPointAtLength(M),C=T?T.x:0,b=T?T.y:0,E=l!==void 0&&d%l===0,p;s&&(!u||u&&(E||l===void 0))&&(p=((x=$(M*100/n,r,o,a,i))!=null?x:"").toString()),f.push({distance:M,x:C,y:b,isLonger:E,tickValue:p})}return f},Pn=e=>{let{ticksColor:n,ticksWidth:t,ticksHeight:r,longerTicksHeight:o,ticsCount:a,ticksGroupSize:i,totalLength:l,sliderRef:s,svgCenter:u,ticksDistanceToPanel:f,min:g,max:m,round:x,data:d,showTickValues:M,longerTickValuesOnly:T,tickValuesColor:C,tickValuesFontSize:b,tickValuesFontFamily:E,tickValuesDistance:p}=e,[N,D]=pn([]);Mn(()=>{D(En(a,l,s,g,m,x,d,i,M,T))},[a,l,s,i,d,T,g,m,x,M]);let[k,I]=u;return _e("g",{children:N.map((w,G)=>{let{x:O,y:H}=w,z=r||oe;w.isLonger&&(z=o);let ee=Xe([k-O,I-H]),ie=he(ee,z),F=he(ee,f);O+=F[0],H+=F[1];let ve=O+ie[0],Te=H+ie[1],se=0,te=0,le=w.tickValue!==void 0;if(le){let Me=S(z+p,z*1.5),ue=he(ee,Me);se=O+ue[0],te=H+ue[1]}return Cn(Tn,{children:[_e("line",{x1:O,y1:H,x2:ve,y2:Te,strokeWidth:t||re,stroke:n}),le&&_e("text",{x:se,y:te,textAnchor:"middle",dominantBaseline:"middle",fill:C||xe,fontSize:b||be,fontFamily:E,children:w.tickValue})]},G)})})},vt=Pn;import{jsx as J,jsxs as yn}from"react/jsx-runtime";var Xr=e=>{var Oe;let n=ke(null),t=ke(null),r=ke("click"),[o,a]=h(null),[i,l]=h([0,0]),[s,u]=h(0),[f,g]=h([0,0]),[m,x]=h([]),[d,M]=h([0,0]),[T,C]=h([0,0]),[b,E]=h([0,0]),[p,N]=h([0,0]),[D,k]=h({start:[0,0],end:[0,0],largeArcFlag:0}),[I,w]=h(Ie),[G,O]=h(Ae),[H,z]=h(Q),[ee,ie]=h(!1),[F,ve]=h(!1),[Te,se]=h(void 0),[te,le]=h(!1),[Me,ue]=h(!1),[ce,Tt]=h(Re),[Mt,pt]=h(void 0),[R,y]=f,[Et,Pt]=T,[X,Y]=p,[Ct,Dt]=h(!1),[It,At]=h(""),[Rt,yt]=h(""),[wt,Lt]=h(!1),[Vt,_t]=h(re),[kt,Ft]=h(oe),[Bt,Nt]=h(void 0),[Ot,Ht]=h(0),[Ut,$t]=h(0);P(()=>{pt(ye(R,y,e.data,e.step))},[R,y,e.data,e.step]),P(()=>{Lt(Z(e.disableTicks,!1)),_t(S(e.ticksWidth,re)),$t(S(e.ticksDistanceToPanel,0));let c=S(e.ticksHeight,oe);Ft(c),Nt(S(e.longerTicksHeight,c*2));let v=S(e.ticsCount,0);v||(e.data&&e.data.length>0?v=e.data.length:v=Math.abs(X-Y)%360*(y-R)/360),Ht(v)},[e.disableTicks,e.ticksWidth,e.ticksHeight,e.longerTicksHeight,e.ticsCount,e.ticksDistanceToPanel,y,R,e.data,X,Y]),P(()=>{w(ge(e.panelBgColor,Ie)),O(ge(e.connectionBgColor,Ae)),z(ge(e.pointerBgColor,Q))},[e.panelBgColor,e.connectionBgColor,e.pointerBgColor]),P(()=>{ie(Z(e.pointersOverlap,!1))},[e.pointersOverlap]),P(()=>{ve(Z(e.disabled,!1)),se(e.disabledPointerStyle||We),le(Z(e.keyboardDisabled,!1)),ue(Z(e.mousewheelDisabled,!1))},[e.disabled,e.disabledPointerStyle,e.keyboardDisabled,e.mousewheelDisabled]),P(()=>{l([S(e.rx,150),S(e.ry,150)])},[e.rx,e.ry]),P(()=>{u(S(e.panelStrokeWidth,5))},[e.panelStrokeWidth]),P(()=>{g(nt(e.min,e.max,e.data))},[e.min,e.max,e.data]),P(()=>{x(rt(e.pointers,R,y,e.data,H,e.pointerSVG))},[e.pointers,e.data,R,y,H,e.pointerSVG]),P(()=>{M(tt(m))},[m]),P(()=>{C(we(i,d,s))},[i,d,s]),P(()=>{E(Le(i,d,s))},[i,d,s]),P(()=>{N(Qe(e.startAngleDegrees,e.endAngleDegrees))},[e.startAngleDegrees,e.endAngleDegrees]),P(()=>{k(ct(X,Y,i,d,s))},[X,Y,i,d,s]),P(()=>{Tt(S(e.round,Re))},[e.round]),P(()=>{Dt(e.hideText),At(e.textPrefix),yt(e.textSuffix)},[e.hideText,e.textPrefix,e.textSuffix]);let pe=c=>{if(!e.onChange||typeof e.onChange!="function")return;let v=[];for(let V of c)v.push($(V.percent,R,y,ce,e.data));e.onChange(v,c)},W=c=>{var q;if(F||!n||!n.current)return;let v=c.type.indexOf("mouse")!==-1?c.clientX:c.touches[0].clientX,V=c.type.indexOf("mouse")!==-1?c.clientY:c.touches[0].clientY,L=at(n.current,[v,V],b,i,X,Y,R,y,e.data,e.step);if(m.length<=1){a(((q=m[0])==null?void 0:q.id)||null),x(K=>{let Pe=st(K,L);return pe(Pe),Pe});return}let B=o;a(K=>(B=it(c.target,m,L,K,X,Y,r.current),B)),B!==null&&x(K=>{ee||y===R||(L=ut(L,K,B,R,y));let He=lt(K,L,B);return pe(He),He})},Gt=c=>{if(F)return;let v=c.target;!v||!(v===t.current||v.getAttribute("data-type")==="pointer")||(W(c),window.addEventListener("mousemove",W),window.addEventListener("mouseup",Fe),r.current="drag")},Fe=c=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",W),r.current="click"},Ee=c=>{let v=ae(m,o);if(v===-1)return;let V=U({},m[v]),L=V.percent;if(!de(L))return;let B=Mt;B===void 0&&(B=1),c?L-=B:L+=B,L=_(L,100),V.percent=L;let q=[...m];q[v]=V,x(q),pe(q)},Be=()=>{if(F||te)return;let c=ae(m,o);c===-1||m[c].disabled||Ee(!1)},Ne=()=>{if(F||te)return;let c=ae(m,o);c===-1||m[c].disabled||Ee(!0)};return yn("svg",{"data-type":"bg",xmlns:"http://www.w3.org/2000/svg",ref:n,width:Et,height:Pt,onMouseDown:Gt,onMouseUp:Fe,onTouchMove:W,onTouchStart:W,onKeyDown:c=>{switch(c.key){case"ArrowLeft":{c.preventDefault(),Be();break}case"ArrowRight":{c.preventDefault(),Ne();break}case"ArrowUp":{c.preventDefault(),Be();break}case"ArrowDown":{c.preventDefault(),Ne();break}}},className:F?"disabled":void 0,"aria-disabled":F?!0:void 0,tabIndex:0,focusable:!0,onWheel:c=>{if(F||Me)return;let v=ae(m,o);if(v===-1||m[v].disabled)return;c.stopPropagation();let V=c.deltaY<0;Ee(!V)},style:qe,children:[e.connectionGradient&&J("defs",{children:e.connectionGradient}),J(mt,{ref:t,ellipse:D,strokeWidth:s,svgRadii:i,bgColor:I}),!wt&&t&&t.current&&typeof t.current.getTotalLength=="function"&&J(vt,{sliderRef:t,ticksWidth:Vt,ticksHeight:kt,longerTicksHeight:Bt,ticksColor:I,ticsCount:Ot,ticksGroupSize:e.ticksGroupSize,totalLength:((Oe=t==null?void 0:t.current)==null?void 0:Oe.getTotalLength())||0,svgCenter:b,ticksDistanceToPanel:Ut,min:R,max:y,round:ce,data:e.data,showTickValues:e.showTickValues,longerTickValuesOnly:e.longerTickValuesOnly,tickValuesColor:e.tickValuesColor,tickValuesFontSize:e.tickValuesFontSize,tickValuesFontFamily:e.tickValuesFontFamily,tickValuesDistance:e.tickValuesDistance}),J(ft,{pointers:m,ellipse:D,svgRadii:i,strokeWidth:s,connectionBgColor:G,startEndAngle:p,svgCenter:b,connectionGradient:e.connectionGradient}),m.map(c=>J(bt,{pointer:c,id:c.id,startEndAngle:p,svgRadii:i,svgCenter:b,pointerBgColor:c.bgColor,pointerSVG:e.pointerSVG||c.pointerSVG,disabledPointerStyle:Te,min:R,max:y,round:ce,data:e.data,ariaLabel:c.ariaLabel},c.id)),!Ct&&J(St,{svgCenter:b,round:ce,min:R,max:y,pointers:m,data:e.data,textPrefix:It,textSuffix:Rt,textColor:e.textColor,textFontSize:e.textFontSize,textFontFamily:e.textFontFamily})]})};export{Xr as RoundSlider};
//# sourceMappingURL=mz-react-round-slider.esm.js.map
