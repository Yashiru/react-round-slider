/* 
MZ React Round Slider v1.0.0
https://github.com/mzusin/react-round-slider
MIT License      
Copyright (c) 2023-present, Miriam Zusin          
*/
var Ke=Object.defineProperty;var ue=Object.getOwnPropertySymbols;var We=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable;var ce=(e,t,n)=>t in e?Ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$=(e,t)=>{for(var n in t||(t={}))We.call(t,n)&&ce(e,n,t[n]);if(ue)for(var n of ue(t))Ze.call(t,n)&&ce(e,n,t[n]);return e};import{useEffect as ie,useRef as Ht,useState as le}from"react";var Qe=Math.pow,I=(e,t=1/0)=>{if(t===1/0)return e;t<0&&(t=0);let n=Qe(10,t);return Math.round(e*n)/n},D=(e,t)=>(e%t+t)%t,T=(e,t,n,o,r)=>(r-o)*(e-t)/(n-t)+o;var me=e=>!isNaN(parseFloat(e))&&isFinite(e);var ge=(e,t=1/0)=>{let n=e*(180/Math.PI);return I(n,t)},E=(e,t=1/0)=>{let n=e*(Math.PI/180);return I(n,t)};var de=(e,t,n=1/0)=>{let o=[];for(let r=0;r<e.length;r++)o.push(I(e[r]-t[r],n));return o},fe=(e,t,n=1/0)=>de(e,t,n);var je=(e,t,n=1/0)=>{let o=[];for(let r=0;r<e.length;r++)o.push(I(e[r]*t,n));return o},z=(e,t,n=1/0)=>je(e,t,n);var he=(e,t=1/0)=>{let n=0;for(let o=0;o<e.length;o++)n+=e[o]*e[o];return I(Math.sqrt(n),t)};var X=(e,t,n=1/0)=>{let o=de(e,t);return he(o,n)};var Je=(e,t=1/0)=>{let n=he(e),o=[];for(let r=0;r<e.length;r++)o.push(n===0?0:I(e[r]/n,t));return o},pe=(e,t=1/0)=>Je(e,t);var C=(e,t,n)=>(t=t%Math.PI*2,[e[0]+Math.cos(t)*n,e[1]+Math.sin(t)*n]);var J=()=>Math.random().toString(36).substring(2)+new Date().getTime().toString(36);var be=(e,t,n,o,r,s)=>{let a=t+n*2,l=Math.max(0,o*2-a),c=e*2+a+l,[u,i]=et(e,o,t,n);return{cx:u,cy:i,radius:e,size:c,thickness:t,border:n,startAngleDeg:r,endAngleDeg:s}},et=(e,t,n,o)=>{let r=tt(e,t,n,o),s=I(r/2,2);return[s,s]},tt=(e,t,n,o)=>{let r=n+o*2,s=Math.max(0,t*2-r);return e*2+r+s};var xe="#efefef";var De="#444444";var ee="#163a86",te="#000",ne="#a8a8a8";var re="#000",ve="#5daed2",Te="#97b0bb",Se="#000";var Ie="#efefef",Ae="#000";var m=(e,t)=>me(e)?Number(e):t,b=(e,t)=>e==null?t:e,M=(e,t)=>e==null?t:e;var q=(e,t,n)=>(e>t&&(t+=360),n>=e&&n<=t||n+360>=e&&n+360<=t),N=(e,t)=>{t<e&&(t+=360);let n=t-e,o=D(n,360);return o===0&&n>0?360:o},Ee=(e,t,n)=>{e>t&&(t+=360);let o=2*Math.PI*n;e>t&&(t+=360);let r=t-e,s=-(e/360)*o,a=r/360*o,l=o-a;return{strokeDasharray:[a,l].join(" "),strokeOffset:s}};var L=(e,t,n,o,r,s,a)=>{let{left:l,top:c}=e.getBoundingClientRect(),u=[t-l,n-c],i=fe(u,[o,r]),h=Math.atan2(i[1]/a,i[0]/s);return h<0&&(h+=2*Math.PI),ge(h)},y=(e,t,n,o)=>{o<n&&(o+=360),t<n&&(t+=360);let r=T(t,n,o,e.min,e.max);if(e.data.length>0){let s=Math.round(r);r=e.data[s]}else r=I(r,e.round);return r},nt=(e,t,n,o)=>{let r;if(o<n&&(o+=360),e.data.length>0){let s=e.data.findIndex(a=>a===t);r=s===-1?0:s}else r=typeof t!="number"?e.min:t;return D(T(r,e.min,e.max,n,o),360)},rt=(e,t)=>{if(!e||!e.pointers||e.pointers.length<0||!t)return[{id:J(),index:0,radius:10,angleDeg:D(m(e.pathStartAngle,0),360),bgColor:b(e.pointerBgColor,ee),bgColorSelected:b(e.pointerBgColorSelected,te),bgColorDisabled:b(e.pointerBgColorDisabled,ne),border:m(e.pointerBorder,0),borderColor:b(e.pointerBorderColor,re),disabled:!!e.disabled}];let n=[];for(let o=0;o<e.pointers.length;o++){let r=e.pointers[o],s=r.bgColor?r.bgColor:b(e.pointerBgColor,ee),a=r.bgColorSelected?r.bgColorSelected:b(e.pointerBgColorSelected,te),l=r.bgColorDisabled?r.bgColorDisabled:b(e.pointerBgColorDisabled,ne),c=r.border?r.border:m(e.pointerBorder,0),u=r.borderColor?r.borderColor:b(e.pointerBorderColor,re),i=r.disabled!==void 0?r.disabled:M(e.disabled,!1),h=m(e.pathStartAngle,0),f=m(e.pathEndAngle,360),g=nt(t,r.value,h,f),p=oe(g,t.stepAngleDeg);t.isClosedShape&&D(p,360)===D(f,360)&&(p=h),n.push({id:J(),index:o,radius:m(r.radius,10),angleDeg:p,bgColor:s,bgColorSelected:a,bgColorDisabled:l,border:c,borderColor:u,disabled:i,ariaLabel:r.ariaLabel})}return n},Pe=(e,t)=>{let n=rt(e,t);return{pointers:n,maxRadius:ot(n)}},ot=e=>{if(e.length<=0)return 0;let t=-1/0;for(let n of e)t=Math.max(t,Math.max(0,n.radius+n.border/2));return t},Y=(e,t,n,o,r)=>{if(!e||e.length<=0)return null;if(e.length===1)return e[0];let s=T(E(t),0,Math.PI*2,0,Math.PI),a=C([n,o],s,r),l,c=null,u=e.filter(i=>!i.disabled);for(let i of u){let h=T(E(i.angleDeg),0,Math.PI*2,0,Math.PI),f=C([n,o],h,r),g=X(a,f);(l===void 0||g<l)&&(l=g,c=i)}return $({},c)},K=(e,t,n,o,r,s)=>{let a=T(E(n),0,Math.PI*2,0,Math.PI),l=C([o,r],a,s),c=T(E(e),0,Math.PI*2,0,Math.PI),u=C([o,r],c,s),i=T(E(t),0,Math.PI*2,0,Math.PI),h=C([o,r],i,s),f=X(l,u),g=X(l,h);return f<=g?e:t},Re=(e,t)=>{if(!e||e.length<=0)return null;let n,o,r=null,s=null;for(let a of e){let l=N(t,a.angleDeg);(n===void 0||l<n)&&(r=a,n=l),(o===void 0||l>o)&&(s=a,o=l)}return r===null||s===null?null:[r,s]},oe=(e,t)=>(console.log(e,t,t===0?0:Math.round(e/t)*t),t===0?0:Math.round(e/t)*t);import{useEffect as ae,useState as _e,useRef as at,useCallback as st}from"react";var W={outline:"none"};import{Fragment as ut,jsx as se}from"react/jsx-runtime";var it=(e,t,n,o,r)=>e.disabled?r:document.activeElement===t.current&&o||n,lt=e=>{let t=at(null),{pointer:n,svg:o,$svg:r,setPointer:s,data:a,settings:l}=e,{radius:c,angleDeg:u,bgColor:i,bgColorSelected:h,bgColorDisabled:f,border:g,borderColor:p}=e.pointer,{cx:S,cy:v}=o,[R,U]=_e(null),[V,Q]=_e("");ae(()=>{let d=y(a,n.angleDeg,o.startAngleDeg,o.endAngleDeg);Q(d===void 0?"":d.toString())},[a,n.angleDeg,o.startAngleDeg,o.endAngleDeg]),ae(()=>{let d=T(E(u),0,Math.PI*2,0,Math.PI),x=C([S,v],d,o.radius);U(x)},[u,S,v,o.radius]);let _=st(d=>{if(!r||l.disabled||n.disabled)return;let x=d.type.indexOf("mouse")!==-1?d.clientX:d.touches[0].clientX,P=d.type.indexOf("mouse")!==-1?d.clientY:d.touches[0].clientY,A=L(r,x,P,o.cx,o.cy,o.radius,o.radius),F;q(o.startAngleDeg,o.endAngleDeg,A)?F=A:F=K(o.startAngleDeg,o.endAngleDeg,n.angleDeg,o.cx,o.cy,o.radius),s(n,F)},[r,n,s,o.cx,o.cy,o.endAngleDeg,o.radius,o.startAngleDeg,l.disabled]),w=()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",_)},H=d=>{l.disabled||n.disabled||!d.target||(_(d),window.addEventListener("mousemove",_),window.addEventListener("mouseup",w))},G=d=>{if(!(l.disabled||n.disabled||l.keyboardDisabled))switch(d.key){case"ArrowLeft":{d.preventDefault(),s(n,n.angleDeg+a.stepAngleDeg);break}case"ArrowRight":{d.preventDefault(),s(n,n.angleDeg-a.stepAngleDeg);break}case"ArrowUp":{d.preventDefault(),s(n,n.angleDeg-a.stepAngleDeg);break}case"ArrowDown":{d.preventDefault(),s(n,n.angleDeg+a.stepAngleDeg);break}}};return ae(()=>{let d=t.current,x=A=>{l.disabled||n.disabled||(A.preventDefault(),A.stopPropagation(),_(A))},P=A=>{if(l.disabled||n.disabled||l.mousewheelDisabled||document.activeElement!==d)return;A.stopPropagation(),A.preventDefault();let F=A.deltaY<0,j;F?j=n.angleDeg+a.stepAngleDeg:j=n.angleDeg-a.stepAngleDeg,s(n,j)};return d==null||d.addEventListener("touchmove",x,{passive:!1}),document.addEventListener("wheel",P,{passive:!1}),()=>{d==null||d.removeEventListener("touchmove",x),document.removeEventListener("wheel",P)}},[R,_,a.stepAngleDeg,n,s,l.disabled,l.mousewheelDisabled]),se(ut,{children:R&&se("g",{ref:t,transform:`translate(${R[0]-c/2}, ${R[1]-c/2})`,role:"slider","aria-disabled":n.disabled?!0:void 0,"aria-valuenow":n.angleDeg,"aria-valuetext":V,"aria-label":n.ariaLabel,"data-type":"pointer","data-angle":n.angleDeg,"data-id":n.id,"data-index":n.index,onMouseDown:H,onKeyDown:G,tabIndex:0,cursor:n.disabled?"default":"pointer",style:W,children:se("circle",{cx:c/2,cy:c/2,r:c,fill:it(n,t,i,h,f),strokeWidth:g,stroke:p})})})},ke=lt;import{Fragment as mt,jsx as Le}from"react/jsx-runtime";var ct=e=>{let{pointers:t,settings:n,svg:o,$svg:r,setPointer:s,data:a}=e;return Le(mt,{children:t.pointers.map(l=>Le(ke,{pointer:l,svg:o,settings:n,$svg:r,setPointer:s,data:a},l.id))})},ye=ct;var we=e=>{let t=m(e.min,0),n=m(e.max,100),o=m(e.step,1),r=m(e.arrowStep,1),s=m(e.round,0),a=e.data||[];if(a.length>0){let f=a.findIndex(p=>p===t),g=a.findIndex(p=>p===n);t=f===-1?0:f,n=g===-1?a.length:g}else t>n&&(t=n+100);let l=m(e.pathStartAngle,0),c=m(e.pathEndAngle,360),u=D(l,360)===D(c,360),i=o*360/(n-t),h=r*360/(n-t);return{min:t,max:n,round:s,data:a,stepAngleDeg:i,arrowStepAngleDeg:h,isClosedShape:u}};import{useEffect as pt,useState as bt}from"react";var Fe=(e,t,n,o,r,s)=>{if(!e.pointers||e.pointers.length<=0)return null;let a={radius:t,cx:n,cy:o,startAngleDeg:r,endAngleDeg:r,strokeDasharray:[0,0],strokeOffset:0};if(e.pointers.length===1)a.startAngleDeg=r,a.endAngleDeg=e.pointers[0].angleDeg;else{let p=Re(e.pointers,r);if(!p)return null;let[S,v]=p;a.startAngleDeg=S.angleDeg,a.endAngleDeg=v.angleDeg}let l=N(r,s);a.startAngleDeg>a.endAngleDeg&&(a.endAngleDeg+=360);let c=N(a.startAngleDeg,a.endAngleDeg);c>l&&(c=360-c,[a.startAngleDeg,a.endAngleDeg]=[a.endAngleDeg,a.startAngleDeg]);let i=2*Math.PI*t,h=-(a.startAngleDeg/360)*i,f=c/360*i,g=i-f;return a.strokeDasharray=[f,g],a.strokeOffset=h,a};import{Fragment as Dt,jsx as Ne}from"react/jsx-runtime";var xt=e=>{let{settings:t,pointers:n,$svg:o,svg:r,setPointer:s}=e,[a,l]=bt(null);pt(()=>{l(Fe(n,r.radius,r.cx,r.cy,r.startAngleDeg,r.endAngleDeg))},[n,r.radius,r.cx,r.cy,r.startAngleDeg,r.endAngleDeg]);let c=u=>{if(!o||t.disabled)return;let i=L(o,u.clientX,u.clientY,r.cx,r.cy,r.radius,r.radius),h=Y(n.pointers,i,r.cx,r.cy,r.radius);h&&s(h,i)};return Ne(Dt,{children:!M(t.hideConnection,!1)&&a&&Ne("circle",{cx:a.cx,cy:a.cy,r:a.radius,strokeDasharray:a.strokeDasharray.join(" "),strokeDashoffset:a.strokeOffset,stroke:t.disabled?b(t.connectionBgColorDisabled,Te):b(t.connectionBgColor,ve),strokeWidth:r.thickness+1,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:t.disabled?"default":"pointer",onClick:c,"data-type":"connection"})})},Be=xt;import{useEffect as Tt,useState as St}from"react";import{Fragment as At,jsx as Ue}from"react/jsx-runtime";var It=e=>{let{settings:t,pointers:n,svg:o,data:r}=e,{cx:s,cy:a}=o,[l,c]=St("");Tt(()=>{let i=n.pointers.map(f=>y(r,f.angleDeg,o.startAngleDeg,o.endAngleDeg));i.sort((f,g)=>f.toString().localeCompare(g.toString(),"en",{numeric:!0}));let h=i.map(f=>`${t.textPrefix||""}${f}${t.textSuffix||""}`);c(h.join(" "))},[r,n.pointers,o.startAngleDeg,o.endAngleDeg,t.textPrefix,t.textSuffix]);let u=M(t.hideText,!1);return Ue(At,{children:!u&&Ue("text",{x:s,y:a,fill:b(t.textColor,Se),fontSize:m(t.textFontSize,16),fontFamily:t.textFontFamily,style:{userSelect:"none"},textAnchor:"middle",children:l})})},Ve=It;import{useEffect as $e,useState as ze,Fragment as _t}from"react";var He=(e,t)=>{let n=m(e.ticsCount,0);n||(t.data&&t.data.length>0?n=t.data.length:n=t.max);let o=m(e.ticksHeight,20);return{ticksCount:n,disableTicks:M(e.disableTicks,!1),ticksWidth:m(e.ticksWidth,3),ticksHeight:o,longerTicksHeight:m(e.longerTicksHeight,o*2),ticksDistanceToPanel:m(e.ticksDistanceToPanel,0),tickValuesDistance:m(e.tickValuesDistance,15),ticksColor:b(e.ticksColor,Ie),tickValuesColor:b(e.tickValuesColor,Ae),tickValuesFontSize:m(e.tickValuesFontSize,12),ticksGroupSize:m(e.ticksGroupSize,10),longerTickValuesOnly:M(e.longerTickValuesOnly,!0),showTickValues:M(e.showTickValues,!0)}},Ge=(e,t,n,o,r,s)=>{let a=[],l=Math.abs(o-n),c=t===0?0:l/t,u=t;s.isClosedShape||u++;for(let i=0;i<u;i++){let h=n+i*c,f=T(E(h),0,Math.PI*2,0,Math.PI),[g,p]=C([r.cx,r.cy],f,r.radius),S=e.ticksGroupSize!==void 0&&i%e.ticksGroupSize===0,v=e.ticksHeight;S&&(v=e.longerTicksHeight);let R=pe([r.cx-g,r.cy-p]),U=z(R,v),V=z(R,e.ticksDistanceToPanel);g+=V[0],p+=V[1];let Q=g+U[0],_=p+U[1],w;if(e.showTickValues&&(!e.longerTickValuesOnly||e.longerTickValuesOnly&&(S||e.ticksGroupSize===void 0))){let x=T(i,0,t,s.min,s.max);if(s.data.length>0){let P=Math.round(x);x=s.data[P]}else x=I(x,s.round);w=(x!=null?x:"").toString()}let H=0,G=0,d=w!==void 0;if(d){let x=m(v+e.tickValuesDistance,v*1.5),P=z(R,x);H=g+P[0],G=p+P[1]}a.push({x:g,y:p,x1:Q,y1:_,textX:H,textY:G,isLonger:S,tickValue:w,showText:d})}return a};import{Fragment as yt,jsx as Z,jsxs as Lt}from"react/jsx-runtime";var kt=e=>{let{settings:t,svg:n,data:o}=e,[r,s]=ze(null),[a,l]=ze([]);return $e(()=>{s(He(t,o))},[t,o]),$e(()=>{if(!r)return;let c=n.endAngleDeg;c<n.startAngleDeg&&(c+=360),l(Ge(r,r.ticksCount,n.startAngleDeg,c,n,o))},[o,n,r]),Z(yt,{children:r&&!r.disableTicks&&Z("g",{children:a.map((c,u)=>{let{x:i,y:h,x1:f,y1:g,textX:p,textY:S,showText:v}=c;return Lt(_t,{children:[Z("line",{x1:i,y1:h,x2:f,y2:g,strokeWidth:r.ticksWidth,stroke:r.ticksColor}),v&&Z("text",{x:p,y:S,textAnchor:"middle",dominantBaseline:"middle",fill:r.tickValuesColor,fontSize:r.tickValuesFontSize,fontFamily:t.tickValuesFontFamily,style:{userSelect:"none"},children:c.tickValue})]},u)})})})},Xe=kt;import{useEffect as Ot,useState as wt}from"react";import{jsx as qe,jsxs as Nt}from"react/jsx-runtime";var Ft=e=>{let{settings:t,pointers:n,$svg:o,svg:r,setPointer:s}=e,[a,l]=wt({strokeDasharray:"0 1000000",strokeOffset:0});return Ot(()=>{l(Ee(r.startAngleDeg,r.endAngleDeg,r.radius))},[r.startAngleDeg,r.endAngleDeg,r.radius]),Nt("g",{onClick:u=>{if(!o||t.disabled)return;let i=L(o,u.clientX,u.clientY,r.cx,r.cy,r.radius,r.radius),h=Y(n.pointers,i,r.cx,r.cy,r.radius);h&&s(h,i)},children:[r.border>0&&qe("circle",{strokeDasharray:a.strokeDasharray,strokeDashoffset:a.strokeOffset,cx:r.cx,cy:r.cy,r:r.radius,stroke:b(t.pathBorderColor,De),strokeWidth:r.thickness+r.border*2,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer","data-type":"path-border"}),qe("circle",{strokeDasharray:a.strokeDasharray,strokeDashoffset:a.strokeOffset,cx:r.cx,cy:r.cy,r:r.radius,stroke:b(t.pathBgColor,xe),strokeWidth:r.thickness,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer","data-type":"path"})]})},Ye=Ft;import{Fragment as $t,jsx as O,jsxs as Gt}from"react/jsx-runtime";var Fr=e=>{let[t,n]=le(null),[o,r]=le(null),[s,a]=le(null),l=Ht(null);ie(()=>{n(we(e))},[e]),ie(()=>{a(Pe(e,t))},[e,t]),ie(()=>{if(!s)return;let u=m(e.pathStartAngle,0),i=m(e.pathEndAngle,360);i<=u&&(i+=360),r(be(m(e.pathRadius,150),m(e.pathThickness,5),m(e.pathBorder,0),s.maxRadius,u,i))},[e.pathRadius,e.pathThickness,e.pathBorder,e.pathStartAngle,e.pathEndAngle,s]);let c=(u,i)=>{if(e.disabled||!s.pointers||!u||u.disabled||(i=oe(i,t.stepAngleDeg),t.isClosedShape&&D(i,360)===D(o.endAngleDeg,360)&&(i=o.startAngleDeg),u.angleDeg===i))return;if(!e.pointersOverlap){let g,p;if(t.isClosedShape){let S=D(u.index-1,s.pointers.length),v=D(u.index+1,s.pointers.length);g=s.pointers[S].angleDeg,p=s.pointers[v].angleDeg}else g=u.index===0?o.startAngleDeg:s.pointers[u.index-1].angleDeg,p=u.index===s.pointers.length-1?o.endAngleDeg:s.pointers[u.index+1].angleDeg;p<=g&&(p+=360),q(g,p,i)||(i=K(g,p,i,o.cx,o.cy,o.radius))}if(u.angleDeg===i)return;let f=$({},s);if(f.pointers=[...s.pointers],f.pointers[u.index].angleDeg=i,s.pointers=f.pointers,a(f),typeof e.onChange=="function"){let g=f.pointers.map(p=>y(t,p.angleDeg,o.startAngleDeg,o.endAngleDeg));e.onChange(g)}};return O($t,{children:o&&Gt("svg",{ref:l,xmlns:"http://www.w3.org/2000/svg",width:o.size,height:o.size,tabIndex:0,focusable:!0,"aria-disabled":e.disabled?!0:void 0,style:W,children:[O(Xe,{settings:e,svg:o,data:t}),O(Ye,{settings:e,pointers:s,svg:o,$svg:l.current,setPointer:c}),O(Be,{settings:e,pointers:s,svg:o,$svg:l.current,setPointer:c}),O(ye,{settings:e,pointers:s,svg:o,$svg:l.current,setPointer:c,data:t}),O(Ve,{settings:e,pointers:s,svg:o,data:t})]})})};export{Fr as RoundSlider};
//# sourceMappingURL=mz-react-round-slider.esm.js.map
