/* 
MZ React Round Slider v1.0.0
https://github.com/mzusin/react-round-slider
MIT License      
Copyright (c) 2023-present, Miriam Zusin          
*/
var Rt=Object.defineProperty;var Te=Object.getOwnPropertySymbols;var Ct=Object.prototype.hasOwnProperty,It=Object.prototype.propertyIsEnumerable;var Re=(e,t,n)=>t in e?Rt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B=(e,t)=>{for(var n in t||(t={}))Ct.call(t,n)&&Re(e,n,t[n]);if(Te)for(var n of Te(t))It.call(t,n)&&Re(e,n,t[n]);return e};import{useEffect as b,useRef as pe,useState as h}from"react";var At=Math.pow,R=(e,t=1/0)=>{if(t===1/0)return e;t<0&&(t=0);let n=At(10,t);return Math.round(e*n)/n},y=(e,t)=>(e%t+t)%t,Z=(e,t,n,r,o)=>(o-r)*(e-t)/(n-t)+r;var K=e=>!isNaN(parseFloat(e))&&isFinite(e),ae=(e,t,n,r=1/0)=>{let[o,a]=e,[i,l]=t;return[R(o+i*Math.cos(n),r),R(a+l*Math.sin(n),r)]};var Ce=(e,t=1/0)=>{let n=e*(180/Math.PI);return R(n,t)},Y=(e,t=1/0)=>{let n=e*(Math.PI/180);return R(n,t)};var j=(e,t,n=1/0)=>{let r=Math.abs(y(e,360)-y(t,360));return R(r<=180?r:360-r,n)};var Dt=(e,t,n=1/0)=>{let r=[];for(let o=0;o<e.length;o++)r.push(R(e[o]-t[o],n));return r},Ie=(e,t,n=1/0)=>Dt(e,t,n);var Ae=(e,t,n,r)=>(t=t%Math.PI*2,[e[0]+Math.cos(t)*n,e[1]+Math.sin(t)*r]);var ie=()=>Math.random().toString(36).substring(2)+new Date().getTime().toString(36);var v=(e,t)=>K(e)?Number(e):t,J=(e,t)=>e==null?t:e,q=(e,t)=>e==null?t:e;var De=150,we=150,se=10,le=10,ye=5,ue="#efefef",ce="#5daed2",U="#333",Le=0,Ve=360-.001,_e=0,me=100,Ne=!1,Be={filter:"opacity(0.7) grayscale(100%)"},$e={outline:"none"},Oe={outline:"none"},de=2;var Fe=(e,t,n)=>n>=e&&n<=t||n+360>=e&&n+360<=t,He=(e,t)=>{let n=v(e,Le),r=v(t,Ve);return n=y(n,360),r=y(r,360),n<0&&(n+=360),r<0&&(r+=360),r<n&&(r+=360),n===r&&(r+=359.999),[n,r]};var Ue=e=>{if(e.length<=0)return[0,0];let t=-1/0,n=-1/0;for(let r of e){let[o,a]=r.pointerRadii;t=Math.max(t,Math.max(0,o)),n=Math.max(n,Math.max(0,a))}return[t,n]},Ge=(e,t,n)=>{if(n&&n.length>0){let a=n.findIndex(u=>u===e),i=n.findIndex(u=>u===t),l=a===-1?0:a,s=i===-1?n.length-1:i;return[l,s]}let r=v(e,_e),o=v(t,me);return r>o&&(o=r+me),[r,o]},wt=(e,t,n,r)=>{if(r&&r.length>0){let a=r.findIndex(i=>i===e);return a===-1?0:a}let o=v(e,t);return o<t&&(o=t),o>n&&(o=n),o};var ee=(e,t,n,r,o)=>{let a=t===n?0:Z(e,0,100,t,n);return o&&o.length>0?o[Math.round(a)]:R(a,r)},yt=(e,t)=>t===0?0:Math.round(e/t)*t,he=(e,t,n,r)=>{if(r===void 0&&n&&(r=1),r===void 0)return;let o=t-e;return o===0?0:r*100/o},ke=(e,t,n,r,o,a)=>{let i=[],l=e||[];for(let s=0;s<l.length;s++){let u=l[s];if(u.rx<=0||u.ry<=0)continue;let d=wt(u.value,t,n,r),g=t===n?0:Z(t,n,0,100,d),m={pointerRadii:[v(u.rx,se),v(u.ry,le)],percent:g,id:ie(),index:0,bgColor:u.bgColor||o||U,pointerSVG:a||u.pointerSVG,disabled:u.disabled===!0,keyboardDisabled:!1,mousewheelDisabled:!1};i.push(m)}if(i.length>1){i.sort((s,u)=>s.percent-u.percent);for(let s=0;s<i.length;s++)i[s].index=s}return!i||i.length<=0?[{pointerRadii:[se,le],percent:0,id:ie(),index:0,bgColor:U,disabled:!1,keyboardDisabled:!1,mousewheelDisabled:!1}]:i},G=(e,t,n,r,o)=>{let a=Math.abs(n-t),i=e*a/100,l=y(t+i,360),s=Y(l);return s=Z(s,0,Math.PI*2,0,Math.PI),{position:Ae(o,s,r[0],r[1]),angleDegrees:l}},ze=e=>{if(!e||e.length<2)return null;let t=1/0,n=null,r=-1/0,o=null;for(let a=0;a<e.length;a++){let i=e[a];i.percent<t&&(t=i.percent,n=i),i.percent>r&&(r=i.percent,o=i)}return n===null||o===null?null:[n,o]},Ye=(e,t,n,r,o,a,i,l,s,u)=>{let[d,g]=t,{left:m,top:f}=e.getBoundingClientRect(),x=[d-m,g-f],E=Ie(x,n),[D,C]=r,S=Math.atan2(E[1]/C,E[0]/D);S<0&&(S+=2*Math.PI);let p=Ce(S);if(!Fe(o,a,p)){let $=j(p,o),k=j(p,a);return $<=k?i:l}let I=Math.abs(a-o),w=p*100/I,T=he(i,l,s,u);return T===void 0?w:yt(w,T)},X=(e,t)=>!e||!t?-1:e.findIndex(n=>n.id===t),Lt=e=>e.getAttribute("data-type")==="panel",Vt=e=>e.getAttribute("data-type")==="panel-fill",_t=(e,t)=>e.getAttribute("data-type")==="pointer"&&e.getAttribute("data-id")===t||e.querySelector(`[data-type="pointer"][data-index="${t}"]`)!==null,qe=(e,t,n,r,o,a,i)=>{if(t.length<=0)return null;if(t.length===1)return t[0].id;if(i==="drag")return r;if(Lt(e)||Vt(e)){let l=Math.abs(a-o),s=n*l/100,u=1/0,d=null;for(let g=0;g<t.length;g++){let m=t[g],f=m.percent*l/100,x=j(f,s);x<u&&(u=x,d=m.id)}return d}for(let l=0;l<t.length;l++){let s=t[l];if(_t(e,s.id))return s.id}return r};var Nt=(e,t)=>{let n=e.find(l=>l.id===t);if(!n)return null;let r=y(n.index+1,e.length),o=e.find(l=>l.index===r);if(!o)return null;let a=y(n.index-1,e.length),i=e.find(l=>l.index===a);return[n,o,i]},Xe=(e,t)=>{if(e[0].disabled)return e;let n=[...e],r=n[0];return r.percent=t,n[0]=r,n},We=(e,t,n)=>{if(!n)return e;let r=e.findIndex(i=>i.id===n);if(r===-1||e[r].disabled)return e;let o=[...e],a=B({},o[r]);return a.percent=t,o[r]=a,o},Qe=(e,t,n,r,o)=>{let[a,i,l]=Nt(t,n),s=e-a.percent,u=Math.abs(o-r)/2;if(s!==0&&a.percent!==0&&e!==0){let d=Math.abs(s)>u?s<0:s>=0;d&&i.percent>=a.percent&&(e=Math.min(e,i.percent)),!d&&l.percent<=a.percent&&(e=Math.max(e,l.percent))}return e};var fe=(e,t,n)=>{let[r,o]=e,[a,i]=t,l=Math.max(0,a*2-n),s=Math.max(0,i*2-n),u=r*2+n+l,d=o*2+n+s;return[u,d]},ge=(e,t,n)=>{let[r,o]=fe(e,t,n);return[R(r/2,2),R(o/2,2)]},Ze=(e,t,n,r,o)=>{let a=t,i=a-e<=180?0:1;e>a&&(a+=360);let l=ge(n,r,o),s=ae(l,n,Y(e)),u=ae(l,n,Y(a));return{start:s,end:u,largeArcFlag:i}};import{forwardRef as Bt}from"react";import{jsx as Ot}from"react/jsx-runtime";var $t=(e,t)=>{let{ellipse:n,strokeWidth:r,svgRadii:o,bgColor:a}=e,{start:i,end:l,largeArcFlag:s}=n;return Ot("path",{"data-type":"panel",ref:t,d:`M ${i[0]} ${i[1]} A ${o[0]} ${o[1]} 0 ${s} 1 ${l[0]} ${l[1]}`,stroke:a,strokeWidth:r,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer"})},Ke=Bt($t);import{useEffect as Ft,useState as xe}from"react";import{Fragment as Ut,jsx as je}from"react/jsx-runtime";var Ht=e=>{let{pointers:t,ellipse:n,strokeWidth:r,svgCenter:o,svgRadii:a,connectionBgColor:i,startEndAngle:l}=e,{start:s}=n,[u,d]=l,[g,m]=xe(null),[f,x]=xe(null),[E,D]=xe(0);return Ft(()=>{if(!t||t.length<=0)return;if(t.length<=1){let $=t[0],{position:k,angleDegrees:re}=G($.percent,u,d,a,o);m(s),x(k),D(Math.abs(re-u)<=180?0:1);return}let C=ze(t);if(C===null)return;let S=C[0],p=C[1],{position:L,angleDegrees:I}=G(S.percent,u,d,a,o),{position:w,angleDegrees:T}=G(p.percent,u,d,a,o);m(L),x(w),D(Math.abs(T-I)<=180?0:1)},[d,t,s,u,o,a]),je(Ut,{children:g!==null&&f!==null&&je("path",{"data-type":"panel-fill",d:`M ${g[0]} ${g[1]} A ${a[0]} ${a[1]} 0 ${E} 1 ${f[0]} ${f[1]}`,stroke:i,strokeWidth:r+1,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer",pointerEvents:"none"})})},Je=Ht;import{useEffect as et,useState as tt}from"react";import{Fragment as nt,jsx as te,jsxs as kt}from"react/jsx-runtime";var Gt=e=>{let{id:t,pointer:n,startEndAngle:r,svgRadii:o,svgCenter:a,pointerBgColor:i,pointerSVG:l,disabledPointerStyle:s,min:u,max:d,round:g,data:m}=e,{percent:f,pointerRadii:x}=n,[E,D]=x,[C,S]=r,[p,L]=tt(null),[I,w]=tt("");et(()=>{let{position:$}=G(f,C,S,o,a);L($)},[f,o,a,C,S]),et(()=>{w(ee(f,u,d,g,m))},[u,d,g,m,f]);let T=B({},Oe);return n.disabled&&(T=B(B({},T),s)),p?kt(nt,{children:[!l&&te("ellipse",{className:n.disabled?"disabled":void 0,"aria-disabled":n.disabled?!0:void 0,"aria-valuenow":I,"aria-valuetext":I.toString(),style:T,"data-type":"pointer","data-index":n.index,"data-id":t,"data-percent":n.percent,cx:p[0],cy:p[1],rx:E,ry:D,cursor:"pointer",tabIndex:0,role:"slider",fill:i}),l&&te("g",{className:n.disabled?"disabled":void 0,"aria-disabled":n.disabled?!0:void 0,style:T,"aria-valuenow":I,"aria-valuetext":I.toString(),"data-type":"pointer","data-index":n.index,"data-id":t,"data-percent":n.percent,cursor:"pointer",transform:`translate(${p[0]-E/2}, ${p[1]-D/2})`,tabIndex:0,role:"slider",children:te("g",{pointerEvents:"none",children:l})})]}):te(nt,{})},rt=Gt;import{useEffect as zt,useState as Yt}from"react";import{jsx as Xt}from"react/jsx-runtime";var qt=e=>{let{svgCenter:t,round:n,min:r,max:o,pointers:a,data:i,textPrefix:l,textSuffix:s}=e,[u,d]=t,[g,m]=Yt("");return zt(()=>{let f=[];for(let x of a){let E=ee(x.percent,r,o,n,i);f.push(`${l||""}${E}${s||""}`)}m(f.join(" "))},[i,o,r,a,n,l,s]),Xt("text",{x:u,y:d,style:{userSelect:"none"},textAnchor:"middle",children:g})},ot=qt;import{jsx as ne,jsxs as Wt}from"react/jsx-runtime";var tr=e=>{let t=pe(null),n=pe(null),r=pe("click"),[o,a]=h(null),[i,l]=h([0,0]),[s,u]=h(0),[d,g]=h([0,0]),[m,f]=h([]),[x,E]=h([0,0]),[D,C]=h([0,0]),[S,p]=h([0,0]),[L,I]=h([0,0]),[w,T]=h({start:[0,0],end:[0,0],largeArcFlag:0}),[$,k]=h(ue),[re,at]=h(ce),[ve,it]=h(U),[st,lt]=h(!1),[O,ut]=h(!1),[ct,mt]=h(void 0),[be,dt]=h(!1),[ht,ft]=h(!1),[Se,gt]=h(de),[V,_]=d,[xt,pt]=D,[W,Q]=L,[vt,bt]=h(!1),[St,Mt]=h(""),[Pt,Et]=h("");b(()=>{k(J(e.bgColor,ue)),at(J(e.connectionBgColor,ce)),it(J(e.pointerBgColor,U))},[e.bgColor,e.connectionBgColor,e.pointerBgColor]),b(()=>{lt(q(e.pointersOverlap,Ne))},[e.pointersOverlap]),b(()=>{ut(q(e.disabled,!1)),mt(e.disabledPointerStyle||Be),dt(q(e.keyboardDisabled,!1)),ft(q(e.mousewheelDisabled,!1))},[e.disabled,e.disabledPointerStyle,e.keyboardDisabled,e.mousewheelDisabled]),b(()=>{l([v(e.rx,De),v(e.ry,we)])},[e.rx,e.ry]),b(()=>{u(v(e.strokeWidth,ye))},[e.strokeWidth]),b(()=>{g(Ge(e.min,e.max,e.data))},[e.min,e.max,e.data]),b(()=>{f(ke(e.pointers,V,_,e.data,ve,e.pointerSVG))},[e.pointers,e.data,V,_,ve,e.pointerSVG]),b(()=>{E(Ue(m))},[m]),b(()=>{C(fe(i,x,s))},[i,x,s]),b(()=>{p(ge(i,x,s))},[i,x,s]),b(()=>{I(He(e.startAngleDegrees,e.endAngleDegrees))},[e.startAngleDegrees,e.endAngleDegrees]),b(()=>{T(Ze(W,Q,i,x,s))},[W,Q,i,x,s]),b(()=>{gt(v(e.round,de))},[e.round]),b(()=>{bt(e.hideText),Mt(e.textPrefix),Et(e.textSuffix)},[e.hideText,e.textPrefix,e.textSuffix]);let F=c=>{var z;if(O||!t||!t.current)return;let M=c.type.indexOf("mouse")!==-1?c.clientX:c.touches[0].clientX,N=c.type.indexOf("mouse")!==-1?c.clientY:c.touches[0].clientY,P=Ye(t.current,[M,N],S,i,W,Q,V,_,e.data,e.step);if(m.length<=1){a(((z=m[0])==null?void 0:z.id)||null),f(H=>Xe(H,P));return}let A=o;a(H=>(A=qe(c.target,m,P,H,W,Q,r.current),A)),A!==null&&f(H=>(st||_===V||(P=Qe(P,H,A,V,_)),We(H,P,A)))},Tt=c=>{if(O)return;let M=c.target;!M||!(M===n.current||M.getAttribute("data-type")==="pointer")||(F(c),window.addEventListener("mousemove",F),window.addEventListener("mouseup",Me),r.current="drag")},Me=c=>{window.removeEventListener("mousemove",F),window.removeEventListener("mouseup",F),r.current="click"},oe=c=>{let M=X(m,o);if(M===-1)return;let N=B({},m[M]),P=N.percent;if(!K(P))return;let A=he(V,_,e.data,e.step);A===void 0&&(A=1),c?P-=A:P+=A,P>100&&(P=100),N.percent=P;let z=[...m];z[M]=N,f(z)},Pe=()=>{if(O||be)return;let c=X(m,o);c===-1||m[c].disabled||oe(!1)},Ee=()=>{if(O||be)return;let c=X(m,o);c===-1||m[c].disabled||oe(!0)};return Wt("svg",{"data-type":"bg",xmlns:"http://www.w3.org/2000/svg",ref:t,width:xt,height:pt,onMouseDown:Tt,onMouseUp:Me,onTouchMove:F,onTouchStart:F,onKeyDown:c=>{switch(c.key){case"ArrowLeft":{c.preventDefault(),Pe();break}case"ArrowRight":{c.preventDefault(),Ee();break}case"ArrowUp":{c.preventDefault(),Pe();break}case"ArrowDown":{c.preventDefault(),Ee();break}}},className:O?"disabled":void 0,"aria-disabled":O?!0:void 0,tabIndex:0,focusable:!0,onWheel:c=>{if(O||ht)return;let M=X(m,o);if(M===-1||m[M].disabled)return;c.stopPropagation();let N=c.deltaY<0;oe(!N)},style:$e,children:[ne(Ke,{ref:n,ellipse:w,strokeWidth:s,svgRadii:i,bgColor:$}),ne(Je,{pointers:m,ellipse:w,svgRadii:i,strokeWidth:s,connectionBgColor:re,startEndAngle:L,svgCenter:S}),m.map(c=>ne(rt,{pointer:c,id:c.id,startEndAngle:L,svgRadii:i,svgCenter:S,pointerBgColor:c.bgColor,pointerSVG:e.pointerSVG||c.pointerSVG,disabledPointerStyle:ct,min:V,max:_,round:Se,data:e.data},c.id)),!vt&&ne(ot,{svgCenter:S,round:Se,min:V,max:_,pointers:m,data:e.data,textPrefix:St,textSuffix:Pt})]})};export{tr as RoundSlider};
//# sourceMappingURL=mz-react-round-slider.esm.js.map
