/* 
MZ React Round Slider v1.0.0
https://github.com/mzusin/react-round-slider
MIT License      
Copyright (c) 2023-present, Miriam Zusin          
*/
var xt=Object.defineProperty;var Me=Object.getOwnPropertySymbols;var pt=Object.prototype.hasOwnProperty,vt=Object.prototype.propertyIsEnumerable;var Ee=(e,t,n)=>t in e?xt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w=(e,t)=>{for(var n in t||(t={}))pt.call(t,n)&&Ee(e,n,t[n]);if(Me)for(var n of Me(t))vt.call(t,n)&&Ee(e,n,t[n]);return e};import{useEffect as b,useRef as ge,useState as g}from"react";var bt=Math.pow,P=(e,t=1/0)=>{if(t===1/0)return e;t<0&&(t=0);let n=bt(10,t);return Math.round(e*n)/n},C=(e,t)=>(e%t+t)%t,q=(e,t,n,r,o)=>(o-r)*(e-t)/(n-t)+r;var X=e=>!isNaN(parseFloat(e))&&isFinite(e),re=(e,t,n,r=1/0)=>{let[o,a]=e,[i,l]=t;return[P(o+i*Math.cos(n),r),P(a+l*Math.sin(n),r)]};var Pe=(e,t=1/0)=>{let n=e*(180/Math.PI);return P(n,t)},H=(e,t=1/0)=>{let n=e*(Math.PI/180);return P(n,t)};var W=(e,t,n=1/0)=>{let r=Math.abs(C(e,360)-C(t,360));return P(r<=180?r:360-r,n)};var St=(e,t,n=1/0)=>{let r=[];for(let o=0;o<e.length;o++)r.push(P(e[o]-t[o],n));return r},Re=(e,t,n=1/0)=>St(e,t,n);var Te=(e,t,n,r)=>(t=t%Math.PI*2,[e[0]+Math.cos(t)*n,e[1]+Math.sin(t)*r]);var oe=()=>Math.random().toString(36).substring(2)+new Date().getTime().toString(36);var v=(e,t)=>X(e)?Number(e):t,Z=(e,t)=>e==null?t:e,U=(e,t)=>e==null?t:e;var Ce=150,Ae=150,ae=10,ie=10,Ie=5,se="#efefef",le="#5daed2",B="#333",we=0,De=360-.001,ye=0,ue=100,Le=!1,Ve={filter:"opacity(0.7) grayscale(100%)"},_e={outline:"none"},Ne={outline:"none"},ce=2;var Be=(e,t,n)=>n>=e&&n<=t||n+360>=e&&n+360<=t,Oe=(e,t)=>{let n=v(e,we),r=v(t,De);return n=C(n,360),r=C(r,360),n<0&&(n+=360),r<0&&(r+=360),r<n&&(r+=360),n===r&&(r+=359.999),[n,r]};var $e=e=>{if(e.length<=0)return[0,0];let t=-1/0,n=-1/0;for(let r of e){let[o,a]=r.pointerRadii;t=Math.max(t,Math.max(0,o)),n=Math.max(n,Math.max(0,a))}return[t,n]},Fe=(e,t,n)=>{if(n&&n.length>0){let a=n.findIndex(u=>u===e),i=n.findIndex(u=>u===t),l=a===-1?0:a,s=i===-1?n.length-1:i;return[l,s]}let r=v(e,ye),o=v(t,ue);return r>o&&(o=r+ue),[r,o]},Mt=(e,t,n,r)=>{if(r&&r.length>0){let a=r.findIndex(i=>i===e);return a===-1?0:a}let o=v(e,t);return o<t&&(o=t),o>n&&(o=n),o};var He=(e,t,n,r,o)=>{let a=t===n?0:q(e,0,100,t,n);return o&&o.length>0?o[Math.round(a)]:P(a,r)};var Ue=(e,t,n,r,o,a)=>{let i=[],l=e||[];for(let s=0;s<l.length;s++){let u=l[s];if(u.rx<=0||u.ry<=0)continue;let d=Mt(u.value,t,n,r),h=t===n?0:q(t,n,0,100,d),m={pointerRadii:[v(u.rx,ae),v(u.ry,ie)],percent:h,id:oe(),index:0,bgColor:u.bgColor||o||B,pointerSVG:a||u.pointerSVG,disabled:u.disabled===!0,keyboardDisabled:!1,mousewheelDisabled:!1};i.push(m)}if(i.length>1){i.sort((s,u)=>s.percent-u.percent);for(let s=0;s<i.length;s++)i[s].index=s}return!i||i.length<=0?[{pointerRadii:[ae,ie],percent:0,id:oe(),index:0,bgColor:B,disabled:!1,keyboardDisabled:!1,mousewheelDisabled:!1}]:i},O=(e,t,n,r,o)=>{let a=Math.abs(n-t),i=e*a/100,l=C(t+i,360),s=H(l);return s=q(s,0,Math.PI*2,0,Math.PI),{position:Te(o,s,r[0],r[1]),angleDegrees:l}},Ge=e=>{if(!e||e.length<2)return null;let t=1/0,n=null,r=-1/0,o=null;for(let a=0;a<e.length;a++){let i=e[a];i.percent<t&&(t=i.percent,n=i),i.percent>r&&(r=i.percent,o=i)}return n===null||o===null?null:[n,o]},ke=(e,t,n,r,o,a,i,l)=>{let[s,u]=t,{left:d,top:h}=e.getBoundingClientRect(),m=[s-d,u-h],f=Re(m,n),[x,E]=r,R=Math.atan2(f[1]/E,f[0]/x);R<0&&(R+=2*Math.PI);let p=Pe(R);if(!Be(o,a,p)){let D=W(p,o),F=W(p,a);return D<=F?i:l}let $=Math.abs(a-o);return p*100/$},G=(e,t)=>!e||!t?-1:e.findIndex(n=>n.id===t),Et=e=>e.getAttribute("data-type")==="panel",Pt=e=>e.getAttribute("data-type")==="panel-fill",Rt=(e,t)=>e.getAttribute("data-type")==="pointer"&&e.getAttribute("data-id")===t||e.querySelector(`[data-type="pointer"][data-index="${t}"]`)!==null,ze=(e,t,n,r,o,a,i)=>{if(t.length<=0)return null;if(t.length===1)return t[0].id;if(i==="drag")return r;if(Et(e)||Pt(e)){let l=Math.abs(a-o),s=n*l/100,u=1/0,d=null;for(let h=0;h<t.length;h++){let m=t[h],f=m.percent*l/100,x=W(f,s);x<u&&(u=x,d=m.id)}return d}for(let l=0;l<t.length;l++){let s=t[l];if(Rt(e,s.id))return s.id}return r};var Tt=(e,t)=>{let n=e.find(l=>l.id===t);if(!n)return null;let r=C(n.index+1,e.length),o=e.find(l=>l.index===r);if(!o)return null;let a=C(n.index-1,e.length),i=e.find(l=>l.index===a);return[n,o,i]},Ye=(e,t)=>{if(e[0].disabled)return e;let n=[...e],r=n[0];return r.percent=t,n[0]=r,n},qe=(e,t,n)=>{if(!n)return e;let r=e.findIndex(i=>i.id===n);if(r===-1||e[r].disabled)return e;let o=[...e],a=w({},o[r]);return a.percent=t,o[r]=a,o},Xe=(e,t,n,r,o)=>{let[a,i,l]=Tt(t,n),s=e-a.percent,u=Math.abs(o-r)/2;if(s!==0&&a.percent!==0&&e!==0){let d=Math.abs(s)>u?s<0:s>=0;d&&i.percent>=a.percent&&(e=Math.min(e,i.percent)),!d&&l.percent<=a.percent&&(e=Math.max(e,l.percent))}return e};var me=(e,t,n)=>{let[r,o]=e,[a,i]=t,l=Math.max(0,a*2-n),s=Math.max(0,i*2-n),u=r*2+n+l,d=o*2+n+s;return[u,d]},de=(e,t,n)=>{let[r,o]=me(e,t,n);return[P(r/2,2),P(o/2,2)]},We=(e,t,n,r,o)=>{let a=t,i=a-e<=180?0:1;e>a&&(a+=360);let l=de(n,r,o),s=re(l,n,H(e)),u=re(l,n,H(a));return{start:s,end:u,largeArcFlag:i}};import{forwardRef as Ct}from"react";import{jsx as It}from"react/jsx-runtime";var At=(e,t)=>{let{ellipse:n,strokeWidth:r,svgRadii:o,bgColor:a}=e,{start:i,end:l,largeArcFlag:s}=n;return It("path",{"data-type":"panel",ref:t,d:`M ${i[0]} ${i[1]} A ${o[0]} ${o[1]} 0 ${s} 1 ${l[0]} ${l[1]}`,stroke:a,strokeWidth:r,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer"})},Ze=Ct(At);import{useEffect as wt,useState as he}from"react";import{Fragment as yt,jsx as Qe}from"react/jsx-runtime";var Dt=e=>{let{pointers:t,ellipse:n,strokeWidth:r,svgCenter:o,svgRadii:a,connectionBgColor:i,startEndAngle:l}=e,{start:s}=n,[u,d]=l,[h,m]=he(null),[f,x]=he(null),[E,R]=he(0);return wt(()=>{if(!t||t.length<=0)return;if(t.length<=1){let J=t[0],{position:ee,angleDegrees:te}=O(J.percent,u,d,a,o);m(s),x(ee),R(Math.abs(te-u)<=180?0:1);return}let p=Ge(t);if(p===null)return;let T=p[0],$=p[1],{position:D,angleDegrees:F}=O(T.percent,u,d,a,o),{position:k,angleDegrees:j}=O($.percent,u,d,a,o);m(D),x(k),R(Math.abs(j-F)<=180?0:1)},[d,t,s,u,o,a]),Qe(yt,{children:h!==null&&f!==null&&Qe("path",{"data-type":"panel-fill",d:`M ${h[0]} ${h[1]} A ${a[0]} ${a[1]} 0 ${E} 1 ${f[0]} ${f[1]}`,stroke:i,strokeWidth:r+1,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer",pointerEvents:"none"})})},Ke=Dt;import{useEffect as Lt,useState as Vt}from"react";import{Fragment as je,jsx as Q,jsxs as Nt}from"react/jsx-runtime";var _t=e=>{let{id:t,pointer:n,startEndAngle:r,svgRadii:o,svgCenter:a,pointerBgColor:i,pointerSVG:l,disabledPointerStyle:s}=e,{percent:u,pointerRadii:d}=n,[h,m]=d,[f,x]=r,[E,R]=Vt(null);Lt(()=>{let{position:T}=O(u,f,x,o,a);R(T)},[u,o,a,f,x]);let p=w({},Ne);return n.disabled&&(p=w(w({},p),s)),E?Nt(je,{children:[!l&&Q("ellipse",{className:n.disabled?"disabled":void 0,"aria-disabled":n.disabled?!0:void 0,style:p,"data-type":"pointer","data-index":n.index,"data-id":t,"data-percent":n.percent,cx:E[0],cy:E[1],rx:h,ry:m,cursor:"pointer",tabIndex:0,role:"slider",fill:i}),l&&Q("g",{className:n.disabled?"disabled":void 0,"aria-disabled":n.disabled?!0:void 0,style:p,"data-type":"pointer","data-index":n.index,"data-id":t,"data-percent":n.percent,cursor:"pointer",transform:`translate(${E[0]-h/2}, ${E[1]-m/2})`,tabIndex:0,role:"slider",children:Q("g",{pointerEvents:"none",children:l})})]}):Q(je,{})},Je=_t;import{useEffect as Bt,useState as Ot}from"react";import{jsx as Ft}from"react/jsx-runtime";var $t=e=>{let{svgCenter:t,round:n,min:r,max:o,pointers:a,data:i}=e,[l,s]=t,[u,d]=Ot("");return Bt(()=>{let h=[];for(let m of a){let f=He(m.percent,r,o,n,i);h.push(f)}d(h.join(" "))},[i,o,r,a,n]),Ft("text",{x:l,y:s,style:{userSelect:"none"},textAnchor:"middle",children:u})},et=$t;import{jsx as K,jsxs as Ht}from"react/jsx-runtime";var Xn=e=>{let t=ge(null),n=ge(null),r=ge("click"),[o,a]=g(null),[i,l]=g([0,0]),[s,u]=g(0),[d,h]=g([0,0]),[m,f]=g([]),[x,E]=g([0,0]),[R,p]=g([0,0]),[T,$]=g([0,0]),[D,F]=g([0,0]),[k,j]=g({start:[0,0],end:[0,0],largeArcFlag:0}),[J,ee]=g(se),[te,tt]=g(le),[fe,nt]=g(B),[rt,ot]=g(!1),[y,at]=g(!1),[it,st]=g(void 0),[xe,lt]=g(!1),[ut,ct]=g(!1),[mt,dt]=g(ce),[L,V]=d,[ht,gt]=R,[z,Y]=D;b(()=>{ee(Z(e.bgColor,se)),tt(Z(e.connectionBgColor,le)),nt(Z(e.pointerBgColor,B))},[e.bgColor,e.connectionBgColor,e.pointerBgColor]),b(()=>{ot(U(e.pointersOverlap,Le))},[e.pointersOverlap]),b(()=>{at(U(e.disabled,!1)),st(e.disabledPointerStyle||Ve),lt(U(e.keyboardDisabled,!1)),ct(U(e.mousewheelDisabled,!1))},[e.disabled,e.disabledPointerStyle,e.keyboardDisabled,e.mousewheelDisabled]),b(()=>{l([v(e.rx,Ce),v(e.ry,Ae)])},[e.rx,e.ry]),b(()=>{u(v(e.strokeWidth,Ie))},[e.strokeWidth]),b(()=>{h(Fe(e.min,e.max,e.data))},[e.min,e.max,e.data]),b(()=>{f(Ue(e.pointers,L,V,e.data,fe,e.pointerSVG))},[e.pointers,e.data,L,V,fe,e.pointerSVG]),b(()=>{E($e(m))},[m]),b(()=>{p(me(i,x,s))},[i,x,s]),b(()=>{$(de(i,x,s))},[i,x,s]),b(()=>{F(Oe(e.startAngleDegrees,e.endAngleDegrees))},[e.startAngleDegrees,e.endAngleDegrees]),b(()=>{j(We(z,Y,i,x,s))},[z,Y,i,x,s]),b(()=>{dt(v(e.round,ce))},[e.round]);let _=c=>{var Se;if(y||!t||!t.current)return;let S=c.type.indexOf("mouse")!==-1?c.clientX:c.touches[0].clientX,A=c.type.indexOf("mouse")!==-1?c.clientY:c.touches[0].clientY,M=ke(t.current,[S,A],T,i,z,Y,L,V);if(m.length<=1){a(((Se=m[0])==null?void 0:Se.id)||null),f(N=>Ye(N,M));return}let I=o;a(N=>(I=ze(c.target,m,M,N,z,Y,r.current),I)),I!==null&&f(N=>(rt||V===L||(M=Xe(M,N,I,L,V)),qe(N,M,I)))},ft=c=>{if(y)return;let S=c.target;!S||!(S===n.current||S.getAttribute("data-type")==="pointer")||(_(c),window.addEventListener("mousemove",_),window.addEventListener("mouseup",pe),r.current="drag")},pe=c=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",_),r.current="click"},ne=c=>{let S=G(m,o);if(S===-1)return;let A=w({},m[S]),M=A.percent;if(!X(M))return;c?M--:M++,M>100&&(M=100),A.percent=M;let I=[...m];I[S]=A,f(I)},ve=()=>{if(y||xe)return;let c=G(m,o);c===-1||m[c].disabled||ne(!1)},be=()=>{if(y||xe)return;let c=G(m,o);c===-1||m[c].disabled||ne(!0)};return Ht("svg",{"data-type":"bg",xmlns:"http://www.w3.org/2000/svg",ref:t,width:ht,height:gt,onMouseDown:ft,onMouseUp:pe,onTouchMove:_,onTouchStart:_,onKeyDown:c=>{switch(c.key){case"ArrowLeft":{c.preventDefault(),ve();break}case"ArrowRight":{c.preventDefault(),be();break}case"ArrowUp":{c.preventDefault(),ve();break}case"ArrowDown":{c.preventDefault(),be();break}}},className:y?"disabled":void 0,"aria-disabled":y?!0:void 0,tabIndex:0,focusable:!0,onWheel:c=>{if(y||ut)return;let S=G(m,o);if(S===-1||m[S].disabled)return;c.stopPropagation();let A=c.deltaY<0;ne(!A)},style:_e,children:[K(Ze,{ref:n,ellipse:k,strokeWidth:s,svgRadii:i,bgColor:J}),K(Ke,{pointers:m,ellipse:k,svgRadii:i,strokeWidth:s,connectionBgColor:te,startEndAngle:D,svgCenter:T}),m.map(c=>K(Je,{pointer:c,id:c.id,startEndAngle:D,svgRadii:i,svgCenter:T,pointerBgColor:c.bgColor,pointerSVG:e.pointerSVG||c.pointerSVG,disabledPointerStyle:it},c.id)),K(et,{svgCenter:T,round:mt,min:L,max:V,pointers:m,data:e.data})]})};export{Xn as RoundSlider};
//# sourceMappingURL=mz-react-round-slider.esm.js.map
