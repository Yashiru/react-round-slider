/* 
MZ React Round Slider v1.0.0
https://github.com/mzusin/react-round-slider
MIT License      
Copyright (c) 2023-present, Miriam Zusin          
*/
var _t=Object.defineProperty;var Ee=Object.getOwnPropertySymbols;var Vt=Object.prototype.hasOwnProperty,kt=Object.prototype.propertyIsEnumerable;var Ie=(e,t,n)=>t in e?_t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N=(e,t)=>{for(var n in t||(t={}))Vt.call(t,n)&&Ie(e,n,t[n]);if(Ee)for(var n of Ee(t))kt.call(t,n)&&Ie(e,n,t[n]);return e};import{useEffect as p,useRef as xe,useState as h}from"react";var Nt=Math.pow,T=(e,t=1/0)=>{if(t===1/0)return e;t<0&&(t=0);let n=Nt(10,t);return Math.round(e*n)/n},_=(e,t)=>(e%t+t)%t,J=(e,t,n,r,o)=>(o-r)*(e-t)/(n-t)+r;var ee=e=>!isNaN(parseFloat(e))&&isFinite(e),se=(e,t,n,r=1/0)=>{let[o,i]=e,[a,l]=t;return[T(o+a*Math.cos(n),r),T(i+l*Math.sin(n),r)]};var Ce=(e,t=1/0)=>{let n=e*(180/Math.PI);return T(n,t)},X=(e,t=1/0)=>{let n=e*(Math.PI/180);return T(n,t)};var te=(e,t,n=1/0)=>{let r=Math.abs(_(e,360)-_(t,360));return T(r<=180?r:360-r,n)};var Bt=(e,t,n=1/0)=>{let r=[];for(let o=0;o<e.length;o++)r.push(T(e[o]-t[o],n));return r},Re=(e,t,n=1/0)=>Bt(e,t,n);var Ht=(e,t,n=1/0)=>{let r=[];for(let o=0;o<e.length;o++)r.push(T(e[o]*t,n));return r},Ae=(e,t,n=1/0)=>Ht(e,t,n);var Ot=(e,t=1/0)=>{let n=0;for(let r=0;r<e.length;r++)n+=e[r]*e[r];return T(Math.sqrt(n),t)};var $t=(e,t=1/0)=>{let n=Ot(e),r=[];for(let o=0;o<e.length;o++)r.push(n===0?0:T(e[o]/n,t));return r},De=(e,t=1/0)=>$t(e,t);var we=(e,t,n,r)=>(t=t%Math.PI*2,[e[0]+Math.cos(t)*n,e[1]+Math.sin(t)*r]);var le=()=>Math.random().toString(36).substring(2)+new Date().getTime().toString(36);var v=(e,t)=>ee(e)?Number(e):t,ne=(e,t)=>e==null?t:e,z=(e,t)=>e==null?t:e;var ue="#efefef",ce="#5daed2",W="#333";var ye={filter:"opacity(0.7) grayscale(100%)"},Le={outline:"none"},_e={outline:"none"},me=2,K=3,Q=20;var Ve=(e,t,n)=>n>=e&&n<=t||n+360>=e&&n+360<=t,ke=(e,t)=>{let n=v(e,0),r=v(t,359.999);return n=_(n,360),r=_(r,360),n<0&&(n+=360),r<0&&(r+=360),r<n&&(r+=360),n===r&&(r+=359.999),[n,r]};var Oe=e=>{if(e.length<=0)return[0,0];let t=-1/0,n=-1/0;for(let r of e){let[o,i]=r.pointerRadii;t=Math.max(t,Math.max(0,o)),n=Math.max(n,Math.max(0,i))}return[t,n]},$e=(e,t,n)=>{if(n&&n.length>0){let i=n.findIndex(u=>u===e),a=n.findIndex(u=>u===t),l=i===-1?0:i,s=a===-1?n.length-1:a;return[l,s]}let r=v(e,0),o=v(t,100);return r>o&&(o=r+100),[r,o]},zt=(e,t,n,r)=>{if(r&&r.length>0){let i=r.findIndex(a=>a===e);return i===-1?0:i}let o=v(e,t);return o<t&&(o=t),o>n&&(o=n),o};var re=(e,t,n,r,o)=>{let i=t===n?0:J(e,0,100,t,n);return o&&o.length>0?o[Math.round(i)]:T(i,r)},Wt=(e,t)=>t===0?0:Math.round(e/t)*t,de=(e,t,n,r)=>{if(r===void 0&&n&&(r=1),r===void 0)return;let o=t-e;return o===0?0:r*100/o},Fe=(e,t,n,r,o,i)=>{let a=[],l=e||[];for(let s=0;s<l.length;s++){let u=l[s];if(u.rx<=0||u.ry<=0)continue;let d=zt(u.value,t,n,r),g=t===n?0:J(t,n,0,100,d),m={pointerRadii:[v(u.rx,10),v(u.ry,10)],percent:g,id:le(),index:0,bgColor:u.bgColor||o||W,pointerSVG:i||u.pointerSVG,disabled:u.disabled===!0,keyboardDisabled:!1,mousewheelDisabled:!1,ariaLabel:u.ariaLabel};a.push(m)}if(a.length>1){a.sort((s,u)=>s.percent-u.percent);for(let s=0;s<a.length;s++)a[s].index=s}return!a||a.length<=0?[{pointerRadii:[10,10],percent:0,id:le(),index:0,bgColor:W,disabled:!1,keyboardDisabled:!1,mousewheelDisabled:!1}]:a},Y=(e,t,n,r,o)=>{let i=Math.abs(n-t),a=e*i/100,l=_(t+a,360),s=X(l);return s=J(s,0,Math.PI*2,0,Math.PI),{position:we(o,s,r[0],r[1]),angleDegrees:l}},Ue=e=>{if(!e||e.length<2)return null;let t=1/0,n=null,r=-1/0,o=null;for(let i=0;i<e.length;i++){let a=e[i];a.percent<t&&(t=a.percent,n=a),a.percent>r&&(r=a.percent,o=a)}return n===null||o===null?null:[n,o]},Ge=(e,t,n,r,o,i,a,l,s,u)=>{let[d,g]=t,{left:m,top:x}=e.getBoundingClientRect(),f=[d-m,g-x],S=Re(f,n),[A,I]=r,b=Math.atan2(S[1]/I,S[0]/A);b<0&&(b+=2*Math.PI);let P=Ce(b);if(!Ve(o,i,P)){let D=te(P,o),H=te(P,i);return D<=H?a:l}let B=Math.abs(i-o),C=P*100/B,V=de(a,l,s,u);return V===void 0?C:Wt(C,V)},Z=(e,t)=>!e||!t?-1:e.findIndex(n=>n.id===t),Yt=e=>e.getAttribute("data-type")==="panel",qt=e=>e.getAttribute("data-type")==="panel-fill",Xt=(e,t)=>e.getAttribute("data-type")==="pointer"&&e.getAttribute("data-id")===t||e.querySelector(`[data-type="pointer"][data-index="${t}"]`)!==null,ze=(e,t,n,r,o,i,a)=>{if(t.length<=0)return null;if(t.length===1)return t[0].id;if(a==="drag")return r;if(Yt(e)||qt(e)){let l=Math.abs(i-o),s=n*l/100,u=1/0,d=null;for(let g=0;g<t.length;g++){let m=t[g],x=m.percent*l/100,f=te(x,s);f<u&&(u=f,d=m.id)}return d}for(let l=0;l<t.length;l++){let s=t[l];if(Xt(e,s.id))return s.id}return r};var Kt=(e,t)=>{let n=e.find(l=>l.id===t);if(!n)return null;let r=_(n.index+1,e.length),o=e.find(l=>l.index===r);if(!o)return null;let i=_(n.index-1,e.length),a=e.find(l=>l.index===i);return[n,o,a]},We=(e,t)=>{if(e[0].disabled)return e;let n=[...e],r=n[0];return r.percent=t,n[0]=r,n},Ye=(e,t,n)=>{if(!n)return e;let r=e.findIndex(a=>a.id===n);if(r===-1||e[r].disabled)return e;let o=[...e],i=N({},o[r]);return i.percent=t,o[r]=i,o},qe=(e,t,n,r,o)=>{let[i,a,l]=Kt(t,n),s=e-i.percent,u=Math.abs(o-r)/2;if(s!==0&&i.percent!==0&&e!==0){let d=Math.abs(s)>u?s<0:s>=0;d&&a.percent>=i.percent&&(e=Math.min(e,a.percent)),!d&&l.percent<=i.percent&&(e=Math.max(e,l.percent))}return e};var he=(e,t,n)=>{let[r,o]=e,[i,a]=t,l=Math.max(0,i*2-n),s=Math.max(0,a*2-n),u=r*2+n+l,d=o*2+n+s;return[u,d]},fe=(e,t,n)=>{let[r,o]=he(e,t,n);return[T(r/2,2),T(o/2,2)]},Xe=(e,t,n,r,o)=>{let i=t,a=i-e<=180?0:1;e>i&&(i+=360);let l=fe(n,r,o),s=se(l,n,X(e)),u=se(l,n,X(i));return{start:s,end:u,largeArcFlag:a}};import{forwardRef as Qt}from"react";import{jsx as jt}from"react/jsx-runtime";var Zt=(e,t)=>{let{ellipse:n,strokeWidth:r,svgRadii:o,bgColor:i}=e,{start:a,end:l,largeArcFlag:s}=n;return jt("path",{"data-type":"panel",ref:t,d:`M ${a[0]} ${a[1]} A ${o[0]} ${o[1]} 0 ${s} 1 ${l[0]} ${l[1]}`,stroke:i,strokeWidth:r,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer"})},Ke=Qt(Zt);import{useEffect as Jt,useState as ge}from"react";import{Fragment as tn,jsx as Qe}from"react/jsx-runtime";var en=e=>{let{pointers:t,ellipse:n,strokeWidth:r,svgCenter:o,svgRadii:i,connectionBgColor:a,startEndAngle:l}=e,{start:s}=n,[u,d]=l,[g,m]=ge(null),[x,f]=ge(null),[S,A]=ge(0);return Jt(()=>{if(!t||t.length<=0)return;if(t.length<=1){let D=t[0],{position:H,angleDegrees:ae}=Y(D.percent,u,d,i,o);m(s),f(H),A(Math.abs(ae-u)<=180?0:1);return}let I=Ue(t);if(I===null)return;let b=I[0],P=I[1],{position:M,angleDegrees:B}=Y(b.percent,u,d,i,o),{position:C,angleDegrees:V}=Y(P.percent,u,d,i,o);m(M),f(C),A(Math.abs(V-B)<=180?0:1)},[d,t,s,u,o,i]),Qe(tn,{children:g!==null&&x!==null&&Qe("path",{"data-type":"panel-fill",d:`M ${g[0]} ${g[1]} A ${i[0]} ${i[1]} 0 ${S} 1 ${x[0]} ${x[1]}`,stroke:a,strokeWidth:r+1,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer",pointerEvents:"none"})})},Ze=en;import{useEffect as je,useState as Je}from"react";import{Fragment as et,jsx as oe,jsxs as rn}from"react/jsx-runtime";var nn=e=>{let{id:t,pointer:n,startEndAngle:r,svgRadii:o,svgCenter:i,pointerBgColor:a,pointerSVG:l,disabledPointerStyle:s,min:u,max:d,round:g,data:m,ariaLabel:x}=e,{percent:f,pointerRadii:S}=n,[A,I]=S,[b,P]=r,[M,B]=Je(null),[C,V]=Je("");je(()=>{let{position:H}=Y(f,b,P,o,i);B(H)},[f,o,i,b,P]),je(()=>{V(re(f,u,d,g,m))},[u,d,g,m,f]);let D=N({},_e);return n.disabled&&(D=N(N({},D),s)),M?rn(et,{children:[!l&&oe("ellipse",{className:n.disabled?"disabled":void 0,style:D,"aria-disabled":n.disabled?!0:void 0,"aria-valuenow":C,"aria-valuetext":(C||"").toString(),"aria-label":x,"data-type":"pointer","data-index":n.index,"data-id":t,"data-percent":n.percent,cx:M[0],cy:M[1],rx:A,ry:I,cursor:"pointer",tabIndex:0,role:"slider",fill:a}),l&&oe("g",{className:n.disabled?"disabled":void 0,style:D,"aria-disabled":n.disabled?!0:void 0,"aria-valuenow":C,"aria-valuetext":C.toString(),"aria-label":x,"data-type":"pointer","data-index":n.index,"data-id":t,"data-percent":n.percent,cursor:"pointer",transform:`translate(${M[0]-A/2}, ${M[1]-I/2})`,tabIndex:0,role:"slider",children:oe("g",{pointerEvents:"none",children:l})})]}):oe(et,{})},tt=nn;import{useEffect as on,useState as an}from"react";import{jsx as ln}from"react/jsx-runtime";var sn=e=>{let{svgCenter:t,round:n,min:r,max:o,pointers:i,data:a,textPrefix:l,textSuffix:s}=e,[u,d]=t,[g,m]=an("");return on(()=>{let x=[];for(let f of i){let S=re(f.percent,r,o,n,a);x.push(`${l||""}${S}${s||""}`)}m(x.join(" "))},[a,o,r,i,n,l,s]),ln("text",{x:u,y:d,style:{userSelect:"none"},textAnchor:"middle",children:g})},nt=sn;import{useEffect as un,useState as cn}from"react";import{jsx as rt}from"react/jsx-runtime";var mn=(e,t,n)=>{var i;let r=[],o=e===0?0:t/e;for(let a=0;a<e;a++){let l=a*o,s=(i=n==null?void 0:n.current)==null?void 0:i.getPointAtLength(l),u=s?s.x:0,d=s?s.y:0;r.push({distance:l,x:u,y:d})}return r},dn=e=>{let{ticksColor:t,ticksWidth:n,ticksHeight:r,ticsCount:o,totalLength:i,sliderRef:a,svgCenter:l}=e,[s,u]=cn([]);un(()=>{u(mn(o,i,a))},[o,i,a]);let[d,g]=l;return rt("g",{children:s.map((m,x)=>{let{x:f,y:S}=m,A=r||Q,I=De([d-f,g-S]),b=Ae(I,A),P=f+b[0],M=S+b[1];return rt("line",{x1:f,y1:S,x2:P,y2:M,strokeWidth:n||K,stroke:t},x)})})},ot=dn;import{jsx as j,jsxs as bn}from"react/jsx-runtime";var wr=e=>{var Pe;let t=xe(null),n=xe(null),r=xe("click"),[o,i]=h(null),[a,l]=h([0,0]),[s,u]=h(0),[d,g]=h([0,0]),[m,x]=h([]),[f,S]=h([0,0]),[A,I]=h([0,0]),[b,P]=h([0,0]),[M,B]=h([0,0]),[C,V]=h({start:[0,0],end:[0,0],largeArcFlag:0}),[D,H]=h(ue),[ae,at]=h(ce),[be,it]=h(W),[st,lt]=h(!1),[O,ut]=h(!1),[ct,mt]=h(void 0),[ve,dt]=h(!1),[ht,ft]=h(!1),[pe,gt]=h(me),[w,y]=d,[xt,bt]=A,[$,F]=M,[vt,pt]=h(!1),[St,Mt]=h(""),[Tt,Pt]=h(""),[Et,It]=h(!1),[Ct,Rt]=h(K),[At,Dt]=h(Q),[wt,yt]=h(0);p(()=>{It(z(e.disableTicks,!1)),Rt(v(e.ticksWidth,K)),Dt(v(e.ticksHeight,Q));let c=v(e.ticsCount,0);c||(e.data&&e.data.length>0?c=e.data.length-1:c=Math.abs($-F)%360*(y-w)/360),yt(c)},[e.disableTicks,e.ticksWidth,e.ticksHeight,e.ticsCount,y,w,e.data,$,F]),p(()=>{H(ne(e.bgColor,ue)),at(ne(e.connectionBgColor,ce)),it(ne(e.pointerBgColor,W))},[e.bgColor,e.connectionBgColor,e.pointerBgColor]),p(()=>{lt(z(e.pointersOverlap,!1))},[e.pointersOverlap]),p(()=>{ut(z(e.disabled,!1)),mt(e.disabledPointerStyle||ye),dt(z(e.keyboardDisabled,!1)),ft(z(e.mousewheelDisabled,!1))},[e.disabled,e.disabledPointerStyle,e.keyboardDisabled,e.mousewheelDisabled]),p(()=>{l([v(e.rx,150),v(e.ry,150)])},[e.rx,e.ry]),p(()=>{u(v(e.strokeWidth,5))},[e.strokeWidth]),p(()=>{g($e(e.min,e.max,e.data))},[e.min,e.max,e.data]),p(()=>{x(Fe(e.pointers,w,y,e.data,be,e.pointerSVG))},[e.pointers,e.data,w,y,be,e.pointerSVG]),p(()=>{S(Oe(m))},[m]),p(()=>{I(he(a,f,s))},[a,f,s]),p(()=>{P(fe(a,f,s))},[a,f,s]),p(()=>{B(ke(e.startAngleDegrees,e.endAngleDegrees))},[e.startAngleDegrees,e.endAngleDegrees]),p(()=>{V(Xe($,F,a,f,s))},[$,F,a,f,s]),p(()=>{gt(v(e.round,me))},[e.round]),p(()=>{pt(e.hideText),Mt(e.textPrefix),Pt(e.textSuffix)},[e.hideText,e.textPrefix,e.textSuffix]);let U=c=>{var q;if(O||!t||!t.current)return;let E=c.type.indexOf("mouse")!==-1?c.clientX:c.touches[0].clientX,k=c.type.indexOf("mouse")!==-1?c.clientY:c.touches[0].clientY,R=Ge(t.current,[E,k],b,a,$,F,w,y,e.data,e.step);if(m.length<=1){i(((q=m[0])==null?void 0:q.id)||null),x(G=>We(G,R));return}let L=o;i(G=>(L=ze(c.target,m,R,G,$,F,r.current),L)),L!==null&&x(G=>(st||y===w||(R=qe(R,G,L,w,y)),Ye(G,R,L)))},Lt=c=>{if(O)return;let E=c.target;!E||!(E===n.current||E.getAttribute("data-type")==="pointer")||(U(c),window.addEventListener("mousemove",U),window.addEventListener("mouseup",Se),r.current="drag")},Se=c=>{window.removeEventListener("mousemove",U),window.removeEventListener("mouseup",U),r.current="click"},ie=c=>{let E=Z(m,o);if(E===-1)return;let k=N({},m[E]),R=k.percent;if(!ee(R))return;let L=de(w,y,e.data,e.step);L===void 0&&(L=1),c?R-=L:R+=L,R>100&&(R=100),k.percent=R;let q=[...m];q[E]=k,x(q)},Me=()=>{if(O||ve)return;let c=Z(m,o);c===-1||m[c].disabled||ie(!1)},Te=()=>{if(O||ve)return;let c=Z(m,o);c===-1||m[c].disabled||ie(!0)};return bn("svg",{"data-type":"bg",xmlns:"http://www.w3.org/2000/svg",ref:t,width:xt,height:bt,onMouseDown:Lt,onMouseUp:Se,onTouchMove:U,onTouchStart:U,onKeyDown:c=>{switch(c.key){case"ArrowLeft":{c.preventDefault(),Me();break}case"ArrowRight":{c.preventDefault(),Te();break}case"ArrowUp":{c.preventDefault(),Me();break}case"ArrowDown":{c.preventDefault(),Te();break}}},className:O?"disabled":void 0,"aria-disabled":O?!0:void 0,tabIndex:0,focusable:!0,onWheel:c=>{if(O||ht)return;let E=Z(m,o);if(E===-1||m[E].disabled)return;c.stopPropagation();let k=c.deltaY<0;ie(!k)},style:Le,children:[j(Ke,{ref:n,ellipse:C,strokeWidth:s,svgRadii:a,bgColor:D}),!Et&&j(ot,{sliderRef:n,ticksWidth:Ct,ticksHeight:At,ticksColor:D,ticsCount:wt,totalLength:((Pe=n==null?void 0:n.current)==null?void 0:Pe.getTotalLength())||0,svgCenter:b}),j(Ze,{pointers:m,ellipse:C,svgRadii:a,strokeWidth:s,connectionBgColor:ae,startEndAngle:M,svgCenter:b}),m.map(c=>j(tt,{pointer:c,id:c.id,startEndAngle:M,svgRadii:a,svgCenter:b,pointerBgColor:c.bgColor,pointerSVG:e.pointerSVG||c.pointerSVG,disabledPointerStyle:ct,min:w,max:y,round:pe,data:e.data,ariaLabel:c.ariaLabel},c.id)),!vt&&j(nt,{svgCenter:b,round:pe,min:w,max:y,pointers:m,data:e.data,textPrefix:St,textSuffix:Tt})]})};export{wr as RoundSlider};
//# sourceMappingURL=mz-react-round-slider.esm.js.map
