/* 
MZ React Round Slider v1.0.0
https://github.com/mzusin/react-round-slider
MIT License      
Copyright (c) 2023-present, Miriam Zusin          
*/
var le=Object.defineProperty,ue=Object.defineProperties;var me=Object.getOwnPropertyDescriptors;var Y=Object.getOwnPropertySymbols;var he=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable;var X=(e,r,t)=>r in e?le(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,$=(e,r)=>{for(var t in r||(r={}))he.call(r,t)&&X(e,t,r[t]);if(Y)for(var t of Y(r))ce.call(r,t)&&X(e,t,r[t]);return e},F=(e,r)=>ue(e,me(r));import{useContext as Se,useRef as ne,useState as be}from"react";var ge=Math.pow,m=(e,r=1/0)=>{if(r===1/0)return e;r<0&&(r=0);let t=ge(10,r);return Math.round(e*t)/t},b=(e,r)=>(e%r+r)%r,_=(e,r,t,n,o)=>(o-n)*(e-r)/(t-r)+n;var O=e=>!isNaN(parseFloat(e))&&isFinite(e),H=(e,r,t,n=1/0)=>{let[o,a]=e,[i,s]=r;return[m(o+i*Math.cos(t),n),m(a+s*Math.sin(t),n)]},U=(e,r=1/0)=>{let t=Math.atan2(e[1],e[0]);return m(t,r)};var W=(e,r=1/0)=>{let t=e*(180/Math.PI);return m(t,r)},N=(e,r=1/0)=>{let t=e*(Math.PI/180);return m(t,r)};var z=(e,r,t=1/0)=>{let n=Math.abs(b(e,360)-b(r,360));return m(n<=180?n:360-n,t)};var fe=(e,r,t=1/0)=>{let n=[];for(let o=0;o<e.length;o++)n.push(m(e[o]-r[o],t));return n},Q=(e,r,t=1/0)=>fe(e,r,t);var Z=(e,r,t,n)=>(r=r%Math.PI*2,[e[0]+Math.cos(r)*t,e[1]+Math.sin(r)*n]);import{createContext as de}from"react";var k=(e,r,t)=>t>=e&&t<=r||t+360>=e&&t+360<=r,j=(e,r)=>{let t=d(e,P),n=d(r,A);return t=b(t,360),n=b(n,360),t<0&&(t+=360),n<0&&(n+=360),n<t&&(n+=360),t===n&&(n+=359.999),[t,n]};var V=(e,r,t)=>{let[n,o]=e,[a,i]=r,s=Math.max(0,a*2-t),u=Math.max(0,i*2-t);return[m(n+t/2+s/2,2),m(o+t/2+u/2,2)]},L=(e,r,t)=>{let[n,o]=e,[a,i]=r,s=Math.max(0,a*2-t),u=Math.max(0,i*2-t),h=n*2+t+s,v=o*2+t+u;return{svgWidth:h,svgHeight:v}},B=(e,r,t,n,o)=>{let a=r,i=a-e<=180?0:1;e>a&&(a+=360);let s=V(t,n,o),u=H(s,t,N(e)),h=H(s,t,N(a));return{sliderStartPoint:u,sliderEndPoint:h,largeArcFlag:i}},K=(e,r,t,n,o,a,i,s)=>{let u=e.getBoundingClientRect(),[h,v]=r,x=h-u.left,p=v-u.top,M=Q([x,p],t),c=U(M);c<0&&(c+=2*Math.PI);let S=W(c),g=z(S,o),D=z(S,a);return k(o,a,S)?(c=_(c,0,Math.PI*2,0,Math.PI),Z(t,c,n[0],n[1])):g<=D?i:s};var R=5,w=200,C=200,E=10,T=10,J="#efefef",P=0,A=180,d=(e,r)=>O(e)?Number(e):r,ve=(e,r)=>e==null?r:e,ee=e=>{if(!e||e.length<=0)return[{pointerRadii:[E,T]}];let r=[];for(let t of e){let n=[d(t.rx,E),d(t.ry,T)];r.push({pointerRadii:n})}return r},xe=e=>{let r=-1/0,t=-1/0;for(let n of e)r=Math.max(r,n.pointerRadii[0]),t=Math.max(t,n.pointerRadii[1]);return[r,t]},te=e=>{let r=ee(e.pointers),t=[d(e.rx,w),d(e.ry,C)],[n,o]=j(e.startAngleDegrees,e.endAngleDegrees),a=d(e.strokeWidth,R),i=ve(e.bgColor,J),s=xe(r),{svgWidth:u,svgHeight:h}=L(t,s,a),{sliderStartPoint:v,sliderEndPoint:x,largeArcFlag:p}=B(n,o,t,s,a),M=V(t,s,a);return{pointers:r,svgRadii:t,startAngleDegrees:n,endAngleDegrees:o,strokeWidth:a,bgColor:i,svgWidth:u,svgHeight:h,svgCenter:M,sliderStartPoint:v,sliderEndPoint:x,largeArcFlag:p}},y=de(F($($({pointers:ee(),svgRadii:[w,C],startAngleDegrees:P,endAngleDegrees:A,strokeWidth:R,bgColor:J},L([w,C],[E,T],R)),B(P,A,[w,C],[E,T],R)),{svgCenter:V([w,C],[E,T],R)}));import{useRef as pe}from"react";import{jsx as Me}from"react/jsx-runtime";var re=e=>{let r=pe(null),[t,n]=e.center,[o,a]=e.pointerRadii;return Me("ellipse",{"data-type":"pointer",ref:r,cx:t,cy:n,rx:o,ry:a,cursor:"pointer",fill:"#000"})};import{jsx as oe,jsxs as Re}from"react/jsx-runtime";var ae=()=>{let e=ne(null),r=ne(null),t=Se(y),{sliderStartPoint:n,sliderEndPoint:o,largeArcFlag:a,svgRadii:i,bgColor:s,strokeWidth:u,svgWidth:h,svgHeight:v,svgCenter:x,startAngleDegrees:p,endAngleDegrees:M}=t,[c,S]=be(t.pointers.map(()=>n)),g=l=>{if(!e||!e.current||!r||!r.current)return;let f=l.type.indexOf("mouse")!==-1?l.clientX:l.touches[0].clientX,q=l.type.indexOf("mouse")!==-1?l.clientY:l.touches[0].clientY,ie=K(e.current,[f,q],x,i,p,M,n,o),G=[...c];G[0]=ie,S(G)},D=l=>{let f=l.target;!f||!(f===r.current||f.getAttribute("data-type")==="pointer")||(l.preventDefault&&l.preventDefault(),g(l),window.addEventListener("mousemove",g),window.addEventListener("mouseup",I))},I=l=>{window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",g)};return Re("svg",{xmlns:"http://www.w3.org/2000/svg",ref:e,width:h,height:v,onMouseDown:D,onMouseUp:I,onTouchMove:g,onTouchStart:g,children:[oe("path",{ref:r,d:`M ${n[0]} ${n[1]} A ${i[0]} ${i[1]} 0 ${a} 1 ${o[0]} ${o[1]}`,stroke:s,strokeWidth:u,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer"}),c.map((l,f)=>oe(re,{center:l,pointerRadii:t.pointers[f].pointerRadii},f))]})};import{jsx as se}from"react/jsx-runtime";var Je=e=>se(y.Provider,{value:te(e),children:se(ae,{})});export{Je as RoundSlider};
//# sourceMappingURL=mz-react-round-slider.esm.js.map
