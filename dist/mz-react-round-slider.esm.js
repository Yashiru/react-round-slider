/* 
MZ React Round Slider v1.0.0
https://github.com/mzusin/react-round-slider
MIT License      
Copyright (c) 2023-present, Miriam Zusin          
*/
var ze=Object.defineProperty;var oe=Object.getOwnPropertySymbols;var Xe=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable;var se=(e,t,n)=>t in e?ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U=(e,t)=>{for(var n in t||(t={}))Xe.call(t,n)&&se(e,n,t[n]);if(oe)for(var n of oe(t))qe.call(t,n)&&se(e,n,t[n]);return e};import{useEffect as ne,useRef as Bt,useState as re}from"react";var Ye=Math.pow,T=(e,t=1/0)=>{if(t===1/0)return e;t<0&&(t=0);let n=Ye(10,t);return Math.round(e*n)/n},S=(e,t)=>(e%t+t)%t,D=(e,t,n,o,r)=>(r-o)*(e-t)/(n-t)+o;var ae=e=>!isNaN(parseFloat(e))&&isFinite(e);var ie=(e,t=1/0)=>{let n=e*(180/Math.PI);return T(n,t)},E=(e,t=1/0)=>{let n=e*(Math.PI/180);return T(n,t)};var le=(e,t,n=1/0)=>{let o=[];for(let r=0;r<e.length;r++)o.push(T(e[r]-t[r],n));return o},ue=(e,t,n=1/0)=>le(e,t,n);var Ke=(e,t,n=1/0)=>{let o=[];for(let r=0;r<e.length;r++)o.push(T(e[r]*t,n));return o},V=(e,t,n=1/0)=>Ke(e,t,n);var ce=(e,t=1/0)=>{let n=0;for(let o=0;o<e.length;o++)n+=e[o]*e[o];return T(Math.sqrt(n),t)};var H=(e,t,n=1/0)=>{let o=le(e,t);return ce(o,n)};var We=(e,t=1/0)=>{let n=ce(e),o=[];for(let r=0;r<e.length;r++)o.push(n===0?0:T(e[r]/n,t));return o},me=(e,t=1/0)=>We(e,t);var C=(e,t,n)=>(t=t%Math.PI*2,[e[0]+Math.cos(t)*n,e[1]+Math.sin(t)*n]);var W=()=>Math.random().toString(36).substring(2)+new Date().getTime().toString(36);var ge=(e,t,n,o,r,s)=>{let a=t+n*2,i=Math.max(0,o*2-a),c=e*2+a+i,[l,u]=Ze(e,o,t,n);return{cx:l,cy:u,radius:e,size:c,thickness:t,border:n,startAngleDeg:r,endAngleDeg:s}},Ze=(e,t,n,o)=>{let r=Qe(e,t,n,o),s=T(r/2,2);return[s,s]},Qe=(e,t,n,o)=>{let r=n+o*2,s=Math.max(0,t*2-r);return e*2+r+s};var de="#efefef";var he="#444444";var Z="#163a86",Q="#000",j="#a8a8a8";var J="#000",fe="#5daed2",pe="#97b0bb",xe="#000";var be="#efefef",De="#000";var g=(e,t)=>ae(e)?Number(e):t,x=(e,t)=>e==null?t:e,M=(e,t)=>e==null?t:e;var G=(e,t,n)=>(e>t&&(t+=360),n>=e&&n<=t||n+360>=e&&n+360<=t),F=(e,t)=>{t<e&&(t+=360);let n=t-e,o=S(n,360);return o===0&&n>0?360:o},ve=(e,t,n)=>{e>t&&(t+=360);let o=2*Math.PI*n;e>t&&(t+=360);let r=t-e,s=-(e/360)*o,a=r/360*o,i=o-a;return{strokeDasharray:[a,i].join(" "),strokeOffset:s}};var L=(e,t,n,o,r,s,a)=>{let{left:i,top:c}=e.getBoundingClientRect(),l=[t-i,n-c],u=ue(l,[o,r]),m=Math.atan2(u[1]/a,u[0]/s);return m<0&&(m+=2*Math.PI),ie(m)},Ie=(e,t,n,o)=>{o<n&&(n-=360),t>180&&(t-=360);let r=D(t,n,o,e.min,e.max),s=Math.abs(e.max-e.min);if(r!==e.max&&(r=S(r,s)),e.data.length>0){let a=Math.round(r);r=e.data[a]}else r=T(r,e.round);return r},je=(e,t,n,o)=>{let r;if(o<n&&(o+=360),e.data.length>0){let s=e.data.findIndex(a=>a===t);r=s===-1?0:s}else r=typeof t!="number"?e.min:t;return S(D(r,e.min,e.max,n,o),360)},Je=(e,t)=>{if(!e||!e.pointers||e.pointers.length<0||!t)return[{id:W(),index:0,radius:10,angleDeg:S(g(e.pathStartAngle,0),360),bgColor:x(e.pointerBgColor,Z),bgColorSelected:x(e.pointerBgColorSelected,Q),bgColorDisabled:x(e.pointerBgColorDisabled,j),border:g(e.pointerBorder,0),borderColor:x(e.pointerBorderColor,J),disabled:!!e.disabled}];let n=[];for(let o=0;o<e.pointers.length;o++){let r=e.pointers[o],s=r.bgColor?r.bgColor:x(e.pointerBgColor,Z),a=r.bgColorSelected?r.bgColorSelected:x(e.pointerBgColorSelected,Q),i=r.bgColorDisabled?r.bgColorDisabled:x(e.pointerBgColorDisabled,j),c=r.border?r.border:g(e.pointerBorder,0),l=r.borderColor?r.borderColor:x(e.pointerBorderColor,J),u=r.disabled!==void 0?r.disabled:M(e.disabled,!1),m=je(t,r.value,g(e.pathStartAngle,0),g(e.pathEndAngle,360)),d=ee(m,t.stepAngleDeg);n.push({id:W(),index:o,radius:g(r.radius,10),angleDeg:d,bgColor:s,bgColorSelected:a,bgColorDisabled:i,border:c,borderColor:l,disabled:u})}return n},Ae=(e,t)=>{let n=Je(e,t);return{pointers:n,maxRadius:et(n)}},et=e=>{if(e.length<=0)return 0;let t=-1/0;for(let n of e)t=Math.max(t,Math.max(0,n.radius+n.border/2));return t},$=(e,t,n,o,r)=>{if(!e||e.length<=0)return null;if(e.length===1)return e[0];let s=D(E(t),0,Math.PI*2,0,Math.PI),a=C([n,o],s,r),i,c=null,l=e.filter(u=>!u.disabled);for(let u of l){let m=D(E(u.angleDeg),0,Math.PI*2,0,Math.PI),d=C([n,o],m,r),h=H(a,d);(i===void 0||h<i)&&(i=h,c=u)}return U({},c)},z=(e,t,n,o,r,s)=>{let a=D(E(n),0,Math.PI*2,0,Math.PI),i=C([o,r],a,s),c=D(E(e),0,Math.PI*2,0,Math.PI),l=C([o,r],c,s),u=D(E(t),0,Math.PI*2,0,Math.PI),m=C([o,r],u,s),d=H(i,l),h=H(i,m);return d<=h?e:t},Ee=(e,t)=>{if(!e||e.length<=0)return null;let n,o,r=null,s=null;for(let a of e){let i=F(t,a.angleDeg);(n===void 0||i<n)&&(r=a,n=i),(o===void 0||i>o)&&(s=a,o=i)}return r===null||s===null?null:[r,s]},ee=(e,t)=>t===0?0:Math.round(e/t)*t;import{useEffect as Ce,useState as tt,useRef as nt,useCallback as rt}from"react";var X={outline:"none"};import{Fragment as at,jsx as te}from"react/jsx-runtime";var ot=(e,t,n,o,r)=>e.disabled?r:document.activeElement===t.current&&o||n,st=e=>{let t=nt(null),{pointer:n,svg:o,$svg:r,setPointer:s,data:a,settings:i}=e,{radius:c,angleDeg:l,bgColor:u,bgColorSelected:m,bgColorDisabled:d,border:h,borderColor:b}=e.pointer,{cx:v,cy:I}=o,[R,B]=tt(null);Ce(()=>{let f=D(E(l),0,Math.PI*2,0,Math.PI),A=C([v,I],f,o.radius);B(A)},[l,v,I,o.radius]);let P=rt(f=>{if(!r||i.disabled||n.disabled)return;let A=f.type.indexOf("mouse")!==-1?f.clientX:f.touches[0].clientX,_=f.type.indexOf("mouse")!==-1?f.clientY:f.touches[0].clientY,p=L(r,A,_,o.cx,o.cy,o.radius,o.radius);G(o.startAngleDeg,o.endAngleDeg,p)?n.angleDeg=p:n.angleDeg=z(o.startAngleDeg,o.endAngleDeg,n.angleDeg,o.cx,o.cy,o.radius),s(n)},[r,n,s,o.cx,o.cy,o.endAngleDeg,o.radius,o.startAngleDeg,i.disabled]),Y=()=>{window.removeEventListener("mousemove",P),window.removeEventListener("mouseup",P)},K=f=>{i.disabled||n.disabled||!f.target||(P(f),window.addEventListener("mousemove",P),window.addEventListener("mouseup",Y))},O=f=>{if(!(i.disabled||n.disabled||i.keyboardDisabled))switch(f.key){case"ArrowLeft":{f.preventDefault(),n.angleDeg+=a.stepAngleDeg,s(n);break}case"ArrowRight":{f.preventDefault(),n.angleDeg-=a.stepAngleDeg,s(n);break}case"ArrowUp":{f.preventDefault(),n.angleDeg-=a.stepAngleDeg,s(n);break}case"ArrowDown":{f.preventDefault(),n.angleDeg+=a.stepAngleDeg,s(n);break}}};return Ce(()=>{let f=t.current,A=p=>{i.disabled||n.disabled||(p.preventDefault(),p.stopPropagation(),P(p))},_=p=>{if(i.disabled||n.disabled||i.mousewheelDisabled||document.activeElement!==f)return;p.stopPropagation(),p.preventDefault(),p.deltaY<0?n.angleDeg+=a.stepAngleDeg:n.angleDeg-=a.stepAngleDeg,s(n)};return f==null||f.addEventListener("touchmove",A,{passive:!1}),document.addEventListener("wheel",_,{passive:!1}),()=>{f==null||f.removeEventListener("touchmove",A),document.removeEventListener("wheel",_)}},[R,P,a.stepAngleDeg,n,s,i.disabled,i.mousewheelDisabled]),te(at,{children:R&&te("g",{ref:t,transform:`translate(${R[0]-c/2}, ${R[1]-c/2})`,role:"slider","aria-disabled":n.disabled?!0:void 0,"data-type":"pointer","data-angle":n.angleDeg,"data-id":n.id,"data-index":n.index,onMouseDown:K,onKeyDown:O,tabIndex:0,cursor:n.disabled?"default":"pointer",style:X,children:te("circle",{cx:c/2,cy:c/2,r:c,fill:ot(n,t,u,m,d),strokeWidth:h,stroke:b})})})},Me=st;import{Fragment as lt,jsx as Pe}from"react/jsx-runtime";var it=e=>{let{pointers:t,settings:n,svg:o,$svg:r,setPointer:s,data:a}=e;return Pe(lt,{children:t.pointers.map(i=>Pe(Me,{pointer:i,svg:o,settings:n,$svg:r,setPointer:s,data:a},i.id))})},Re=it;var ke=e=>{let t=g(e.min,0),n=g(e.max,100),o=g(e.step,1),r=g(e.arrowStep,1),s=g(e.round,0),a=e.data||[];if(a.length>0){let d=a.findIndex(b=>b===t),h=a.findIndex(b=>b===n);t=d===-1?0:d,n=h===-1?a.length:h}else t>n&&(t=n+100);let i=g(e.pathStartAngle,0),c=g(e.pathEndAngle,360),l=S(i,360)===S(c,360),u=o*360/(n-t),m=r*360/(n-t);return{min:t,max:n,round:s,data:a,stepAngleDeg:u,arrowStepAngleDeg:m,isClosedShape:l}};import{useEffect as dt,useState as ht}from"react";var Le=(e,t,n,o,r,s)=>{if(!e.pointers||e.pointers.length<=0)return null;let a={radius:t,cx:n,cy:o,startAngleDeg:r,endAngleDeg:r,strokeDasharray:[0,0],strokeOffset:0};if(e.pointers.length===1)a.startAngleDeg=r,a.endAngleDeg=e.pointers[0].angleDeg;else{let b=Ee(e.pointers,r);if(!b)return null;let[v,I]=b;a.startAngleDeg=v.angleDeg,a.endAngleDeg=I.angleDeg}let i=F(r,s);a.startAngleDeg>a.endAngleDeg&&(a.endAngleDeg+=360);let c=F(a.startAngleDeg,a.endAngleDeg);c>i&&(c=360-c,[a.startAngleDeg,a.endAngleDeg]=[a.endAngleDeg,a.startAngleDeg]);let u=2*Math.PI*t,m=-(a.startAngleDeg/360)*u,d=c/360*u,h=u-d;return a.strokeDasharray=[d,h],a.strokeOffset=m,a};import{Fragment as pt,jsx as we}from"react/jsx-runtime";var ft=e=>{let{settings:t,pointers:n,$svg:o,svg:r,setPointer:s}=e,[a,i]=ht(null);dt(()=>{i(Le(n,r.radius,r.cx,r.cy,r.startAngleDeg,r.endAngleDeg))},[n,r.radius,r.cx,r.cy,r.startAngleDeg,r.endAngleDeg]);let c=l=>{if(!o||t.disabled)return;let u=L(o,l.clientX,l.clientY,r.cx,r.cy,r.radius,r.radius),m=$(n.pointers,u,r.cx,r.cy,r.radius);m&&(m.angleDeg=u,s(m))};return we(pt,{children:!M(t.hideConnection,!1)&&a&&we("circle",{cx:a.cx,cy:a.cy,r:a.radius,strokeDasharray:a.strokeDasharray.join(" "),strokeDashoffset:a.strokeOffset,stroke:t.disabled?x(t.connectionBgColorDisabled,pe):x(t.connectionBgColor,fe),strokeWidth:r.thickness+1,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:t.disabled?"default":"pointer",onClick:c,"data-type":"connection"})})},Oe=ft;import{useEffect as bt,useState as Dt}from"react";import{Fragment as Tt,jsx as ye}from"react/jsx-runtime";var vt=e=>{let{settings:t,pointers:n,svg:o,data:r}=e,{cx:s,cy:a}=o,[i,c]=Dt("");bt(()=>{let u=n.pointers.map(d=>Ie(r,d.angleDeg,o.startAngleDeg,o.endAngleDeg));u.sort((d,h)=>d.toString().localeCompare(h.toString(),"en",{numeric:!0}));let m=u.map(d=>`${t.textPrefix||""}${d}${t.textSuffix||""}`);c(m.join(" "))},[r,n.pointers,o.startAngleDeg,o.endAngleDeg,t.textPrefix,t.textSuffix]);let l=M(t.hideText,!1);return ye(Tt,{children:!l&&ye("text",{x:s,y:a,fill:x(t.textColor,xe),fontSize:g(t.textFontSize,16),fontFamily:t.textFontFamily,style:{userSelect:"none"},textAnchor:"middle",children:i})})},Fe=vt;import{useEffect as Ue,useState as Ve,Fragment as Mt}from"react";var Ne=(e,t)=>{let n=g(e.ticsCount,0);n||(t.data&&t.data.length>0?n=t.data.length:n=t.max);let o=g(e.ticksHeight,20);return{ticksCount:n,disableTicks:M(e.disableTicks,!1),ticksWidth:g(e.ticksWidth,3),ticksHeight:o,longerTicksHeight:g(e.longerTicksHeight,o*2),ticksDistanceToPanel:g(e.ticksDistanceToPanel,0),tickValuesDistance:g(e.tickValuesDistance,15),ticksColor:x(e.ticksColor,be),tickValuesColor:x(e.tickValuesColor,De),tickValuesFontSize:g(e.tickValuesFontSize,12),ticksGroupSize:g(e.ticksGroupSize,10),longerTickValuesOnly:M(e.longerTickValuesOnly,!0),showTickValues:M(e.showTickValues,!0)}},Be=(e,t,n,o,r,s)=>{let a=[],i=Math.abs(o-n),c=t===0?0:i/t,l=t;s.isClosedShape||l++;for(let u=0;u<l;u++){let m=n+u*c,d=D(E(m),0,Math.PI*2,0,Math.PI),[h,b]=C([r.cx,r.cy],d,r.radius),v=e.ticksGroupSize!==void 0&&u%e.ticksGroupSize===0,I=e.ticksHeight;v&&(I=e.longerTicksHeight);let R=me([r.cx-h,r.cy-b]),B=V(R,I),P=V(R,e.ticksDistanceToPanel);h+=P[0],b+=P[1];let Y=h+B[0],K=b+B[1],O;if(e.showTickValues&&(!e.longerTickValuesOnly||e.longerTickValuesOnly&&(v||e.ticksGroupSize===void 0))){let p=D(u,0,t,s.min,s.max);if(s.data.length>0){let y=Math.round(p);p=s.data[y]}else p=T(p,s.round);O=(p!=null?p:"").toString()}let f=0,A=0,_=O!==void 0;if(_){let p=g(I+e.tickValuesDistance,I*1.5),y=V(R,p);f=h+y[0],A=b+y[1]}a.push({x:h,y:b,x1:Y,y1:K,textX:f,textY:A,isLonger:v,tickValue:O,showText:_})}return a};import{Fragment as _t,jsx as q,jsxs as Rt}from"react/jsx-runtime";var Pt=e=>{let{settings:t,svg:n,data:o}=e,[r,s]=Ve(null),[a,i]=Ve([]);return Ue(()=>{s(Ne(t,o))},[t,o]),Ue(()=>{if(!r)return;let c=n.endAngleDeg;c<n.startAngleDeg&&(c+=360),i(Be(r,r.ticksCount,n.startAngleDeg,c,n,o))},[o,n,r]),q(_t,{children:r&&!r.disableTicks&&q("g",{children:a.map((c,l)=>{let{x:u,y:m,x1:d,y1:h,textX:b,textY:v,showText:I}=c;return Rt(Mt,{children:[q("line",{x1:u,y1:m,x2:d,y2:h,strokeWidth:r.ticksWidth,stroke:r.ticksColor}),I&&q("text",{x:b,y:v,textAnchor:"middle",dominantBaseline:"middle",fill:r.tickValuesColor,fontSize:r.tickValuesFontSize,fontFamily:t.tickValuesFontFamily,style:{userSelect:"none"},children:c.tickValue})]},l)})})})},He=Pt;import{useEffect as kt,useState as Lt}from"react";import{jsx as Ge,jsxs as Ot}from"react/jsx-runtime";var wt=e=>{let{settings:t,pointers:n,$svg:o,svg:r,setPointer:s}=e,[a,i]=Lt({strokeDasharray:"0 1000000",strokeOffset:0});return kt(()=>{i(ve(r.startAngleDeg,r.endAngleDeg,r.radius))},[r.startAngleDeg,r.endAngleDeg,r.radius]),Ot("g",{onClick:l=>{if(!o||t.disabled)return;let u=L(o,l.clientX,l.clientY,r.cx,r.cy,r.radius,r.radius),m=$(n.pointers,u,r.cx,r.cy,r.radius);m&&(m.angleDeg=u,s(m))},children:[r.border>0&&Ge("circle",{strokeDasharray:a.strokeDasharray,strokeDashoffset:a.strokeOffset,cx:r.cx,cy:r.cy,r:r.radius,stroke:x(t.pathBorderColor,he),strokeWidth:r.thickness+r.border*2,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer","data-type":"path-border"}),Ge("circle",{strokeDasharray:a.strokeDasharray,strokeDashoffset:a.strokeOffset,cx:r.cx,cy:r.cy,r:r.radius,stroke:x(t.pathBgColor,de),strokeWidth:r.thickness,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer","data-type":"path"})]})},$e=wt;import{Fragment as Vt,jsx as w,jsxs as Ut}from"react/jsx-runtime";var wr=e=>{let[t,n]=re(null),[o,r]=re(null),[s,a]=re(null),i=Bt(null);ne(()=>{n(ke(e))},[e]),ne(()=>{a(Ae(e,t))},[e,t]),ne(()=>{if(!s)return;let l=g(e.pathStartAngle,0),u=g(e.pathEndAngle,360);u<=l&&(u+=360),r(ge(g(e.pathRadius,150),g(e.pathThickness,5),g(e.pathBorder,0),s.maxRadius,l,u))},[e.pathRadius,e.pathThickness,e.pathBorder,e.pathStartAngle,e.pathEndAngle,s]);let c=l=>{if(e.disabled||!s.pointers||!l||l.disabled)return;if(l.angleDeg=ee(l.angleDeg,t.stepAngleDeg),!e.pointersOverlap&&s.pointers.length>1){let d,h;if(t.isClosedShape){let b=S(l.index-1,s.pointers.length),v=S(l.index+1,s.pointers.length);d=s.pointers[b].angleDeg,h=s.pointers[v].angleDeg}else d=l.index===0?o.startAngleDeg:s.pointers[l.index-1].angleDeg,h=l.index===s.pointers.length-1?o.endAngleDeg:s.pointers[l.index+1].angleDeg;h<=d&&(h+=360),G(d,h,l.angleDeg)||(l.angleDeg=z(d,h,l.angleDeg,o.cx,o.cy,o.radius))}let m=U({},s);m.pointers=[...s.pointers],m.pointers[l.index]=l,s.pointers=m.pointers,a(m)};return w(Vt,{children:o&&Ut("svg",{ref:i,xmlns:"http://www.w3.org/2000/svg",width:o.size,height:o.size,tabIndex:0,focusable:!0,"aria-disabled":e.disabled?!0:void 0,style:X,children:[w(He,{settings:e,svg:o,data:t}),w($e,{settings:e,pointers:s,svg:o,$svg:i.current,setPointer:c}),w(Oe,{settings:e,pointers:s,svg:o,$svg:i.current,setPointer:c}),w(Re,{settings:e,pointers:s,svg:o,$svg:i.current,setPointer:c,data:t}),w(Fe,{settings:e,pointers:s,svg:o,data:t})]})})};export{wr as RoundSlider};
//# sourceMappingURL=mz-react-round-slider.esm.js.map
