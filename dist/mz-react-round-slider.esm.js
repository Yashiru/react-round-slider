/* 
MZ React Round Slider v1.0.0
https://github.com/mzusin/react-round-slider
MIT License      
Copyright (c) 2023-present, Miriam Zusin          
*/
var zt=Object.defineProperty;var Re=Object.getOwnPropertySymbols;var Wt=Object.prototype.hasOwnProperty,Xt=Object.prototype.propertyIsEnumerable;var ye=(e,n,t)=>n in e?zt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,F=(e,n)=>{for(var t in n||(n={}))Wt.call(n,t)&&ye(e,t,n[t]);if(Re)for(var t of Re(n))Xt.call(n,t)&&ye(e,t,n[t]);return e};import{useEffect as T,useRef as Te,useState as d}from"react";var Yt=Math.pow,D=(e,n=1/0)=>{if(n===1/0)return e;n<0&&(n=0);let t=Yt(10,n);return Math.round(e*t)/t},_=(e,n)=>(e%n+n)%n,te=(e,n,t,r,o)=>(o-r)*(e-n)/(t-n)+r;var ne=e=>!isNaN(parseFloat(e))&&isFinite(e),me=(e,n,t,r=1/0)=>{let[o,i]=e,[a,l]=n;return[D(o+a*Math.cos(t),r),D(i+l*Math.sin(t),r)]};var we=(e,n=1/0)=>{let t=e*(180/Math.PI);return D(t,n)},Q=(e,n=1/0)=>{let t=e*(Math.PI/180);return D(t,n)};var re=(e,n,t=1/0)=>{let r=Math.abs(_(e,360)-_(n,360));return D(r<=180?r:360-r,t)};var qt=(e,n,t=1/0)=>{let r=[];for(let o=0;o<e.length;o++)r.push(D(e[o]-n[o],t));return r},Le=(e,n,t=1/0)=>qt(e,n,t);var Kt=(e,n,t=1/0)=>{let r=[];for(let o=0;o<e.length;o++)r.push(D(e[o]*n,t));return r},de=(e,n,t=1/0)=>Kt(e,n,t);var Zt=(e,n=1/0)=>{let t=0;for(let r=0;r<e.length;r++)t+=e[r]*e[r];return D(Math.sqrt(t),n)};var Qt=(e,n=1/0)=>{let t=Zt(e),r=[];for(let o=0;o<e.length;o++)r.push(t===0?0:D(e[o]/t,n));return r},_e=(e,n=1/0)=>Qt(e,n);var Ve=(e,n,t,r)=>(n=n%Math.PI*2,[e[0]+Math.cos(n)*t,e[1]+Math.sin(n)*r]);var he=()=>Math.random().toString(36).substring(2)+new Date().getTime().toString(36);var S=(e,n)=>ne(e)?Number(e):n,oe=(e,n)=>e==null?n:e,W=(e,n)=>e==null?n:e;var ge="#efefef",fe="#5daed2",X="#333";var ke={filter:"opacity(0.7) grayscale(100%)"},Be={outline:"none"},Fe={outline:"none"},xe=2,j=3,J=20,He="#000",Ne=16;var Oe=(e,n,t)=>t>=e&&t<=n||t+360>=e&&t+360<=n,$e=(e,n)=>{let t=S(e,0),r=S(n,359.999);return t=_(t,360),r=_(r,360),t<0&&(t+=360),r<0&&(r+=360),r<t&&(r+=360),t===r&&(r+=359.999),[t,r]};var We=e=>{if(e.length<=0)return[0,0];let n=-1/0,t=-1/0;for(let r of e){let[o,i]=r.pointerRadii;n=Math.max(n,Math.max(0,o)),t=Math.max(t,Math.max(0,i))}return[n,t]},Xe=(e,n,t)=>{if(t&&t.length>0){let i=t.findIndex(u=>u===e),a=t.findIndex(u=>u===n),l=i===-1?0:i,s=a===-1?t.length:a;return[l,s]}let r=S(e,0),o=S(n,100);return r>o&&(o=r+100),[r,o]},tn=(e,n,t,r)=>{if(r&&r.length>0){let i=r.findIndex(a=>a===e);return i===-1?0:i}let o=S(e,n);return o<n&&(o=n),o>t&&(o=t),o};var Y=(e,n,t,r,o)=>{let i=n===t?0:te(e,0,100,n,t);return o&&o.length>0?o[Math.round(i)]:D(i,r)},nn=(e,n)=>n===0?0:Math.round(e/n)*n,be=(e,n,t,r)=>{if(r===void 0&&t&&(r=1),r===void 0)return;let o=n-e;return o===0?0:r*100/o},Ye=(e,n,t,r,o,i)=>{let a=[],l=e||[];for(let s=0;s<l.length;s++){let u=l[s];if(u.rx<=0||u.ry<=0)continue;let h=tn(u.value,n,t,r),f=n===t?0:te(n,t,0,100,h),m={pointerRadii:[S(u.rx,10),S(u.ry,10)],percent:f,id:he(),index:0,bgColor:u.bgColor||o||X,pointerSVG:i||u.pointerSVG,disabled:u.disabled===!0,keyboardDisabled:!1,mousewheelDisabled:!1,ariaLabel:u.ariaLabel};a.push(m)}if(a.length>1){a.sort((s,u)=>s.percent-u.percent);for(let s=0;s<a.length;s++)a[s].index=s}return!a||a.length<=0?[{pointerRadii:[10,10],percent:0,id:he(),index:0,bgColor:X,disabled:!1,keyboardDisabled:!1,mousewheelDisabled:!1}]:a},q=(e,n,t,r,o)=>{let i=Math.abs(t-n),a=e*i/100,l=_(n+a,360),s=Q(l);return s=te(s,0,Math.PI*2,0,Math.PI),{position:Ve(o,s,r[0],r[1]),angleDegrees:l}},qe=e=>{if(!e||e.length<2)return null;let n=1/0,t=null,r=-1/0,o=null;for(let i=0;i<e.length;i++){let a=e[i];a.percent<n&&(n=a.percent,t=a),a.percent>r&&(r=a.percent,o=a)}return t===null||o===null?null:[t,o]},Ke=(e,n,t,r,o,i,a,l,s,u)=>{let[h,f]=n,{left:m,top:v}=e.getBoundingClientRect(),g=[h-m,f-v],E=Le(g,t),[A,M]=r,x=Math.atan2(E[1]/M,E[0]/A);x<0&&(x+=2*Math.PI);let C=we(x);if(!Oe(o,i,C)){let H=re(C,o),Z=re(C,i);return H<=Z?a:l}let V=Math.abs(i-o),P=C*100/V,k=be(a,l,s,u),I=k===void 0?P:nn(P,k);return I===100?0:I},ee=(e,n)=>!e||!n?-1:e.findIndex(t=>t.id===n),rn=e=>e.getAttribute("data-type")==="panel",on=e=>e.getAttribute("data-type")==="connection",an=(e,n)=>e.getAttribute("data-type")==="pointer"&&e.getAttribute("data-id")===n||e.querySelector(`[data-type="pointer"][data-index="${n}"]`)!==null,Ze=(e,n,t,r,o,i,a)=>{if(n.length<=0)return null;if(n.length===1)return n[0].id;if(a==="drag")return r;if(rn(e)||on(e)){let l=Math.abs(i-o),s=t*l/100,u=1/0,h=null;for(let f=0;f<n.length;f++){let m=n[f],v=m.percent*l/100,g=re(v,s);g<u&&(u=g,h=m.id)}return h}for(let l=0;l<n.length;l++){let s=n[l];if(an(e,s.id))return s.id}return r};var sn=(e,n)=>{let t=e.find(l=>l.id===n);if(!t)return null;let r=_(t.index+1,e.length),o=e.find(l=>l.index===r);if(!o)return null;let i=_(t.index-1,e.length),a=e.find(l=>l.index===i);return[t,o,a]},Qe=(e,n)=>{if(e[0].disabled)return e;let t=[...e],r=t[0];return r.percent=n,t[0]=r,t},je=(e,n,t)=>{if(!t)return e;let r=e.findIndex(a=>a.id===t);if(r===-1||e[r].disabled)return e;let o=[...e],i=F({},o[r]);return i.percent=n,o[r]=i,o},Je=(e,n,t,r,o)=>{let[i,a,l]=sn(n,t),s=e-i.percent,u=Math.abs(o-r)/2;if(s!==0&&i.percent!==0&&e!==0){let h=Math.abs(s)>u?s<0:s>=0;h&&a.percent>=i.percent&&(e=Math.min(e,a.percent)),!h&&l.percent<=i.percent&&(e=Math.max(e,l.percent))}return e};var Se=(e,n,t)=>{let[r,o]=e,[i,a]=n,l=Math.max(0,i*2-t),s=Math.max(0,a*2-t),u=r*2+t+l,h=o*2+t+s;return[u,h]},ve=(e,n,t)=>{let[r,o]=Se(e,n,t);return[D(r/2,2),D(o/2,2)]},et=(e,n,t,r,o)=>{let i=n,a=i-e<=180?0:1;e>i&&(i+=360);let l=ve(t,r,o),s=me(l,t,Q(e)),u=me(l,t,Q(i));return{start:s,end:u,largeArcFlag:a}};import{forwardRef as ln}from"react";import{jsx as cn}from"react/jsx-runtime";var un=(e,n)=>{let{ellipse:t,strokeWidth:r,svgRadii:o,bgColor:i}=e,{start:a,end:l,largeArcFlag:s}=t;return cn("path",{"data-type":"panel",ref:n,d:`M ${a[0]} ${a[1]} A ${o[0]} ${o[1]} 0 ${s} 1 ${l[0]} ${l[1]}`,stroke:i,strokeWidth:r,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer"})},tt=ln(un);import{useEffect as mn,useState as Me}from"react";import{Fragment as hn,jsx as nt}from"react/jsx-runtime";var dn=e=>{let{pointers:n,ellipse:t,strokeWidth:r,svgCenter:o,svgRadii:i,connectionBgColor:a,connectionGradient:l,startEndAngle:s}=e,{start:u}=t,[h,f]=s,[m,v]=Me(null),[g,E]=Me(null),[A,M]=Me(0);return mn(()=>{if(!n||n.length<=0)return;if(n.length<=1){let H=n[0],{position:Z,angleDegrees:ie}=q(H.percent,h,f,i,o);v(u),E(Z),M(Math.abs(ie-h)<=180?0:1);return}let x=qe(n);if(x===null)return;let C=x[0],p=x[1],{position:V,angleDegrees:P}=q(C.percent,h,f,i,o),{position:k,angleDegrees:I}=q(p.percent,h,f,i,o);v(V),E(k),M(Math.abs(I-P)<=180?0:1)},[f,n,u,h,o,i]),nt(hn,{children:m!==null&&g!==null&&nt("path",{"data-type":"connection",d:`M ${m[0]} ${m[1]} A ${i[0]} ${i[1]} 0 ${A} 1 ${g[0]} ${g[1]}`,stroke:l?"url(#connection)":a,strokeWidth:r+1,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer",pointerEvents:"none"})})},rt=dn;import{useEffect as ot,useState as at}from"react";import{Fragment as it,jsx as ae,jsxs as fn}from"react/jsx-runtime";var gn=e=>{let{id:n,pointer:t,startEndAngle:r,svgRadii:o,svgCenter:i,pointerBgColor:a,pointerSVG:l,disabledPointerStyle:s,min:u,max:h,round:f,data:m,ariaLabel:v}=e,{percent:g,pointerRadii:E}=t,[A,M]=E,[x,C]=r,[p,V]=at(null),[P,k]=at("");ot(()=>{let{position:H}=q(g,x,C,o,i);V(H)},[g,o,i,x,C]),ot(()=>{k(Y(g,u,h,f,m))},[u,h,f,m,g]);let I=F({},Fe);return t.disabled&&(I=F(F({},I),s)),p?fn(it,{children:[!l&&ae("ellipse",{className:t.disabled?"disabled":void 0,style:I,"aria-disabled":t.disabled?!0:void 0,"aria-valuenow":P,"aria-valuetext":(P||"").toString(),"aria-label":v,"data-type":"pointer","data-index":t.index,"data-id":n,"data-percent":t.percent,cx:p[0],cy:p[1],rx:A,ry:M,cursor:"pointer",tabIndex:0,role:"slider",fill:a}),l&&ae("g",{className:t.disabled?"disabled":void 0,style:I,"aria-disabled":t.disabled?!0:void 0,"aria-valuenow":P,"aria-valuetext":P.toString(),"aria-label":v,"data-type":"pointer","data-index":t.index,"data-id":n,"data-percent":t.percent,cursor:"pointer",transform:`translate(${p[0]-A/2}, ${p[1]-M/2})`,tabIndex:0,role:"slider",children:ae("g",{pointerEvents:"none",children:l})})]}):ae(it,{})},st=gn;import{useEffect as xn,useState as bn}from"react";import{jsx as vn}from"react/jsx-runtime";var Sn=e=>{let{svgCenter:n,round:t,min:r,max:o,pointers:i,data:a,textPrefix:l,textSuffix:s,textColor:u,textFontSize:h,textFontFamily:f}=e,[m,v]=n,[g,E]=bn("");return xn(()=>{let A=[];for(let M of i){let x=Y(M.percent,r,o,t,a);A.push(`${l||""}${x}${s||""}`)}E(A.join(" "))},[a,o,r,i,t,l,s]),vn("text",{x:m,y:v,fill:u||He,fontSize:h||Ne,fontFamily:f,style:{userSelect:"none"},textAnchor:"middle",children:g})},lt=Sn;import{useEffect as Mn,useState as Tn}from"react";import{jsx as ut}from"react/jsx-runtime";var pn=(e,n,t,r)=>{var a;let o=[],i=e===0?0:n/e;for(let l=0;l<e;l++){let s=l*i,u=(a=t==null?void 0:t.current)==null?void 0:a.getPointAtLength(s),h=u?u.x:0,f=u?u.y:0,m=r!==void 0&&l%r===0;o.push({distance:s,x:h,y:f,isLonger:m})}return o},Pn=e=>{let{ticksColor:n,ticksWidth:t,ticksHeight:r,longerTicksHeight:o,ticsCount:i,ticksGroupSize:a,totalLength:l,sliderRef:s,svgCenter:u,ticksDistanceToPanel:h}=e,[f,m]=Tn([]);Mn(()=>{m(pn(i,l,s,a))},[i,l,s,a]);let[v,g]=u;return ut("g",{children:f.map((E,A)=>{let{x:M,y:x}=E,C=r||J;E.isLonger&&(C=o);let p=_e([v-M,g-x]),V=de(p,C),P=de(p,h);M+=P[0],x+=P[1];let k=M+V[0],I=x+V[1];return ut("line",{x1:M,y1:x,x2:k,y2:I,strokeWidth:t||j,stroke:n},A)})})},ct=Pn;import{jsx as K,jsxs as An}from"react/jsx-runtime";var $r=e=>{var De;let n=Te(null),t=Te(null),r=Te("click"),[o,i]=d(null),[a,l]=d([0,0]),[s,u]=d(0),[h,f]=d([0,0]),[m,v]=d([]),[g,E]=d([0,0]),[A,M]=d([0,0]),[x,C]=d([0,0]),[p,V]=d([0,0]),[P,k]=d({start:[0,0],end:[0,0],largeArcFlag:0}),[I,H]=d(ge),[Z,ie]=d(fe),[pe,mt]=d(X),[dt,ht]=d(!1),[N,gt]=d(!1),[ft,xt]=d(void 0),[Pe,bt]=d(!1),[St,vt]=d(!1),[se,Mt]=d(xe),[Tt,pt]=d(void 0),[R,y]=h,[Pt,Et]=A,[O,$]=p,[Ct,It]=d(!1),[Dt,At]=d(""),[Rt,yt]=d(""),[wt,Lt]=d(!1),[_t,Vt]=d(j),[kt,Bt]=d(J),[Ft,Ht]=d(void 0),[Nt,Ot]=d(0),[$t,Gt]=d(0);T(()=>{pt(be(R,y,e.data,e.step))},[R,y,e.data,e.step]),T(()=>{Lt(W(e.disableTicks,!1)),Vt(S(e.ticksWidth,j)),Gt(S(e.ticksDistanceToPanel,0));let c=S(e.ticksHeight,J);Bt(c),Ht(S(e.longerTicksHeight,c*2));let b=S(e.ticsCount,0);b||(e.data&&e.data.length>0?b=e.data.length:b=Math.abs(O-$)%360*(y-R)/360),Ot(b)},[e.disableTicks,e.ticksWidth,e.ticksHeight,e.longerTicksHeight,e.ticsCount,e.ticksDistanceToPanel,y,R,e.data,O,$]),T(()=>{H(oe(e.panelBgColor,ge)),ie(oe(e.connectionBgColor,fe)),mt(oe(e.pointerBgColor,X))},[e.panelBgColor,e.connectionBgColor,e.pointerBgColor]),T(()=>{ht(W(e.pointersOverlap,!1))},[e.pointersOverlap]),T(()=>{gt(W(e.disabled,!1)),xt(e.disabledPointerStyle||ke),bt(W(e.keyboardDisabled,!1)),vt(W(e.mousewheelDisabled,!1))},[e.disabled,e.disabledPointerStyle,e.keyboardDisabled,e.mousewheelDisabled]),T(()=>{l([S(e.rx,150),S(e.ry,150)])},[e.rx,e.ry]),T(()=>{u(S(e.panelStrokeWidth,5))},[e.panelStrokeWidth]),T(()=>{f(Xe(e.min,e.max,e.data))},[e.min,e.max,e.data]),T(()=>{v(Ye(e.pointers,R,y,e.data,pe,e.pointerSVG))},[e.pointers,e.data,R,y,pe,e.pointerSVG]),T(()=>{E(We(m))},[m]),T(()=>{M(Se(a,g,s))},[a,g,s]),T(()=>{C(ve(a,g,s))},[a,g,s]),T(()=>{V($e(e.startAngleDegrees,e.endAngleDegrees))},[e.startAngleDegrees,e.endAngleDegrees]),T(()=>{k(et(O,$,a,g,s))},[O,$,a,g,s]),T(()=>{Mt(S(e.round,xe))},[e.round]),T(()=>{It(e.hideText),At(e.textPrefix),yt(e.textSuffix)},[e.hideText,e.textPrefix,e.textSuffix]);let le=c=>{if(!e.onChange||typeof e.onChange!="function")return;let b=[];for(let L of c)b.push(Y(L.percent,R,y,se,e.data));e.onChange(b,c)},G=c=>{var U;if(N||!n||!n.current)return;let b=c.type.indexOf("mouse")!==-1?c.clientX:c.touches[0].clientX,L=c.type.indexOf("mouse")!==-1?c.clientY:c.touches[0].clientY,w=Ke(n.current,[b,L],x,a,O,$,R,y,e.data,e.step);if(m.length<=1){i(((U=m[0])==null?void 0:U.id)||null),v(z=>{let ce=Qe(z,w);return le(ce),ce});return}let B=o;i(z=>(B=Ze(c.target,m,w,z,O,$,r.current),B)),B!==null&&v(z=>{dt||y===R||(w=Je(w,z,B,R,y));let Ae=je(z,w,B);return le(Ae),Ae})},Ut=c=>{if(N)return;let b=c.target;!b||!(b===t.current||b.getAttribute("data-type")==="pointer")||(G(c),window.addEventListener("mousemove",G),window.addEventListener("mouseup",Ee),r.current="drag")},Ee=c=>{window.removeEventListener("mousemove",G),window.removeEventListener("mouseup",G),r.current="click"},ue=c=>{let b=ee(m,o);if(b===-1)return;let L=F({},m[b]),w=L.percent;if(!ne(w))return;let B=Tt;B===void 0&&(B=1),c?w-=B:w+=B,w=_(w,100),L.percent=w;let U=[...m];U[b]=L,v(U),le(U)},Ce=()=>{if(N||Pe)return;let c=ee(m,o);c===-1||m[c].disabled||ue(!1)},Ie=()=>{if(N||Pe)return;let c=ee(m,o);c===-1||m[c].disabled||ue(!0)};return An("svg",{"data-type":"bg",xmlns:"http://www.w3.org/2000/svg",ref:n,width:Pt,height:Et,onMouseDown:Ut,onMouseUp:Ee,onTouchMove:G,onTouchStart:G,onKeyDown:c=>{switch(c.key){case"ArrowLeft":{c.preventDefault(),Ce();break}case"ArrowRight":{c.preventDefault(),Ie();break}case"ArrowUp":{c.preventDefault(),Ce();break}case"ArrowDown":{c.preventDefault(),Ie();break}}},className:N?"disabled":void 0,"aria-disabled":N?!0:void 0,tabIndex:0,focusable:!0,onWheel:c=>{if(N||St)return;let b=ee(m,o);if(b===-1||m[b].disabled)return;c.stopPropagation();let L=c.deltaY<0;ue(!L)},style:Be,children:[e.connectionGradient&&K("defs",{children:e.connectionGradient}),K(tt,{ref:t,ellipse:P,strokeWidth:s,svgRadii:a,bgColor:I}),!wt&&t&&t.current&&typeof t.current.getTotalLength=="function"&&K(ct,{sliderRef:t,ticksWidth:_t,ticksHeight:kt,longerTicksHeight:Ft,ticksColor:I,ticsCount:Nt,ticksGroupSize:e.ticksGroupSize,totalLength:((De=t==null?void 0:t.current)==null?void 0:De.getTotalLength())||0,svgCenter:x,ticksDistanceToPanel:$t}),K(rt,{pointers:m,ellipse:P,svgRadii:a,strokeWidth:s,connectionBgColor:Z,startEndAngle:p,svgCenter:x,connectionGradient:e.connectionGradient}),m.map(c=>K(st,{pointer:c,id:c.id,startEndAngle:p,svgRadii:a,svgCenter:x,pointerBgColor:c.bgColor,pointerSVG:e.pointerSVG||c.pointerSVG,disabledPointerStyle:ft,min:R,max:y,round:se,data:e.data,ariaLabel:c.ariaLabel},c.id)),!Ct&&K(lt,{svgCenter:x,round:se,min:R,max:y,pointers:m,data:e.data,textPrefix:Dt,textSuffix:Rt,textColor:e.textColor,textFontSize:e.textFontSize,textFontFamily:e.textFontFamily})]})};export{$r as RoundSlider};
//# sourceMappingURL=mz-react-round-slider.esm.js.map
