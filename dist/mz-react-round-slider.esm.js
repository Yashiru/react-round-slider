/* 
MZ React Round Slider v1.0.0
https://github.com/mzusin/react-round-slider
MIT License      
Copyright (c) 2023-present, Miriam Zusin          
*/
var Xt=Object.defineProperty;var Ge=Object.getOwnPropertySymbols;var Yt=Object.prototype.hasOwnProperty,Wt=Object.prototype.propertyIsEnumerable;var Ue=(e,n,t)=>n in e?Xt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,U=(e,n)=>{for(var t in n||(n={}))Yt.call(n,t)&&Ue(e,t,n[t]);if(Ge)for(var t of Ge(n))Wt.call(n,t)&&Ue(e,t,n[t]);return e};import{useEffect as E,useRef as ke,useState as f}from"react";var qt=Math.pow,I=(e,n=1/0)=>{if(n===1/0)return e;n<0&&(n=0);let t=qt(10,n);return Math.round(e*t)/t},F=(e,n)=>(e%n+n)%n,me=(e,n,t,r,o)=>(o-r)*(e-n)/(t-n)+r;var de=e=>!isNaN(parseFloat(e))&&isFinite(e),Ce=(e,n,t,r=1/0)=>{let[o,a]=e,[i,l]=n;return[I(o+i*Math.cos(t),r),I(a+l*Math.sin(t),r)]};var $e=(e,n=1/0)=>{let t=e*(180/Math.PI);return I(t,n)},te=(e,n=1/0)=>{let t=e*(Math.PI/180);return I(t,n)};var fe=(e,n,t=1/0)=>{let r=Math.abs(F(e,360)-F(n,360));return I(r<=180?r:360-r,t)};var Kt=(e,n,t=1/0)=>{let r=[];for(let o=0;o<e.length;o++)r.push(I(e[o]-n[o],t));return r},ze=(e,n,t=1/0)=>Kt(e,n,t);var Zt=(e,n,t=1/0)=>{let r=[];for(let o=0;o<e.length;o++)r.push(I(e[o]*n,t));return r},he=(e,n,t=1/0)=>Zt(e,n,t);var Qt=(e,n=1/0)=>{let t=0;for(let r=0;r<e.length;r++)t+=e[r]*e[r];return I(Math.sqrt(t),n)};var jt=(e,n=1/0)=>{let t=Qt(e),r=[];for(let o=0;o<e.length;o++)r.push(t===0?0:I(e[o]/t,n));return r},Xe=(e,n=1/0)=>jt(e,n);var Ye=(e,n,t,r)=>(n=n%Math.PI*2,[e[0]+Math.cos(n)*t,e[1]+Math.sin(n)*r]);var De=()=>Math.random().toString(36).substring(2)+new Date().getTime().toString(36);var v=(e,n)=>de(e)?Number(e):n,ge=(e,n)=>e==null?n:e,Z=(e,n)=>e==null?n:e;var Ie="#efefef",Ae="#5daed2",Q="#333";var We={filter:"opacity(0.7) grayscale(100%)"},qe={outline:"none"},Ke={outline:"none"},Re=2,ne=3,re=20,xe="#000",be=16;var Ze=(e,n,t)=>t>=e&&t<=n||t+360>=e&&t+360<=n,Qe=(e,n)=>{let t=v(e,0),r=v(n,359.999);return t=F(t,360),r=F(r,360),t<0&&(t+=360),r<0&&(r+=360),r<t&&(r+=360),t===r&&(r+=359.999),[t,r]};var tt=e=>{if(e.length<=0)return[0,0];let n=-1/0,t=-1/0;for(let r of e){let[o,a]=r.pointerRadii;n=Math.max(n,Math.max(0,o)),t=Math.max(t,Math.max(0,a))}return[n,t]},nt=(e,n,t)=>{if(t&&t.length>0){let a=t.findIndex(u=>u===e),i=t.findIndex(u=>u===n),l=a===-1?0:a,s=i===-1?t.length:i;return[l,s]}let r=v(e,0),o=v(n,100);return r>o&&(o=r+100),[r,o]},nn=(e,n,t,r)=>{if(r&&r.length>0){let a=r.findIndex(i=>i===e);return a===-1?0:a}let o=v(e,n);return o<n&&(o=n),o>t&&(o=t),o};var $=(e,n,t,r,o)=>{let a=n===t?0:me(e,0,100,n,t);return o&&o.length>0?o[Math.round(a)]:I(a,r)},rn=(e,n)=>n===0?0:Math.round(e/n)*n,ye=(e,n,t,r)=>{if(r===void 0&&t&&(r=1),r===void 0)return;let o=n-e;return o===0?0:r*100/o},rt=(e,n,t,r,o,a)=>{let i=[],l=e||[];for(let s=0;s<l.length;s++){let u=l[s];if(u.rx<=0||u.ry<=0)continue;let d=nn(u.value,n,t,r),g=n===t?0:me(n,t,0,100,d),m={pointerRadii:[v(u.rx,10),v(u.ry,10)],percent:g,id:De(),index:0,bgColor:u.bgColor||o||Q,pointerSVG:a||u.pointerSVG,disabled:u.disabled===!0,keyboardDisabled:!1,mousewheelDisabled:!1,ariaLabel:u.ariaLabel};i.push(m)}if(i.length>1){i.sort((s,u)=>s.percent-u.percent);for(let s=0;s<i.length;s++)i[s].index=s}return!i||i.length<=0?[{pointerRadii:[10,10],percent:0,id:De(),index:0,bgColor:Q,disabled:!1,keyboardDisabled:!1,mousewheelDisabled:!1}]:i},j=(e,n,t,r,o)=>{let a=Math.abs(t-n),i=e*a/100,l=F(n+i,360),s=te(l);return s=me(s,0,Math.PI*2,0,Math.PI),{position:Ye(o,s,r[0],r[1]),angleDegrees:l}},ot=e=>{if(!e||e.length<2)return null;let n=1/0,t=null,r=-1/0,o=null;for(let a=0;a<e.length;a++){let i=e[a];i.percent<n&&(n=i.percent,t=i),i.percent>r&&(r=i.percent,o=i)}return t===null||o===null?null:[t,o]},at=(e,n,t,r,o,a,i,l,s,u)=>{let[d,g]=n,{left:m,top:x}=e.getBoundingClientRect(),h=[d-m,g-x],S=ze(h,t),[M,P]=r,b=Math.atan2(S[1]/P,S[0]/M);b<0&&(b+=2*Math.PI);let p=$e(b);if(!Ze(o,a,p)){let C=fe(p,o),O=fe(p,a);return C<=O?i:l}let A=Math.abs(a-o),V=p*100/A,R=ye(i,l,s,u),_=R===void 0?V:rn(V,R);return _===100?0:_},oe=(e,n)=>!e||!n?-1:e.findIndex(t=>t.id===n),on=e=>e.getAttribute("data-type")==="panel",an=e=>e.getAttribute("data-type")==="connection",sn=(e,n)=>e.getAttribute("data-type")==="pointer"&&e.getAttribute("data-id")===n||e.querySelector(`[data-type="pointer"][data-index="${n}"]`)!==null,it=(e,n,t,r,o,a,i)=>{if(n.length<=0)return null;if(n.length===1)return n[0].id;if(i==="drag")return r;if(on(e)||an(e)){let l=Math.abs(a-o),s=t*l/100,u=1/0,d=null;for(let g=0;g<n.length;g++){let m=n[g],x=m.percent*l/100,h=fe(x,s);h<u&&(u=h,d=m.id)}return d}for(let l=0;l<n.length;l++){let s=n[l];if(sn(e,s.id))return s.id}return r};var ln=(e,n)=>{let t=e.find(l=>l.id===n);if(!t)return null;let r=F(t.index+1,e.length),o=e.find(l=>l.index===r);if(!o)return null;let a=F(t.index-1,e.length),i=e.find(l=>l.index===a);return[t,o,i]},st=(e,n)=>{if(e[0].disabled)return e;let t=[...e],r=t[0];return r.percent=n,t[0]=r,t},lt=(e,n,t)=>{if(!t)return e;let r=e.findIndex(i=>i.id===t);if(r===-1||e[r].disabled)return e;let o=[...e],a=U({},o[r]);return a.percent=n,o[r]=a,o},ut=(e,n,t,r,o)=>{let[a,i,l]=ln(n,t),s=e-a.percent,u=Math.abs(o-r)/2;if(s!==0&&a.percent!==0&&e!==0){let d=Math.abs(s)>u?s<0:s>=0;d&&i.percent>=a.percent&&(e=Math.min(e,i.percent)),!d&&l.percent<=a.percent&&(e=Math.max(e,l.percent))}return e};var we=(e,n,t)=>{let[r,o]=e,[a,i]=n,l=Math.max(0,a*2-t),s=Math.max(0,i*2-t),u=r*2+t+l,d=o*2+t+s;return[u,d]},Le=(e,n,t)=>{let[r,o]=we(e,n,t);return[I(r/2,2),I(o/2,2)]},ct=(e,n,t,r,o)=>{let a=n,i=a-e<=180?0:1;e>a&&(a+=360);let l=Le(t,r,o),s=Ce(l,t,te(e)),u=Ce(l,t,te(a));return{start:s,end:u,largeArcFlag:i}};import{forwardRef as un}from"react";import{jsx as mn}from"react/jsx-runtime";var cn=(e,n)=>{let{ellipse:t,strokeWidth:r,svgRadii:o,bgColor:a}=e,{start:i,end:l,largeArcFlag:s}=t;return mn("path",{"data-type":"panel",ref:n,d:`M ${i[0]} ${i[1]} A ${o[0]} ${o[1]} 0 ${s} 1 ${l[0]} ${l[1]}`,stroke:a,strokeWidth:r,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer"})},mt=un(cn);import{useEffect as dn,useState as Ve}from"react";import{Fragment as hn,jsx as dt}from"react/jsx-runtime";var fn=e=>{let{pointers:n,ellipse:t,strokeWidth:r,svgCenter:o,svgRadii:a,connectionBgColor:i,connectionGradient:l,startEndAngle:s}=e,{start:u}=t,[d,g]=s,[m,x]=Ve(null),[h,S]=Ve(null),[M,P]=Ve(0);return dn(()=>{if(!n||n.length<=0)return;if(n.length<=1){let C=n[0],{position:O,angleDegrees:H}=j(C.percent,d,g,a,o);x(u),S(O),P(Math.abs(H-d)<=180?0:1);return}let b=ot(n);if(b===null)return;let p=b[0],D=b[1],{position:A,angleDegrees:V}=j(p.percent,d,g,a,o),{position:R,angleDegrees:_}=j(D.percent,d,g,a,o);x(A),S(R),P(Math.abs(_-V)<=180?0:1)},[g,n,u,d,o,a]),dt(hn,{children:m!==null&&h!==null&&dt("path",{"data-type":"connection",d:`M ${m[0]} ${m[1]} A ${a[0]} ${a[1]} 0 ${M} 1 ${h[0]} ${h[1]}`,stroke:l?"url(#connection)":i,strokeWidth:r+1,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer",pointerEvents:"none"})})},ft=fn;import{useEffect as ht,useState as gt}from"react";import{Fragment as xt,jsx as Se,jsxs as xn}from"react/jsx-runtime";var gn=e=>{let{id:n,pointer:t,startEndAngle:r,svgRadii:o,svgCenter:a,pointerBgColor:i,pointerSVG:l,disabledPointerStyle:s,min:u,max:d,round:g,data:m,ariaLabel:x,pointerGradient:h}=e,{percent:S,pointerRadii:M}=t,[P,b]=M,[p,D]=r,[A,V]=gt(null),[R,_]=gt("");ht(()=>{let{position:O}=j(S,p,D,o,a);V(O)},[S,o,a,p,D]),ht(()=>{_($(S,u,d,g,m))},[u,d,g,m,S]);let C=U({},Ke);return t.disabled&&(C=U(U({},C),s)),A?xn(xt,{children:[!l&&Se("ellipse",{className:t.disabled?"disabled":void 0,style:C,"aria-disabled":t.disabled?!0:void 0,"aria-valuenow":R,"aria-valuetext":(R||"").toString(),"aria-label":x,"data-type":"pointer","data-index":t.index,"data-id":n,"data-percent":t.percent,cx:A[0],cy:A[1],rx:P,ry:b,cursor:"pointer",tabIndex:0,role:"slider",fill:h?"url(#pointer)":i}),l&&Se("g",{className:t.disabled?"disabled":void 0,style:C,"aria-disabled":t.disabled?!0:void 0,"aria-valuenow":R,"aria-valuetext":R.toString(),"aria-label":x,"data-type":"pointer","data-index":t.index,"data-id":n,"data-percent":t.percent,cursor:"pointer",transform:`translate(${A[0]-P/2}, ${A[1]-b/2})`,tabIndex:0,role:"slider",children:Se("g",{pointerEvents:"none",children:l})})]}):Se(xt,{})},bt=gn;import{useEffect as bn,useState as Sn}from"react";import{jsx as Tn}from"react/jsx-runtime";var vn=e=>{let{svgCenter:n,round:t,min:r,max:o,pointers:a,data:i,textPrefix:l,textSuffix:s,textColor:u,textFontSize:d,textFontFamily:g}=e,[m,x]=n,[h,S]=Sn("");return bn(()=>{let M=[];for(let P of a){let b=$(P.percent,r,o,t,i);M.push(`${l||""}${b}${s||""}`)}S(M.join(" "))},[i,o,r,a,t,l,s]),Tn("text",{x:m,y:x,fill:u||xe,fontSize:d||be,fontFamily:g,style:{userSelect:"none"},textAnchor:"middle",children:h})},St=vn;import{Fragment as Mn,useEffect as pn,useState as En}from"react";import{jsx as _e,jsxs as Dn}from"react/jsx-runtime";var Pn=(e,n,t,r,o,a,i,l,s,u)=>{var m,x;let d=[],g=e===0?0:n/e;for(let h=0;h<e;h++){let S=h*g,M=(m=t==null?void 0:t.current)==null?void 0:m.getPointAtLength(S),P=M?M.x:0,b=M?M.y:0,p=l!==void 0&&h%l===0,D;s&&(!u||u&&(p||l===void 0))&&(D=((x=$(S*100/n,r,o,a,i))!=null?x:"").toString()),d.push({distance:S,x:P,y:b,isLonger:p,tickValue:D})}return d},Cn=e=>{let{ticksColor:n,ticksWidth:t,ticksHeight:r,longerTicksHeight:o,ticsCount:a,ticksGroupSize:i,totalLength:l,sliderRef:s,svgCenter:u,ticksDistanceToPanel:d,min:g,max:m,round:x,data:h,showTickValues:S,longerTickValuesOnly:M,tickValuesColor:P,tickValuesFontSize:b,tickValuesFontFamily:p,tickValuesDistance:D}=e,[A,V]=En([]);pn(()=>{V(Pn(a,l,s,g,m,x,h,i,S,M))},[a,l,s,i,h,M,g,m,x,S]);let[R,_]=u;return _e("g",{children:A.map((C,O)=>{let{x:H,y:G}=C,z=r||re;C.isLonger&&(z=o);let J=Xe([R-H,_-G]),ie=he(J,z),B=he(J,d);H+=B[0],G+=B[1];let ve=H+ie[0],Te=G+ie[1],se=0,ee=0,le=C.tickValue!==void 0;if(le){let Me=v(z+D,z*1.5),ue=he(J,Me);se=H+ue[0],ee=G+ue[1]}return Dn(Mn,{children:[_e("line",{x1:H,y1:G,x2:ve,y2:Te,strokeWidth:t||ne,stroke:n}),le&&_e("text",{x:se,y:ee,textAnchor:"middle",dominantBaseline:"middle",fill:P||xe,fontSize:b||be,fontFamily:p,style:{userSelect:"none"},children:C.tickValue})]},O)})})},vt=Cn;import{jsx as ae,jsxs as Tt}from"react/jsx-runtime";var Xr=e=>{var Oe;let n=ke(null),t=ke(null),r=ke("click"),[o,a]=f(null),[i,l]=f([0,0]),[s,u]=f(0),[d,g]=f([0,0]),[m,x]=f([]),[h,S]=f([0,0]),[M,P]=f([0,0]),[b,p]=f([0,0]),[D,A]=f([0,0]),[V,R]=f({start:[0,0],end:[0,0],largeArcFlag:0}),[_,C]=f(Ie),[O,H]=f(Ae),[G,z]=f(Q),[J,ie]=f(!1),[B,ve]=f(!1),[Te,se]=f(void 0),[ee,le]=f(!1),[Me,ue]=f(!1),[ce,Mt]=f(Re),[pt,Et]=f(void 0),[y,w]=d,[Pt,Ct]=M,[X,Y]=D,[Dt,It]=f(!1),[At,Rt]=f(""),[yt,wt]=f(""),[Lt,Vt]=f(!1),[_t,kt]=f(ne),[Ft,Bt]=f(re),[Nt,Ot]=f(void 0),[Ht,Gt]=f(0),[Ut,$t]=f(0);E(()=>{Et(ye(y,w,e.data,e.step))},[y,w,e.data,e.step]),E(()=>{Vt(Z(e.disableTicks,!1)),kt(v(e.ticksWidth,ne)),$t(v(e.ticksDistanceToPanel,0));let c=v(e.ticksHeight,re);Bt(c),Ot(v(e.longerTicksHeight,c*2));let T=v(e.ticsCount,0);T||(e.data&&e.data.length>0?T=e.data.length:T=Math.abs(X-Y)%360*(w-y)/360),Gt(T)},[e.disableTicks,e.ticksWidth,e.ticksHeight,e.longerTicksHeight,e.ticsCount,e.ticksDistanceToPanel,w,y,e.data,X,Y]),E(()=>{C(ge(e.panelBgColor,Ie)),H(ge(e.connectionBgColor,Ae)),z(ge(e.pointerBgColor,Q))},[e.panelBgColor,e.connectionBgColor,e.pointerBgColor]),E(()=>{ie(Z(e.pointersOverlap,!1))},[e.pointersOverlap]),E(()=>{ve(Z(e.disabled,!1)),se(e.disabledPointerStyle||We),le(Z(e.keyboardDisabled,!1)),ue(Z(e.mousewheelDisabled,!1))},[e.disabled,e.disabledPointerStyle,e.keyboardDisabled,e.mousewheelDisabled]),E(()=>{l([v(e.rx,150),v(e.ry,150)])},[e.rx,e.ry]),E(()=>{u(v(e.panelStrokeWidth,5))},[e.panelStrokeWidth]),E(()=>{g(nt(e.min,e.max,e.data))},[e.min,e.max,e.data]),E(()=>{x(rt(e.pointers,y,w,e.data,G,e.pointerSVG))},[e.pointers,e.data,y,w,G,e.pointerSVG]),E(()=>{S(tt(m))},[m]),E(()=>{P(we(i,h,s))},[i,h,s]),E(()=>{p(Le(i,h,s))},[i,h,s]),E(()=>{A(Qe(e.startAngleDegrees,e.endAngleDegrees))},[e.startAngleDegrees,e.endAngleDegrees]),E(()=>{R(ct(X,Y,i,h,s))},[X,Y,i,h,s]),E(()=>{Mt(v(e.round,Re))},[e.round]),E(()=>{It(e.hideText),Rt(e.textPrefix),wt(e.textSuffix)},[e.hideText,e.textPrefix,e.textSuffix]);let pe=c=>{if(!e.onChange||typeof e.onChange!="function")return;let T=[];for(let k of c)T.push($(k.percent,y,w,ce,e.data));e.onChange(T,c)},W=c=>{var q;if(B||!n||!n.current)return;let T=c.type.indexOf("mouse")!==-1?c.clientX:c.touches[0].clientX,k=c.type.indexOf("mouse")!==-1?c.clientY:c.touches[0].clientY,L=at(n.current,[T,k],b,i,X,Y,y,w,e.data,e.step);if(m.length<=1){a(((q=m[0])==null?void 0:q.id)||null),x(K=>{let Pe=st(K,L);return pe(Pe),Pe});return}let N=o;a(K=>(N=it(c.target,m,L,K,X,Y,r.current),N)),N!==null&&x(K=>{J||w===y||(L=ut(L,K,N,y,w));let He=lt(K,L,N);return pe(He),He})},zt=c=>{if(B)return;let T=c.target;!T||!(T===t.current||T.getAttribute("data-type")==="pointer")||(W(c),window.addEventListener("mousemove",W),window.addEventListener("mouseup",Fe),r.current="drag")},Fe=c=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",W),r.current="click"},Ee=c=>{let T=oe(m,o);if(T===-1)return;let k=U({},m[T]),L=k.percent;if(!de(L))return;let N=pt;N===void 0&&(N=1),c?L-=N:L+=N,L=F(L,100),k.percent=L;let q=[...m];q[T]=k,x(q),pe(q)},Be=()=>{if(B||ee)return;let c=oe(m,o);c===-1||m[c].disabled||Ee(!1)},Ne=()=>{if(B||ee)return;let c=oe(m,o);c===-1||m[c].disabled||Ee(!0)};return Tt("svg",{"data-type":"bg",xmlns:"http://www.w3.org/2000/svg",ref:n,width:Pt,height:Ct,onMouseDown:zt,onMouseUp:Fe,onTouchMove:W,onTouchStart:W,onKeyDown:c=>{switch(c.key){case"ArrowLeft":{c.preventDefault(),Be();break}case"ArrowRight":{c.preventDefault(),Ne();break}case"ArrowUp":{c.preventDefault(),Be();break}case"ArrowDown":{c.preventDefault(),Ne();break}}},className:B?"disabled":void 0,"aria-disabled":B?!0:void 0,tabIndex:0,focusable:!0,onWheel:c=>{if(B||Me)return;let T=oe(m,o);if(T===-1||m[T].disabled)return;c.stopPropagation();let k=c.deltaY<0;Ee(!k)},style:qe,children:[(e.connectionGradient||e.pointerGradient)&&Tt("defs",{children:[e.connectionGradient,e.pointerGradient]}),ae(mt,{ref:t,ellipse:V,strokeWidth:s,svgRadii:i,bgColor:_}),!Lt&&t&&t.current&&typeof t.current.getTotalLength=="function"&&ae(vt,{sliderRef:t,ticksWidth:_t,ticksHeight:Ft,longerTicksHeight:Nt,ticksColor:_,ticsCount:Ht,ticksGroupSize:e.ticksGroupSize,totalLength:((Oe=t==null?void 0:t.current)==null?void 0:Oe.getTotalLength())||0,svgCenter:b,ticksDistanceToPanel:Ut,min:y,max:w,round:ce,data:e.data,showTickValues:e.showTickValues,longerTickValuesOnly:e.longerTickValuesOnly,tickValuesColor:e.tickValuesColor,tickValuesFontSize:e.tickValuesFontSize,tickValuesFontFamily:e.tickValuesFontFamily,tickValuesDistance:e.tickValuesDistance}),ae(ft,{pointers:m,ellipse:V,svgRadii:i,strokeWidth:s,connectionBgColor:O,startEndAngle:D,svgCenter:b,connectionGradient:e.connectionGradient}),m.map(c=>ae(bt,{pointer:c,id:c.id,startEndAngle:D,svgRadii:i,svgCenter:b,pointerBgColor:c.bgColor,pointerSVG:e.pointerSVG||c.pointerSVG,pointerGradient:e.pointerGradient,disabledPointerStyle:Te,min:y,max:w,round:ce,data:e.data,ariaLabel:c.ariaLabel},c.id)),!Dt&&ae(St,{svgCenter:b,round:ce,min:y,max:w,pointers:m,data:e.data,textPrefix:At,textSuffix:yt,textColor:e.textColor,textFontSize:e.textFontSize,textFontFamily:e.textFontFamily})]})};export{Xr as RoundSlider};
//# sourceMappingURL=mz-react-round-slider.esm.js.map
