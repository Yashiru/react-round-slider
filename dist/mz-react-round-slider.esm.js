/* 
MZ React Round Slider v1.0.0
https://github.com/mzusin/react-round-slider
MIT License      
Copyright (c) 2023-present, Miriam Zusin          
*/
var ve=Object.defineProperty,xe=Object.defineProperties;var Me=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var Se=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var Q=(e,t,r)=>t in e?ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,E=(e,t)=>{for(var r in t||(t={}))Se.call(t,r)&&Q(e,r,t[r]);if(k)for(var r of k(t))Re.call(t,r)&&Q(e,r,t[r]);return e},Z=(e,t)=>xe(e,Me(t));import{Provider as Ue}from"react-redux";import{configureStore as _e}from"@reduxjs/toolkit";import{createSlice as be}from"@reduxjs/toolkit";var D="#efefef";var Ee=Math.pow,c=(e,t=1/0)=>{if(t===1/0)return e;t<0&&(t=0);let r=Ee(10,t);return Math.round(e*r)/r},A=(e,t)=>(e%t+t)%t,K=(e,t,r,n,a)=>(a-n)*(e-t)/(r-t)+n;var j=e=>!isNaN(parseFloat(e))&&isFinite(e),z=(e,t,r,n=1/0)=>{let[a,s]=e,[u,i]=t;return[c(a+u*Math.cos(r),n),c(s+i*Math.sin(r),n)]},J=(e,t=1/0)=>{let r=Math.atan2(e[1],e[0]);return c(r,t)};var ee=(e,t=1/0)=>{let r=e*(180/Math.PI);return c(r,t)},F=(e,t=1/0)=>{let r=e*(Math.PI/180);return c(r,t)};var G=(e,t,r=1/0)=>{let n=Math.abs(A(e,360)-A(t,360));return c(n<=180?n:360-n,r)};var Te=(e,t,r=1/0)=>{let n=[];for(let a=0;a<e.length;a++)n.push(c(e[a]-t[a],r));return n},te=(e,t,r=1/0)=>Te(e,t,r);var re=(e,t,r,n)=>(t=t%Math.PI*2,[e[0]+Math.cos(t)*r,e[1]+Math.sin(t)*n]);var d=(e,t)=>j(e)?Number(e):t,ne=(e,t)=>e==null?t:e;var oe=(e,t,r)=>r>=e&&r<=t||r+360>=e&&r+360<=t,ae=(e,t)=>{let r=d(e,0),n=d(t,359.999);return r=A(r,360),n=A(n,360),r<0&&(r+=360),n<0&&(n+=360),n<r&&(n+=360),r===n&&(n+=359.999),[r,n]};var C=(e,t,r)=>{let[n,a]=e,[s,u]=t,i=Math.max(0,s*2-r),g=Math.max(0,u*2-r),m=n*2+r+i,f=a*2+r+g;return[m,f]},P=(e,t,r)=>{let[n,a]=C(e,t,r);return[c(n/2,2),c(a/2,2)]},_=(e,t,r,n,a)=>{let s=t,u=s-e<=180?0:1;e>s&&(s+=360);let i=P(r,n,a),g=z(i,r,F(e)),m=z(i,r,F(s));return{sliderStartPoint:g,sliderEndPoint:m,largeArcFlag:u}},se=(e,t,r,n,a,s,u,i)=>{let[g,m]=t,{left:f,top:b}=e.getBoundingClientRect(),S=[g-f,m-b],R=te(S,r),h=J(R);h<0&&(h+=2*Math.PI);let v=ee(h),w=G(v,a),x=G(v,s);return oe(a,s,v)?(h=K(h,0,Math.PI*2,0,Math.PI),re(r,h,n[0],n[1])):w<=x?u:i};var L=[150,150],I=[10,10],we=C(L,I,5),Ae=P(L,I,5),{sliderStartPoint:ie,sliderEndPoint:Ce,largeArcFlag:Pe}=_(0,359.999,L,I,5),De=[{pointerRadii:I}],Ve=[ie],ye={svgRadii:L,angles:[0,359.999],strokeWidth:5,bgColor:D,pointers:De,pointerPositions:Ve,svgSize:we,svgCenter:Ae,sliderStartPoint:ie,sliderEndPoint:Ce,largeArcFlag:Pe},H=be({name:"slider",initialState:ye,reducers:{initUserSettings(e,t){return E(E({},e),t.payload)},updatePointersPosition(e,t){return Z(E({},e),{pointerPositions:t.payload})}}}),N=H.actions,at=H.reducer;import{useDispatch as Le,useSelector as Ie}from"react-redux";var le=_e({reducer:{slider:H.reducer}}),$=Le,l=Ie;import{useEffect as ze}from"react";import{useRef as me}from"react";import{useRef as He}from"react";import{jsx as Ne}from"react/jsx-runtime";var ue=e=>{let t=He(null),[r,n]=e.center,[a,s]=e.pointerRadii;return Ne("ellipse",{"data-type":"pointer",ref:t,cx:r,cy:n,rx:a,ry:s,cursor:"pointer",fill:"#000"})};import{jsx as he,jsxs as $e}from"react/jsx-runtime";var ce=()=>{let e=me(null),t=me(null),r=l(o=>o.slider.sliderStartPoint),n=l(o=>o.slider.sliderEndPoint),a=l(o=>o.slider.largeArcFlag),s=l(o=>o.slider.svgRadii),u=l(o=>o.slider.bgColor),i=l(o=>o.slider.strokeWidth),g=l(o=>o.slider.svgSize),m=l(o=>o.slider.svgCenter),f=l(o=>o.slider.angles),b=l(o=>o.slider.pointers),S=l(o=>o.slider.pointerPositions),[R,h]=f,[v,w]=g,x=$(),M=o=>{if(!e||!e.current||!t||!t.current)return;let p=o.type.indexOf("mouse")!==-1?o.clientX:o.touches[0].clientX,q=o.type.indexOf("mouse")!==-1?o.clientY:o.touches[0].clientY,pe=se(e.current,[p,q],m,s,R,h,r,n),W=[...S];W[0]=pe,x(N.updatePointersPosition(W))},de=o=>{let p=o.target;!p||!(p===t.current||p.getAttribute("data-type")==="pointer")||(o.preventDefault&&o.preventDefault(),M(o),window.addEventListener("mousemove",M),window.addEventListener("mouseup",X))},X=o=>{window.removeEventListener("mousemove",M),window.removeEventListener("mouseup",M)};return $e("svg",{xmlns:"http://www.w3.org/2000/svg",ref:e,width:v,height:w,onMouseDown:de,onMouseUp:X,onTouchMove:M,onTouchStart:M,children:[he("path",{ref:t,d:`M ${r[0]} ${r[1]} A ${s[0]} ${s[1]} 0 ${a} 1 ${n[0]} ${n[1]}`,stroke:u,strokeWidth:i,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer"}),S.map((o,p)=>he(ue,{center:o,pointerRadii:b[p].pointerRadii},p))]})};import{jsx as Ge}from"react/jsx-runtime";var Fe=e=>{let t=-1/0,r=-1/0;for(let n of e){let[a,s]=n.pointerRadii;t=Math.max(t,a),r=Math.max(r,s)}return[t,r]},ge=e=>{let t=l(n=>n.slider.pointers),r=$();return ze(()=>{let n=[d(e.rx,150),d(e.ry,150)],[a,s]=ae(e.startAngleDegrees,e.endAngleDegrees),u=[a,s],i=d(e.strokeWidth,5),g=ne(e.bgColor,D),m=e.pointers?e.pointers.map(x=>({pointerRadii:[d(x.rx,10),d(x.ry,10)]})):t,f=Fe(m),b=C(n,f,i),S=P(n,f,i),{sliderStartPoint:R,sliderEndPoint:h,largeArcFlag:v}=_(a,s,n,f,i),w=m.map(x=>R);r(N.initUserSettings({svgRadii:n,angles:u,strokeWidth:i,bgColor:g,pointers:m,pointerPositions:w,svgSize:b,svgCenter:S,sliderStartPoint:R,sliderEndPoint:h,largeArcFlag:v}))},[]),Ge(ce,{})};import{jsx as fe}from"react/jsx-runtime";var zt=e=>fe(Ue,{store:le,children:fe(ge,E({},e))});export{zt as RoundSlider};
//# sourceMappingURL=mz-react-round-slider.esm.js.map
