/* 
MZ React Round Slider v1.0.0
https://github.com/mzusin/react-round-slider
MIT License      
Copyright (c) 2023-present, Miriam Zusin          
*/
var Ke=Object.defineProperty;var ce=Object.getOwnPropertySymbols;var We=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable;var me=(e,t,n)=>t in e?Ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$=(e,t)=>{for(var n in t||(t={}))We.call(t,n)&&me(e,n,t[n]);if(ce)for(var n of ce(t))Ze.call(t,n)&&me(e,n,t[n]);return e};import{useEffect as le,useRef as $t,useState as ue}from"react";var Qe=Math.pow,I=(e,t=1/0)=>{if(t===1/0)return e;t<0&&(t=0);let n=Qe(10,t);return Math.round(e*n)/n},v=(e,t)=>(e%t+t)%t,S=(e,t,n,o,r)=>(r-o)*(e-t)/(n-t)+o;var ge=e=>!isNaN(parseFloat(e))&&isFinite(e);var de=(e,t=1/0)=>{let n=e*(180/Math.PI);return I(n,t)},C=(e,t=1/0)=>{let n=e*(Math.PI/180);return I(n,t)};var fe=(e,t,n=1/0)=>{let o=[];for(let r=0;r<e.length;r++)o.push(I(e[r]-t[r],n));return o},he=(e,t,n=1/0)=>fe(e,t,n);var je=(e,t,n=1/0)=>{let o=[];for(let r=0;r<e.length;r++)o.push(I(e[r]*t,n));return o},z=(e,t,n=1/0)=>je(e,t,n);var pe=(e,t=1/0)=>{let n=0;for(let o=0;o<e.length;o++)n+=e[o]*e[o];return I(Math.sqrt(n),t)};var X=(e,t,n=1/0)=>{let o=fe(e,t);return pe(o,n)};var Je=(e,t=1/0)=>{let n=pe(e),o=[];for(let r=0;r<e.length;r++)o.push(n===0?0:I(e[r]/n,t));return o},be=(e,t=1/0)=>Je(e,t);var M=(e,t,n)=>(t=t%Math.PI*2,[e[0]+Math.cos(t)*n,e[1]+Math.sin(t)*n]);var ee=()=>Math.random().toString(36).substring(2)+new Date().getTime().toString(36);var xe=(e,t,n,o,r,a)=>{let s=t+n*2,i=Math.max(0,o*2-s),c=e*2+s+i,[u,l]=et(e,o,t,n);return{cx:u,cy:l,radius:e,size:c,thickness:t,border:n,startAngleDeg:r,endAngleDeg:a}},et=(e,t,n,o)=>{let r=tt(e,t,n,o),a=I(r/2,2);return[a,a]},tt=(e,t,n,o)=>{let r=n+o*2,a=Math.max(0,t*2-r);return e*2+r+a};var De="#efefef";var ve="#444444";var te="#163a86",ne="#000",re="#a8a8a8";var oe="#000",Te="#5daed2",Se="#97b0bb",Ie="#000";var Ae="#efefef",Ee="#000";var d=(e,t)=>ge(e)?Number(e):t,b=(e,t)=>e==null?t:e,P=(e,t)=>e==null?t:e;var q=(e,t,n)=>(e>t&&(t+=360),n>=e&&n<=t||n+360>=e&&n+360<=t),U=(e,t)=>{t<e&&(t+=360);let n=t-e,o=v(n,360);return o===0&&n>0?360:o},Ce=(e,t,n)=>{e>t&&(t+=360);let o=2*Math.PI*n;e>t&&(t+=360);let r=t-e,a=-(e/360)*o,s=r/360*o,i=o-s;return{strokeDasharray:[s,i].join(" "),strokeOffset:a}};var w=(e,t,n,o,r,a,s)=>{let{left:i,top:c}=e.getBoundingClientRect(),u=[t-i,n-c],l=he(u,[o,r]),h=Math.atan2(l[1]/s,l[0]/a);return h<0&&(h+=2*Math.PI),de(h)},F=(e,t,n,o)=>{o<n&&(o+=360),t<n&&(t+=360);let r=S(t,n,o,e.min,e.max);if(e.data.length>0){let a=Math.round(r);r=e.data[a]}else r=I(r,e.round);return r},nt=(e,t,n,o)=>{let r;if(o<n&&(o+=360),e.data.length>0){let a=e.data.findIndex(s=>s===t);r=a===-1?0:a}else r=typeof t!="number"?e.min:t;return v(S(r,e.min,e.max,n,o),360)},rt=(e,t)=>{if(!e||!e.pointers||e.pointers.length<0||!t)return[{id:ee(),index:0,radius:10,angleDeg:v(d(e.pathStartAngle,0),360),bgColor:b(e.pointerBgColor,te),bgColorSelected:b(e.pointerBgColorSelected,ne),bgColorDisabled:b(e.pointerBgColorDisabled,re),border:d(e.pointerBorder,0),borderColor:b(e.pointerBorderColor,oe),disabled:!!e.disabled}];let n=[];for(let o=0;o<e.pointers.length;o++){let r=e.pointers[o],a=r.bgColor?r.bgColor:b(e.pointerBgColor,te),s=r.bgColorSelected?r.bgColorSelected:b(e.pointerBgColorSelected,ne),i=r.bgColorDisabled?r.bgColorDisabled:b(e.pointerBgColorDisabled,re),c=r.border?r.border:d(e.pointerBorder,0),u=r.borderColor?r.borderColor:b(e.pointerBorderColor,oe),l=r.disabled!==void 0?r.disabled:P(e.disabled,!1),h=d(e.pathStartAngle,0),f=d(e.pathEndAngle,360),g=nt(t,r.value,h,f),m=ae(g,t.stepAngleDeg);t.isClosedShape&&v(m,360)===v(f,360)&&(m=h),n.push({id:ee(),index:o,radius:d(r.radius,10),angleDeg:m,bgColor:a,bgColorSelected:s,bgColorDisabled:i,border:c,borderColor:u,disabled:l,ariaLabel:r.ariaLabel})}return n},Re=(e,t)=>{let n=rt(e,t);return{pointers:n,maxRadius:ot(n)}},ot=e=>{if(e.length<=0)return 0;let t=-1/0;for(let n of e)t=Math.max(t,Math.max(0,n.radius+n.border/2));return t},Y=(e,t,n,o,r)=>{if(!e||e.length<=0)return null;if(e.length===1)return e[0];let a=S(C(t),0,Math.PI*2,0,Math.PI),s=M([n,o],a,r),i,c=null,u=e.filter(l=>!l.disabled);for(let l of u){let h=S(C(l.angleDeg),0,Math.PI*2,0,Math.PI),f=M([n,o],h,r),g=X(s,f);(i===void 0||g<i)&&(i=g,c=l)}return $({},c)},K=(e,t,n,o,r,a)=>{let s=S(C(n),0,Math.PI*2,0,Math.PI),i=M([o,r],s,a),c=S(C(e),0,Math.PI*2,0,Math.PI),u=M([o,r],c,a),l=S(C(t),0,Math.PI*2,0,Math.PI),h=M([o,r],l,a),f=X(i,u),g=X(i,h);return f<=g?e:t},W=(e,t)=>{if(!e||e.length<=0)return null;let n,o,r=null,a=null;for(let s of e){let i=U(t,s.angleDeg);(n===void 0||i<n)&&(r=s,n=i),(o===void 0||i>o)&&(a=s,o=i)}return r===null||a===null?null:[r,a]},ae=(e,t)=>t===0?0:Math.round(e/t)*t;import{useEffect as se,useState as _e,useRef as at,useCallback as st}from"react";var Z={outline:"none"};import{Fragment as ut,jsx as ie}from"react/jsx-runtime";var it=(e,t,n,o,r)=>e.disabled?r:document.activeElement===t.current&&o||n,lt=e=>{let t=at(null),{pointer:n,svg:o,$svg:r,setPointer:a,data:s,settings:i}=e,{radius:c,angleDeg:u,bgColor:l,bgColorSelected:h,bgColorDisabled:f,border:g,borderColor:m}=e.pointer,{cx:D,cy:x}=o,[A,L]=_e(null),[R,j]=_e("");se(()=>{let p=F(s,n.angleDeg,o.startAngleDeg,o.endAngleDeg);j(p===void 0?"":p.toString())},[s,n.angleDeg,o.startAngleDeg,o.endAngleDeg]),se(()=>{let p=S(C(u),0,Math.PI*2,0,Math.PI),T=M([D,x],p,o.radius);L(T)},[u,D,x,o.radius]);let k=st(p=>{if(!r||i.disabled||n.disabled)return;let T=p.type.indexOf("mouse")!==-1?p.clientX:p.touches[0].clientX,_=p.type.indexOf("mouse")!==-1?p.clientY:p.touches[0].clientY,E=w(r,T,_,o.cx,o.cy,o.radius,o.radius),B;q(o.startAngleDeg,o.endAngleDeg,E)?B=E:B=K(o.startAngleDeg,o.endAngleDeg,n.angleDeg,o.cx,o.cy,o.radius),a(n,B)},[r,n,a,o.cx,o.cy,o.endAngleDeg,o.radius,o.startAngleDeg,i.disabled]),N=()=>{window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",k)},H=p=>{i.disabled||n.disabled||(k(p),window.addEventListener("mousemove",k),window.addEventListener("mouseup",N))},G=p=>{if(!(i.disabled||n.disabled||i.keyboardDisabled))switch(p.key){case"ArrowLeft":{p.preventDefault(),a(n,n.angleDeg+s.stepAngleDeg);break}case"ArrowRight":{p.preventDefault(),a(n,n.angleDeg-s.stepAngleDeg);break}case"ArrowUp":{p.preventDefault(),a(n,n.angleDeg-s.stepAngleDeg);break}case"ArrowDown":{p.preventDefault(),a(n,n.angleDeg+s.stepAngleDeg);break}}};return se(()=>{let p=t.current,T=E=>{i.disabled||n.disabled||(E.preventDefault(),E.stopPropagation(),k(E))},_=E=>{if(i.disabled||n.disabled||i.mousewheelDisabled||document.activeElement!==p)return;E.stopPropagation(),E.preventDefault();let B=E.deltaY<0,J;B?J=n.angleDeg+s.stepAngleDeg:J=n.angleDeg-s.stepAngleDeg,a(n,J)};return p==null||p.addEventListener("touchmove",T,{passive:!1}),document.addEventListener("wheel",_,{passive:!1}),()=>{p==null||p.removeEventListener("touchmove",T),document.removeEventListener("wheel",_)}},[A,k,s.stepAngleDeg,n,a,i.disabled,i.mousewheelDisabled]),ie(ut,{children:A&&ie("g",{ref:t,transform:`translate(${A[0]-c/2}, ${A[1]-c/2})`,role:"slider","aria-disabled":n.disabled?!0:void 0,"aria-valuenow":n.angleDeg,"aria-valuetext":R,"aria-label":n.ariaLabel,"data-type":"pointer","data-angle":n.angleDeg,"data-id":n.id,"data-index":n.index,onMouseDown:H,onKeyDown:G,tabIndex:0,cursor:n.disabled?"default":"pointer",style:Z,children:ie("circle",{cx:c/2,cy:c/2,r:c,fill:it(n,t,l,h,f),strokeWidth:g,stroke:m})})})},Le=lt;import{Fragment as mt,jsx as ke}from"react/jsx-runtime";var ct=e=>{let{pointers:t,settings:n,svg:o,$svg:r,setPointer:a,data:s}=e;return ke(mt,{children:t.pointers.map(i=>ke(Le,{pointer:i,svg:o,settings:n,$svg:r,setPointer:a,data:s},i.id))})},we=ct;var Oe=e=>{let t=d(e.min,0),n=d(e.max,100),o=d(e.step,1),r=d(e.arrowStep,1),a=d(e.round,0),s=e.data||[];if(s.length>0){let f=s.findIndex(m=>m===t),g=s.findIndex(m=>m===n);t=f===-1?0:f,n=g===-1?s.length:g}else t>n&&(t=n+100);let i=d(e.pathStartAngle,0),c=d(e.pathEndAngle,360),u=v(i,360)===v(c,360),l=o*360/(n-t),h=r*360/(n-t);return{min:t,max:n,round:a,data:s,stepAngleDeg:l,arrowStepAngleDeg:h,isClosedShape:u}};import{useCallback as pt,useEffect as bt,useRef as xt,useState as Dt}from"react";var Fe=(e,t,n,o,r,a)=>{if(!e.pointers||e.pointers.length<=0)return null;let s={radius:t,cx:n,cy:o,startAngleDeg:r,endAngleDeg:r,strokeDasharray:[0,0],strokeOffset:0};if(e.pointers.length===1)s.startAngleDeg=r,s.endAngleDeg=e.pointers[0].angleDeg;else{let m=W(e.pointers,r);if(!m)return null;let[D,x]=m;s.startAngleDeg=D.angleDeg,s.endAngleDeg=x.angleDeg}let i=U(r,a);s.startAngleDeg>s.endAngleDeg&&(s.endAngleDeg+=360);let c=U(s.startAngleDeg,s.endAngleDeg);c>i&&(c=360-c,[s.startAngleDeg,s.endAngleDeg]=[s.endAngleDeg,s.startAngleDeg]);let l=2*Math.PI*t,h=-(s.startAngleDeg/360)*l,f=c/360*l,g=l-f;return s.strokeDasharray=[f,g],s.strokeOffset=h,s};import{Fragment as Tt,jsx as Ne}from"react/jsx-runtime";var vt=e=>{let{settings:t,pointers:n,$svg:o,svg:r,data:a,setPointer:s}=e,[i,c]=Dt(null),u=xt();bt(()=>{c(Fe(n,r.radius,r.cx,r.cy,r.startAngleDeg,r.endAngleDeg))},[n,r.radius,r.cx,r.cy,r.startAngleDeg,r.endAngleDeg]);let l=m=>{if(!o||t.disabled)return;let D=w(o,m.clientX,m.clientY,r.cx,r.cy,r.radius,r.radius),x=Y(n.pointers,D,r.cx,r.cy,r.radius);x&&s(x,D)},h=pt(m=>{if(!o||t.disabled||!t.rangeDragging)return;let D=W(n.pointers,r.startAngleDeg);if(!D)return;let[x,A]=D,L=w(o,m.clientX,m.clientY,r.cx,r.cy,r.radius,r.radius);if(u.current===void 0){u.current=L;return}let R=L-u.current;R===0||Math.abs(R)<a.stepAngleDeg||(s(x,v(x.angleDeg+R,360)),s(A,v(A.angleDeg+R,360)),u.current=L)},[o,r.cx,r.cy,r.radius,a.stepAngleDeg,n.pointers,s,t.disabled,t.rangeDragging,r.startAngleDeg]),f=()=>{window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",h),u.current=void 0},g=m=>{!t.rangeDragging||t.disabled||n.pointers.length<=1||(h(m),window.addEventListener("mousemove",h),window.addEventListener("mouseup",f))};return Ne(Tt,{children:!P(t.hideConnection,!1)&&i&&Ne("circle",{"data-type":"connection",cx:i.cx,cy:i.cy,r:i.radius,strokeDasharray:i.strokeDasharray.join(" "),strokeDashoffset:i.strokeOffset,stroke:t.disabled?b(t.connectionBgColorDisabled,Se):b(t.connectionBgColor,Te),strokeWidth:r.thickness+1,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:t.disabled?"default":"pointer",onClick:l,onMouseDown:g})})},Be=vt;import{useEffect as It,useState as At}from"react";import{Fragment as Ct,jsx as Ue}from"react/jsx-runtime";var Et=e=>{let{settings:t,pointers:n,svg:o,data:r}=e,{cx:a,cy:s}=o,[i,c]=At("");It(()=>{let l=n.pointers.map(f=>F(r,f.angleDeg,o.startAngleDeg,o.endAngleDeg));l.sort((f,g)=>f.toString().localeCompare(g.toString(),"en",{numeric:!0}));let h=l.map(f=>`${t.textPrefix||""}${f}${t.textSuffix||""}`);c(h.join(" "))},[r,n.pointers,o.startAngleDeg,o.endAngleDeg,t.textPrefix,t.textSuffix]);let u=P(t.hideText,!1);return Ue(Ct,{children:!u&&Ue("text",{x:a,y:s,fill:b(t.textColor,Ie),fontSize:d(t.textFontSize,16),fontFamily:t.textFontFamily,style:{userSelect:"none"},textAnchor:"middle",children:i})})},Ve=Et;import{useEffect as $e,useState as ze,Fragment as kt}from"react";var He=(e,t)=>{let n=d(e.ticsCount,0);n||(t.data&&t.data.length>0?n=t.data.length:n=t.max);let o=d(e.ticksHeight,20);return{ticksCount:n,disableTicks:P(e.disableTicks,!1),ticksWidth:d(e.ticksWidth,3),ticksHeight:o,longerTicksHeight:d(e.longerTicksHeight,o*2),ticksDistanceToPanel:d(e.ticksDistanceToPanel,0),tickValuesDistance:d(e.tickValuesDistance,15),ticksColor:b(e.ticksColor,Ae),tickValuesColor:b(e.tickValuesColor,Ee),tickValuesFontSize:d(e.tickValuesFontSize,12),ticksGroupSize:d(e.ticksGroupSize,10),longerTickValuesOnly:P(e.longerTickValuesOnly,!0),showTickValues:P(e.showTickValues,!0)}},Ge=(e,t,n,o,r,a)=>{let s=[],i=Math.abs(o-n),c=t===0?0:i/t,u=t;a.isClosedShape||u++;for(let l=0;l<u;l++){let h=n+l*c,f=S(C(h),0,Math.PI*2,0,Math.PI),[g,m]=M([r.cx,r.cy],f,r.radius),D=e.ticksGroupSize!==void 0&&l%e.ticksGroupSize===0,x=e.ticksHeight;D&&(x=e.longerTicksHeight);let A=be([r.cx-g,r.cy-m]),L=z(A,x),R=z(A,e.ticksDistanceToPanel);g+=R[0],m+=R[1];let j=g+L[0],k=m+L[1],N;if(e.showTickValues&&(!e.longerTickValuesOnly||e.longerTickValuesOnly&&(D||e.ticksGroupSize===void 0))){let T=S(l,0,t,a.min,a.max);if(a.data.length>0){let _=Math.round(T);T=a.data[_]}else T=I(T,a.round);N=(T!=null?T:"").toString()}let H=0,G=0,p=N!==void 0;if(p){let T=d(x+e.tickValuesDistance,x*1.5),_=z(A,T);H=g+_[0],G=m+_[1]}s.push({x:g,y:m,x1:j,y1:k,textX:H,textY:G,isLonger:D,tickValue:N,showText:p})}return s};import{Fragment as Ot,jsx as Q,jsxs as yt}from"react/jsx-runtime";var wt=e=>{let{settings:t,svg:n,data:o}=e,[r,a]=ze(null),[s,i]=ze([]);return $e(()=>{a(He(t,o))},[t,o]),$e(()=>{if(!r)return;let c=n.endAngleDeg;c<n.startAngleDeg&&(c+=360),i(Ge(r,r.ticksCount,n.startAngleDeg,c,n,o))},[o,n,r]),Q(Ot,{children:r&&!r.disableTicks&&Q("g",{children:s.map((c,u)=>{let{x:l,y:h,x1:f,y1:g,textX:m,textY:D,showText:x}=c;return yt(kt,{children:[Q("line",{x1:l,y1:h,x2:f,y2:g,strokeWidth:r.ticksWidth,stroke:r.ticksColor}),x&&Q("text",{x:m,y:D,textAnchor:"middle",dominantBaseline:"middle",fill:r.tickValuesColor,fontSize:r.tickValuesFontSize,fontFamily:t.tickValuesFontFamily,style:{userSelect:"none"},children:c.tickValue})]},u)})})})},Xe=wt;import{useEffect as Ft,useState as Nt}from"react";import{jsx as qe,jsxs as Ut}from"react/jsx-runtime";var Bt=e=>{let{settings:t,pointers:n,$svg:o,svg:r,setPointer:a}=e,[s,i]=Nt({strokeDasharray:"0 1000000",strokeOffset:0});return Ft(()=>{i(Ce(r.startAngleDeg,r.endAngleDeg,r.radius))},[r.startAngleDeg,r.endAngleDeg,r.radius]),Ut("g",{onClick:u=>{if(!o||t.disabled)return;let l=w(o,u.clientX,u.clientY,r.cx,r.cy,r.radius,r.radius),h=Y(n.pointers,l,r.cx,r.cy,r.radius);h&&a(h,l)},children:[r.border>0&&qe("circle",{strokeDasharray:s.strokeDasharray,strokeDashoffset:s.strokeOffset,cx:r.cx,cy:r.cy,r:r.radius,stroke:b(t.pathBorderColor,ve),strokeWidth:r.thickness+r.border*2,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer","data-type":"path-border"}),qe("circle",{strokeDasharray:s.strokeDasharray,strokeDashoffset:s.strokeOffset,cx:r.cx,cy:r.cy,r:r.radius,stroke:b(t.pathBgColor,De),strokeWidth:r.thickness,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer","data-type":"path"})]})},Ye=Bt;import{Fragment as Xt,jsx as y,jsxs as zt}from"react/jsx-runtime";var Ur=e=>{let[t,n]=ue(null),[o,r]=ue(null),[a,s]=ue(null),i=$t(null);le(()=>{n(Oe(e))},[e]),le(()=>{s(Re(e,t))},[e,t]),le(()=>{if(!a)return;let u=d(e.pathStartAngle,0),l=d(e.pathEndAngle,360);l<=u&&(l+=360),r(xe(d(e.pathRadius,150),d(e.pathThickness,5),d(e.pathBorder,0),a.maxRadius,u,l))},[e.pathRadius,e.pathThickness,e.pathBorder,e.pathStartAngle,e.pathEndAngle,a]);let c=(u,l)=>{if(e.disabled||!a.pointers||!u||u.disabled||(l=ae(l,t.stepAngleDeg),t.isClosedShape&&v(l,360)===v(o.endAngleDeg,360)&&(l=o.startAngleDeg),u.angleDeg===l))return;if(!e.pointersOverlap){let g,m;if(t.isClosedShape){let D=v(u.index-1,a.pointers.length),x=v(u.index+1,a.pointers.length);g=a.pointers[D].angleDeg,m=a.pointers[x].angleDeg}else g=u.index===0?o.startAngleDeg:a.pointers[u.index-1].angleDeg,m=u.index===a.pointers.length-1?o.endAngleDeg:a.pointers[u.index+1].angleDeg;m<=g&&(m+=360),q(g,m,l)||(l=K(g,m,l,o.cx,o.cy,o.radius))}if(u.angleDeg===l)return;let f=$({},a);if(f.pointers=[...a.pointers],f.pointers[u.index].angleDeg=l,a.pointers=f.pointers,s(f),typeof e.onChange=="function"){let g=f.pointers.map(m=>F(t,m.angleDeg,o.startAngleDeg,o.endAngleDeg));e.onChange(g)}};return y(Xt,{children:o&&zt("svg",{ref:i,xmlns:"http://www.w3.org/2000/svg",width:o.size,height:o.size,tabIndex:0,focusable:!0,"aria-disabled":e.disabled?!0:void 0,style:Z,children:[e.SvgDefs&&y("defs",{children:e.SvgDefs}),y(Xe,{settings:e,svg:o,data:t}),y(Ye,{settings:e,pointers:a,svg:o,$svg:i.current,setPointer:c}),y(Be,{settings:e,pointers:a,svg:o,$svg:i.current,data:t,setPointer:c}),y(we,{settings:e,pointers:a,svg:o,$svg:i.current,setPointer:c,data:t}),y(Ve,{settings:e,pointers:a,svg:o,data:t})]})})};export{Ur as RoundSlider};
//# sourceMappingURL=mz-react-round-slider.esm.js.map
