/* 
MZ React Round Slider v1.0.0
https://github.com/mzusin/react-round-slider
MIT License      
Copyright (c) 2023-present, Miriam Zusin          
*/
var Ht=Object.defineProperty;var De=Object.getOwnPropertySymbols;var $t=Object.prototype.hasOwnProperty,Ut=Object.prototype.propertyIsEnumerable;var Re=(e,n,t)=>n in e?Ht(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,F=(e,n)=>{for(var t in n||(n={}))$t.call(n,t)&&Re(e,t,n[t]);if(De)for(var t of De(n))Ut.call(n,t)&&Re(e,t,n[t]);return e};import{useEffect as M,useRef as Me,useState as h}from"react";var Gt=Math.pow,E=(e,n=1/0)=>{if(n===1/0)return e;n<0&&(n=0);let t=Gt(10,n);return Math.round(e*t)/t},L=(e,n)=>(e%n+n)%n,te=(e,n,t,r,o)=>(o-r)*(e-n)/(t-n)+r;var ne=e=>!isNaN(parseFloat(e))&&isFinite(e),me=(e,n,t,r=1/0)=>{let[o,i]=e,[a,l]=n;return[E(o+a*Math.cos(t),r),E(i+l*Math.sin(t),r)]};var ye=(e,n=1/0)=>{let t=e*(180/Math.PI);return E(t,n)},Q=(e,n=1/0)=>{let t=e*(Math.PI/180);return E(t,n)};var re=(e,n,t=1/0)=>{let r=Math.abs(L(e,360)-L(n,360));return E(r<=180?r:360-r,t)};var zt=(e,n,t=1/0)=>{let r=[];for(let o=0;o<e.length;o++)r.push(E(e[o]-n[o],t));return r},we=(e,n,t=1/0)=>zt(e,n,t);var Wt=(e,n,t=1/0)=>{let r=[];for(let o=0;o<e.length;o++)r.push(E(e[o]*n,t));return r},Le=(e,n,t=1/0)=>Wt(e,n,t);var Xt=(e,n=1/0)=>{let t=0;for(let r=0;r<e.length;r++)t+=e[r]*e[r];return E(Math.sqrt(t),n)};var Yt=(e,n=1/0)=>{let t=Xt(e),r=[];for(let o=0;o<e.length;o++)r.push(t===0?0:E(e[o]/t,n));return r},_e=(e,n=1/0)=>Yt(e,n);var Ve=(e,n,t,r)=>(n=n%Math.PI*2,[e[0]+Math.cos(n)*t,e[1]+Math.sin(n)*r]);var de=()=>Math.random().toString(36).substring(2)+new Date().getTime().toString(36);var v=(e,n)=>ne(e)?Number(e):n,oe=(e,n)=>e==null?n:e,W=(e,n)=>e==null?n:e;var he="#efefef",fe="#5daed2",X="#333";var ke={filter:"opacity(0.7) grayscale(100%)"},Fe={outline:"none"},Ne={outline:"none"},ge=2,j=3,J=20,Be="#000",Oe=16;var He=(e,n,t)=>t>=e&&t<=n||t+360>=e&&t+360<=n,$e=(e,n)=>{let t=v(e,0),r=v(n,359.999);return t=L(t,360),r=L(r,360),t<0&&(t+=360),r<0&&(r+=360),r<t&&(r+=360),t===r&&(r+=359.999),[t,r]};var We=e=>{if(e.length<=0)return[0,0];let n=-1/0,t=-1/0;for(let r of e){let[o,i]=r.pointerRadii;n=Math.max(n,Math.max(0,o)),t=Math.max(t,Math.max(0,i))}return[n,t]},Xe=(e,n,t)=>{if(t&&t.length>0){let i=t.findIndex(c=>c===e),a=t.findIndex(c=>c===n),l=i===-1?0:i,s=a===-1?t.length:a;return[l,s]}let r=v(e,0),o=v(n,100);return r>o&&(o=r+100),[r,o]},Qt=(e,n,t,r)=>{if(r&&r.length>0){let i=r.findIndex(a=>a===e);return i===-1?0:i}let o=v(e,n);return o<n&&(o=n),o>t&&(o=t),o};var Y=(e,n,t,r,o)=>{let i=n===t?0:te(e,0,100,n,t);return o&&o.length>0?o[Math.round(i)]:E(i,r)},jt=(e,n)=>n===0?0:Math.round(e/n)*n,xe=(e,n,t,r)=>{if(r===void 0&&t&&(r=1),r===void 0)return;let o=n-e;return o===0?0:r*100/o},Ye=(e,n,t,r,o,i)=>{let a=[],l=e||[];for(let s=0;s<l.length;s++){let c=l[s];if(c.rx<=0||c.ry<=0)continue;let d=Qt(c.value,n,t,r),g=n===t?0:te(n,t,0,100,d),m={pointerRadii:[v(c.rx,10),v(c.ry,10)],percent:g,id:de(),index:0,bgColor:c.bgColor||o||X,pointerSVG:i||c.pointerSVG,disabled:c.disabled===!0,keyboardDisabled:!1,mousewheelDisabled:!1,ariaLabel:c.ariaLabel};a.push(m)}if(a.length>1){a.sort((s,c)=>s.percent-c.percent);for(let s=0;s<a.length;s++)a[s].index=s}return!a||a.length<=0?[{pointerRadii:[10,10],percent:0,id:de(),index:0,bgColor:X,disabled:!1,keyboardDisabled:!1,mousewheelDisabled:!1}]:a},q=(e,n,t,r,o)=>{let i=Math.abs(t-n),a=e*i/100,l=L(n+a,360),s=Q(l);return s=te(s,0,Math.PI*2,0,Math.PI),{position:Ve(o,s,r[0],r[1]),angleDegrees:l}},qe=e=>{if(!e||e.length<2)return null;let n=1/0,t=null,r=-1/0,o=null;for(let i=0;i<e.length;i++){let a=e[i];a.percent<n&&(n=a.percent,t=a),a.percent>r&&(r=a.percent,o=a)}return t===null||o===null?null:[t,o]},Ke=(e,n,t,r,o,i,a,l,s,c)=>{let[d,g]=n,{left:m,top:b}=e.getBoundingClientRect(),f=[d-m,g-b],p=we(f,t),[P,C]=r,x=Math.atan2(p[1]/C,p[0]/P);x<0&&(x+=2*Math.PI);let I=ye(x);if(!He(o,i,I)){let B=re(I,o),Z=re(I,i);return B<=Z?a:l}let N=Math.abs(i-o),A=I*100/N,k=xe(a,l,s,c),D=k===void 0?A:jt(A,k);return D===100?0:D},ee=(e,n)=>!e||!n?-1:e.findIndex(t=>t.id===n),Jt=e=>e.getAttribute("data-type")==="panel",en=e=>e.getAttribute("data-type")==="connection",tn=(e,n)=>e.getAttribute("data-type")==="pointer"&&e.getAttribute("data-id")===n||e.querySelector(`[data-type="pointer"][data-index="${n}"]`)!==null,Ze=(e,n,t,r,o,i,a)=>{if(n.length<=0)return null;if(n.length===1)return n[0].id;if(a==="drag")return r;if(Jt(e)||en(e)){let l=Math.abs(i-o),s=t*l/100,c=1/0,d=null;for(let g=0;g<n.length;g++){let m=n[g],b=m.percent*l/100,f=re(b,s);f<c&&(c=f,d=m.id)}return d}for(let l=0;l<n.length;l++){let s=n[l];if(tn(e,s.id))return s.id}return r};var nn=(e,n)=>{let t=e.find(l=>l.id===n);if(!t)return null;let r=L(t.index+1,e.length),o=e.find(l=>l.index===r);if(!o)return null;let i=L(t.index-1,e.length),a=e.find(l=>l.index===i);return[t,o,a]},Qe=(e,n)=>{if(e[0].disabled)return e;let t=[...e],r=t[0];return r.percent=n,t[0]=r,t},je=(e,n,t)=>{if(!t)return e;let r=e.findIndex(a=>a.id===t);if(r===-1||e[r].disabled)return e;let o=[...e],i=F({},o[r]);return i.percent=n,o[r]=i,o},Je=(e,n,t,r,o)=>{let[i,a,l]=nn(n,t),s=e-i.percent,c=Math.abs(o-r)/2;if(s!==0&&i.percent!==0&&e!==0){let d=Math.abs(s)>c?s<0:s>=0;d&&a.percent>=i.percent&&(e=Math.min(e,a.percent)),!d&&l.percent<=i.percent&&(e=Math.max(e,l.percent))}return e};var be=(e,n,t)=>{let[r,o]=e,[i,a]=n,l=Math.max(0,i*2-t),s=Math.max(0,a*2-t),c=r*2+t+l,d=o*2+t+s;return[c,d]},ve=(e,n,t)=>{let[r,o]=be(e,n,t);return[E(r/2,2),E(o/2,2)]},et=(e,n,t,r,o)=>{let i=n,a=i-e<=180?0:1;e>i&&(i+=360);let l=ve(t,r,o),s=me(l,t,Q(e)),c=me(l,t,Q(i));return{start:s,end:c,largeArcFlag:a}};import{forwardRef as rn}from"react";import{jsx as an}from"react/jsx-runtime";var on=(e,n)=>{let{ellipse:t,strokeWidth:r,svgRadii:o,bgColor:i}=e,{start:a,end:l,largeArcFlag:s}=t;return an("path",{"data-type":"panel",ref:n,d:`M ${a[0]} ${a[1]} A ${o[0]} ${o[1]} 0 ${s} 1 ${l[0]} ${l[1]}`,stroke:i,strokeWidth:r,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer"})},tt=rn(on);import{useEffect as sn,useState as Se}from"react";import{Fragment as un,jsx as nt}from"react/jsx-runtime";var ln=e=>{let{pointers:n,ellipse:t,strokeWidth:r,svgCenter:o,svgRadii:i,connectionBgColor:a,connectionGradient:l,startEndAngle:s}=e,{start:c}=t,[d,g]=s,[m,b]=Se(null),[f,p]=Se(null),[P,C]=Se(0);return sn(()=>{if(!n||n.length<=0)return;if(n.length<=1){let B=n[0],{position:Z,angleDegrees:ie}=q(B.percent,d,g,i,o);b(c),p(Z),C(Math.abs(ie-d)<=180?0:1);return}let x=qe(n);if(x===null)return;let I=x[0],T=x[1],{position:N,angleDegrees:A}=q(I.percent,d,g,i,o),{position:k,angleDegrees:D}=q(T.percent,d,g,i,o);b(N),p(k),C(Math.abs(D-A)<=180?0:1)},[g,n,c,d,o,i]),nt(un,{children:m!==null&&f!==null&&nt("path",{"data-type":"connection",d:`M ${m[0]} ${m[1]} A ${i[0]} ${i[1]} 0 ${P} 1 ${f[0]} ${f[1]}`,stroke:l?"url(#connection)":a,strokeWidth:r+1,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer",pointerEvents:"none"})})},rt=ln;import{useEffect as ot,useState as at}from"react";import{Fragment as it,jsx as ae,jsxs as mn}from"react/jsx-runtime";var cn=e=>{let{id:n,pointer:t,startEndAngle:r,svgRadii:o,svgCenter:i,pointerBgColor:a,pointerSVG:l,disabledPointerStyle:s,min:c,max:d,round:g,data:m,ariaLabel:b}=e,{percent:f,pointerRadii:p}=t,[P,C]=p,[x,I]=r,[T,N]=at(null),[A,k]=at("");ot(()=>{let{position:B}=q(f,x,I,o,i);N(B)},[f,o,i,x,I]),ot(()=>{k(Y(f,c,d,g,m))},[c,d,g,m,f]);let D=F({},Ne);return t.disabled&&(D=F(F({},D),s)),T?mn(it,{children:[!l&&ae("ellipse",{className:t.disabled?"disabled":void 0,style:D,"aria-disabled":t.disabled?!0:void 0,"aria-valuenow":A,"aria-valuetext":(A||"").toString(),"aria-label":b,"data-type":"pointer","data-index":t.index,"data-id":n,"data-percent":t.percent,cx:T[0],cy:T[1],rx:P,ry:C,cursor:"pointer",tabIndex:0,role:"slider",fill:a}),l&&ae("g",{className:t.disabled?"disabled":void 0,style:D,"aria-disabled":t.disabled?!0:void 0,"aria-valuenow":A,"aria-valuetext":A.toString(),"aria-label":b,"data-type":"pointer","data-index":t.index,"data-id":n,"data-percent":t.percent,cursor:"pointer",transform:`translate(${T[0]-P/2}, ${T[1]-C/2})`,tabIndex:0,role:"slider",children:ae("g",{pointerEvents:"none",children:l})})]}):ae(it,{})},st=cn;import{useEffect as dn,useState as hn}from"react";import{jsx as gn}from"react/jsx-runtime";var fn=e=>{let{svgCenter:n,round:t,min:r,max:o,pointers:i,data:a,textPrefix:l,textSuffix:s,textColor:c,textFontSize:d,textFontFamily:g}=e,[m,b]=n,[f,p]=hn("");return dn(()=>{let P=[];for(let C of i){let x=Y(C.percent,r,o,t,a);P.push(`${l||""}${x}${s||""}`)}p(P.join(" "))},[a,o,r,i,t,l,s]),gn("text",{x:m,y:b,fill:c||Be,fontSize:d||Oe,fontFamily:g,style:{userSelect:"none"},textAnchor:"middle",children:f})},lt=fn;import{useEffect as xn,useState as bn}from"react";import{jsx as ut}from"react/jsx-runtime";var vn=(e,n,t)=>{var i;let r=[],o=e===0?0:n/e;for(let a=0;a<e;a++){let l=a*o,s=(i=t==null?void 0:t.current)==null?void 0:i.getPointAtLength(l),c=s?s.x:0,d=s?s.y:0;r.push({distance:l,x:c,y:d})}return r},Sn=e=>{let{ticksColor:n,ticksWidth:t,ticksHeight:r,ticsCount:o,totalLength:i,sliderRef:a,svgCenter:l}=e,[s,c]=bn([]);xn(()=>{c(vn(o,i,a))},[o,i,a]);let[d,g]=l;return ut("g",{children:s.map((m,b)=>{let{x:f,y:p}=m,P=r||J,C=_e([d-f,g-p]),x=Le(C,P),I=f+x[0],T=p+x[1];return ut("line",{x1:f,y1:p,x2:I,y2:T,strokeWidth:t||j,stroke:n},b)})})},ct=Sn;import{jsx as K,jsxs as Pn}from"react/jsx-runtime";var Nr=e=>{var Ie;let n=Me(null),t=Me(null),r=Me("click"),[o,i]=h(null),[a,l]=h([0,0]),[s,c]=h(0),[d,g]=h([0,0]),[m,b]=h([]),[f,p]=h([0,0]),[P,C]=h([0,0]),[x,I]=h([0,0]),[T,N]=h([0,0]),[A,k]=h({start:[0,0],end:[0,0],largeArcFlag:0}),[D,B]=h(he),[Z,ie]=h(fe),[pe,mt]=h(X),[dt,ht]=h(!1),[O,ft]=h(!1),[gt,xt]=h(void 0),[Te,bt]=h(!1),[vt,St]=h(!1),[se,Mt]=h(ge),[pt,Tt]=h(void 0),[R,y]=d,[Et,Pt]=P,[H,$]=T,[Ct,It]=h(!1),[At,Dt]=h(""),[Rt,yt]=h(""),[wt,Lt]=h(!1),[_t,Vt]=h(j),[kt,Ft]=h(J),[Nt,Bt]=h(0);M(()=>{Tt(xe(R,y,e.data,e.step))},[R,y,e.data,e.step]),M(()=>{Lt(W(e.disableTicks,!1)),Vt(v(e.ticksWidth,j)),Ft(v(e.ticksHeight,J));let u=v(e.ticsCount,0);u||(e.data&&e.data.length>0?u=e.data.length:u=Math.abs(H-$)%360*(y-R)/360),Bt(u)},[e.disableTicks,e.ticksWidth,e.ticksHeight,e.ticsCount,y,R,e.data,H,$]),M(()=>{B(oe(e.bgColor,he)),ie(oe(e.connectionBgColor,fe)),mt(oe(e.pointerBgColor,X))},[e.bgColor,e.connectionBgColor,e.pointerBgColor]),M(()=>{ht(W(e.pointersOverlap,!1))},[e.pointersOverlap]),M(()=>{ft(W(e.disabled,!1)),xt(e.disabledPointerStyle||ke),bt(W(e.keyboardDisabled,!1)),St(W(e.mousewheelDisabled,!1))},[e.disabled,e.disabledPointerStyle,e.keyboardDisabled,e.mousewheelDisabled]),M(()=>{l([v(e.rx,150),v(e.ry,150)])},[e.rx,e.ry]),M(()=>{c(v(e.strokeWidth,5))},[e.strokeWidth]),M(()=>{g(Xe(e.min,e.max,e.data))},[e.min,e.max,e.data]),M(()=>{b(Ye(e.pointers,R,y,e.data,pe,e.pointerSVG))},[e.pointers,e.data,R,y,pe,e.pointerSVG]),M(()=>{p(We(m))},[m]),M(()=>{C(be(a,f,s))},[a,f,s]),M(()=>{I(ve(a,f,s))},[a,f,s]),M(()=>{N($e(e.startAngleDegrees,e.endAngleDegrees))},[e.startAngleDegrees,e.endAngleDegrees]),M(()=>{k(et(H,$,a,f,s))},[H,$,a,f,s]),M(()=>{Mt(v(e.round,ge))},[e.round]),M(()=>{It(e.hideText),Dt(e.textPrefix),yt(e.textSuffix)},[e.hideText,e.textPrefix,e.textSuffix]);let le=u=>{if(!e.onChange||typeof e.onChange!="function")return;let S=[];for(let _ of u)S.push(Y(_.percent,R,y,se,e.data));e.onChange(S,u)},U=u=>{var G;if(O||!n||!n.current)return;let S=u.type.indexOf("mouse")!==-1?u.clientX:u.touches[0].clientX,_=u.type.indexOf("mouse")!==-1?u.clientY:u.touches[0].clientY,w=Ke(n.current,[S,_],x,a,H,$,R,y,e.data,e.step);if(m.length<=1){i(((G=m[0])==null?void 0:G.id)||null),b(z=>{let ce=Qe(z,w);return le(ce),ce});return}let V=o;i(z=>(V=Ze(u.target,m,w,z,H,$,r.current),V)),V!==null&&b(z=>{dt||y===R||(w=Je(w,z,V,R,y));let Ae=je(z,w,V);return le(Ae),Ae})},Ot=u=>{if(O)return;let S=u.target;!S||!(S===t.current||S.getAttribute("data-type")==="pointer")||(U(u),window.addEventListener("mousemove",U),window.addEventListener("mouseup",Ee),r.current="drag")},Ee=u=>{window.removeEventListener("mousemove",U),window.removeEventListener("mouseup",U),r.current="click"},ue=u=>{let S=ee(m,o);if(S===-1)return;let _=F({},m[S]),w=_.percent;if(!ne(w))return;let V=pt;V===void 0&&(V=1),u?w-=V:w+=V,w=L(w,100),_.percent=w;let G=[...m];G[S]=_,b(G),le(G)},Pe=()=>{if(O||Te)return;let u=ee(m,o);u===-1||m[u].disabled||ue(!1)},Ce=()=>{if(O||Te)return;let u=ee(m,o);u===-1||m[u].disabled||ue(!0)};return Pn("svg",{"data-type":"bg",xmlns:"http://www.w3.org/2000/svg",ref:n,width:Et,height:Pt,onMouseDown:Ot,onMouseUp:Ee,onTouchMove:U,onTouchStart:U,onKeyDown:u=>{switch(u.key){case"ArrowLeft":{u.preventDefault(),Pe();break}case"ArrowRight":{u.preventDefault(),Ce();break}case"ArrowUp":{u.preventDefault(),Pe();break}case"ArrowDown":{u.preventDefault(),Ce();break}}},className:O?"disabled":void 0,"aria-disabled":O?!0:void 0,tabIndex:0,focusable:!0,onWheel:u=>{if(O||vt)return;let S=ee(m,o);if(S===-1||m[S].disabled)return;u.stopPropagation();let _=u.deltaY<0;ue(!_)},style:Fe,children:[e.connectionGradient&&K("defs",{children:e.connectionGradient}),K(tt,{ref:t,ellipse:A,strokeWidth:s,svgRadii:a,bgColor:D}),!wt&&t&&t.current&&typeof t.current.getTotalLength=="function"&&K(ct,{sliderRef:t,ticksWidth:_t,ticksHeight:kt,ticksColor:D,ticsCount:Nt,totalLength:((Ie=t==null?void 0:t.current)==null?void 0:Ie.getTotalLength())||0,svgCenter:x}),K(rt,{pointers:m,ellipse:A,svgRadii:a,strokeWidth:s,connectionBgColor:Z,startEndAngle:T,svgCenter:x,connectionGradient:e.connectionGradient}),m.map(u=>K(st,{pointer:u,id:u.id,startEndAngle:T,svgRadii:a,svgCenter:x,pointerBgColor:u.bgColor,pointerSVG:e.pointerSVG||u.pointerSVG,disabledPointerStyle:gt,min:R,max:y,round:se,data:e.data,ariaLabel:u.ariaLabel},u.id)),!Ct&&K(lt,{svgCenter:x,round:se,min:R,max:y,pointers:m,data:e.data,textPrefix:At,textSuffix:Rt,textColor:e.textColor,textFontSize:e.textFontSize,textFontFamily:e.textFontFamily})]})};export{Nr as RoundSlider};
//# sourceMappingURL=mz-react-round-slider.esm.js.map
