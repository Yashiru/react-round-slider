/* 
MZ React Round Slider v1.0.0
https://github.com/mzusin/react-round-slider
MIT License      
Copyright (c) 2023-present, Miriam Zusin          
*/
var qt=Object.defineProperty;var $e=Object.getOwnPropertySymbols;var Kt=Object.prototype.hasOwnProperty,Zt=Object.prototype.propertyIsEnumerable;var ze=(e,n,t)=>n in e?qt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,U=(e,n)=>{for(var t in n||(n={}))Kt.call(n,t)&&ze(e,t,n[t]);if($e)for(var t of $e(n))Zt.call(n,t)&&ze(e,t,n[t]);return e};import{useEffect as C,useRef as Be,useState as m}from"react";var Qt=Math.pow,y=(e,n=1/0)=>{if(n===1/0)return e;n<0&&(n=0);let t=Qt(10,n);return Math.round(e*t)/t},k=(e,n)=>(e%n+n)%n,fe=(e,n,t,r,o)=>(o-r)*(e-n)/(t-n)+r;var he=e=>!isNaN(parseFloat(e))&&isFinite(e),Ce=(e,n,t,r=1/0)=>{let[o,i]=e,[a,s]=n;return[y(o+a*Math.cos(t),r),y(i+s*Math.sin(t),r)]};var Xe=(e,n=1/0)=>{let t=e*(180/Math.PI);return y(t,n)},ee=(e,n=1/0)=>{let t=e*(Math.PI/180);return y(t,n)};var xe=(e,n,t=1/0)=>{let r=Math.abs(k(e,360)-k(n,360));return y(r<=180?r:360-r,t)};var jt=(e,n,t=1/0)=>{let r=[];for(let o=0;o<e.length;o++)r.push(y(e[o]-n[o],t));return r},We=(e,n,t=1/0)=>jt(e,n,t);var Jt=(e,n,t=1/0)=>{let r=[];for(let o=0;o<e.length;o++)r.push(y(e[o]*n,t));return r},be=(e,n,t=1/0)=>Jt(e,n,t);var en=(e,n=1/0)=>{let t=0;for(let r=0;r<e.length;r++)t+=e[r]*e[r];return y(Math.sqrt(t),n)};var tn=(e,n=1/0)=>{let t=en(e),r=[];for(let o=0;o<e.length;o++)r.push(t===0?0:y(e[o]/t,n));return r},Ye=(e,n=1/0)=>tn(e,n);var qe=(e,n,t,r)=>(n=n%Math.PI*2,[e[0]+Math.cos(n)*t,e[1]+Math.sin(n)*r]);var De=()=>Math.random().toString(36).substring(2)+new Date().getTime().toString(36);var b=(e,n)=>he(e)?Number(e):n,te=(e,n)=>e==null?n:e,Z=(e,n)=>e==null?n:e;var Ie="#efefef",Ae="#5daed2",Q="#333",Re="#b0b0b0";var Ke={outline:"none"},Ze={outline:"none"},ye=2,ne=3,re=20,Se="#000",ve=16;var Qe=(e,n,t)=>t>=e&&t<=n||t+360>=e&&t+360<=n,je=(e,n)=>{let t=b(e,0),r=b(n,359.999);return t=k(t,360),r=k(r,360),t<0&&(t+=360),r<0&&(r+=360),r<t&&(r+=360),t===r&&(r+=359.999),[t,r]};var nt=e=>{if(e.length<=0)return[0,0];let n=-1/0,t=-1/0;for(let r of e){let[o,i]=r.pointerRadii;n=Math.max(n,Math.max(0,o)),t=Math.max(t,Math.max(0,i))}return[n,t]},rt=(e,n,t)=>{if(t&&t.length>0){let i=t.findIndex(c=>c===e),a=t.findIndex(c=>c===n),s=i===-1?0:i,l=a===-1?t.length:a;return[s,l]}let r=b(e,0),o=b(n,100);return r>o&&(o=r+100),[r,o]},an=(e,n,t,r)=>{if(r&&r.length>0){let i=r.findIndex(a=>a===e);return i===-1?0:i}let o=b(e,n);return o<n&&(o=n),o>t&&(o=t),o},$=(e,n,t,r,o)=>{let i=n===t?0:fe(e,0,100,n,t);return o&&o.length>0?o[Math.round(i)]:y(i,r)},ln=(e,n)=>n===0?0:Math.round(e/n)*n,we=(e,n,t,r)=>{if(r===void 0&&t&&(r=1),r===void 0)return;let o=n-e;return o===0?0:r*100/o},ot=(e,n,t,r,o,i)=>{let a=[],s=e||[];for(let l=0;l<s.length;l++){let c=s[l];if(c.rx<=0||c.ry<=0)continue;let f=an(c.value,n,t,r),h=n===t?0:fe(n,t,0,100,f),d={pointerRadii:[b(c.rx,10),b(c.ry,10)],percent:h,id:De(),index:0,bgColor:c.bgColor||o||Q,pointerSVG:i||c.pointerSVG,disabled:c.disabled===!0,keyboardDisabled:!1,mousewheelDisabled:!1,ariaLabel:c.ariaLabel};a.push(d)}if(a.length>1){a.sort((l,c)=>l.percent-c.percent);for(let l=0;l<a.length;l++)a[l].index=l}return!a||a.length<=0?[{pointerRadii:[10,10],percent:0,id:De(),index:0,bgColor:Q,disabled:!1,keyboardDisabled:!1,mousewheelDisabled:!1}]:a},j=(e,n,t,r,o)=>{let i=Math.abs(t-n),a=e*i/100,s=k(n+a,360),l=ee(s);return l=fe(l,0,Math.PI*2,0,Math.PI),{position:qe(o,l,r[0],r[1]),angleDegrees:s}},it=e=>{if(!e||e.length<2)return null;let n=1/0,t=null,r=-1/0,o=null;for(let i=0;i<e.length;i++){let a=e[i];a.percent<n&&(n=a.percent,t=a),a.percent>r&&(r=a.percent,o=a)}return t===null||o===null?null:[t,o]},at=(e,n,t,r,o,i,a,s,l,c)=>{let[f,h]=n,{left:d,top:x}=e.getBoundingClientRect(),g=[f-d,h-x],T=We(g,t),[M,p]=r,S=Math.atan2(T[1]/p,T[0]/M);S<0&&(S+=2*Math.PI);let P=Xe(S);if(!Qe(o,i,P)){let E=xe(P,o),O=xe(P,i);return E<=O?a:s}P-=o;let F=Math.abs(i-o),I=P*100/F;if(I<0){let O=(360-o)*100/F;I+=O}let A=we(a,s,l,c),B=k(A===void 0?I:ln(I,A),100);return B===100?0:B},oe=(e,n)=>!e||!n?-1:e.findIndex(t=>t.id===n),sn=e=>e.getAttribute("data-type")==="panel",Le=e=>e.getAttribute("data-type")==="connection",un=(e,n)=>e.getAttribute("data-type")==="pointer"&&e.getAttribute("data-id")===n||e.querySelector(`[data-type="pointer"][data-index="${n}"]`)!==null,lt=(e,n,t,r,o,i,a)=>{if(n.length<=0)return null;if(n.length===1)return n[0].id;if(a==="drag")return r;if(sn(e)||Le(e)){let s=Math.abs(i-o),l=t*s/100,c=1/0,f=null;for(let h=0;h<n.length;h++){let d=n[h],x=d.percent*s/100,g=xe(x,l);g<c&&(c=g,f=d.id)}return f}for(let s=0;s<n.length;s++){let l=n[s];if(un(e,l.id))return l.id}return r};var cn=(e,n)=>{let t=e.find(s=>s.id===n);if(!t)return null;let r=k(t.index+1,e.length),o=e.find(s=>s.index===r);if(!o)return null;let i=k(t.index-1,e.length),a=e.find(s=>s.index===i);return[t,o,a]},st=(e,n)=>{if(e[0].disabled)return e;let t=[...e],r=t[0];return r.percent=n,t[0]=r,t},ut=(e,n,t)=>{if(!t)return e;let r=e.findIndex(a=>a.id===t);if(r===-1||e[r].disabled)return e;let o=[...e],i=U({},o[r]);return i.percent=n,o[r]=i,o},ct=(e,n,t,r,o)=>{let[i,a,s]=cn(n,t),l=e-i.percent,c=Math.abs(o-r)/2;if(l!==0&&i.percent!==0&&e!==0){let f=Math.abs(l)>c?l<0:l>=0;f&&a.percent>=i.percent&&(e=Math.min(e,a.percent)),!f&&s.percent<=i.percent&&(e=Math.max(e,s.percent))}return e};var _e=(e,n,t)=>{let[r,o]=e,[i,a]=n,s=Math.max(0,i*2-t),l=Math.max(0,a*2-t),c=r*2+t+s,f=o*2+t+l;return[c,f]},Ve=(e,n,t)=>{let[r,o]=_e(e,n,t);return[y(r/2,2),y(o/2,2)]},dt=(e,n,t,r,o)=>{let i=n,a=i-e<=180?0:1;e>i&&(i+=360);let s=Ve(t,r,o),l=Ce(s,t,ee(e)),c=Ce(s,t,ee(i));return{start:l,end:c,largeArcFlag:a}};import{forwardRef as dn}from"react";import{jsx as gn}from"react/jsx-runtime";var mn=(e,n)=>{let{ellipse:t,strokeWidth:r,svgRadii:o,bgColor:i}=e,{start:a,end:s,largeArcFlag:l}=t;return gn("path",{"data-type":"panel",ref:n,d:`M ${a[0]} ${a[1]} A ${o[0]} ${o[1]} 0 ${l} 1 ${s[0]} ${s[1]}`,stroke:i,strokeWidth:r,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer"})},mt=dn(mn);import{useEffect as fn,useState as ke}from"react";import{Fragment as xn,jsx as gt}from"react/jsx-runtime";var hn=e=>{let{pointers:n,ellipse:t,strokeWidth:r,svgCenter:o,svgRadii:i,connectionBgColor:a,connectionGradient:s,startEndAngle:l,rangeDragging:c}=e,{start:f}=t,[h,d]=l,[x,g]=ke(null),[T,M]=ke(null),[p,S]=ke(0);return fn(()=>{if(!n||n.length<=0)return;if(n.length<=1){let O=n[0],{position:R,angleDegrees:_}=j(O.percent,h,d,i,o);g(f),M(R),S(_-h<=180?0:1);return}let P=it(n);if(P===null)return;let D=P[0],F=P[1],{position:I,angleDegrees:A}=j(D.percent,h,d,i,o),{position:B,angleDegrees:E}=j(F.percent,h,d,i,o);g(I),M(B),S(E-A<=180?0:1)},[d,n,f,h,o,i]),gt(xn,{children:x!==null&&T!==null&&gt("path",{"data-type":"connection",d:`M ${x[0]} ${x[1]} A ${i[0]} ${i[1]} 0 ${p} 1 ${T[0]} ${T[1]}`,stroke:s?"url(#connection)":a,strokeWidth:r+1,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:c?"move":"pointer",pointerEvents:c?"":"none"})})},ft=hn;import{useEffect as ht,useState as xt}from"react";import{Fragment as bt,jsx as Te,jsxs as Sn}from"react/jsx-runtime";var bn=e=>{let{id:n,pointer:t,startEndAngle:r,svgRadii:o,svgCenter:i,pointerBgColor:a,pointerSVG:s,disabledPointerStyle:l,disabledPointerBgColor:c,min:f,max:h,round:d,data:x,ariaLabel:g,pointerGradient:T,isSliderDisabled:M}=e,{percent:p,pointerRadii:S}=t,[P,D]=S,[F,I]=r,[A,B]=xt(null),[E,O]=xt("");ht(()=>{let{position:_}=j(p,F,I,o,i);B(_)},[p,o,i,F,I]),ht(()=>{O($(p,f,h,d,x))},[f,h,d,x,p]);let R=U({},Ze);return t.disabled&&(R=U(U({},R),l)),A?Sn(bt,{children:[!s&&Te("ellipse",{className:t.disabled?"disabled":void 0,style:R,"aria-disabled":t.disabled?!0:void 0,"aria-valuenow":E,"aria-valuetext":(E||"").toString(),"aria-label":g,"data-type":"pointer","data-index":t.index,"data-id":n,"data-percent":t.percent,cx:A[0],cy:A[1],rx:P,ry:D,cursor:"pointer",tabIndex:0,role:"slider",fill:M||t.disabled?c:T?"url(#pointer)":a}),s&&Te("g",{className:t.disabled?"disabled":void 0,style:R,"aria-disabled":t.disabled?!0:void 0,"aria-valuenow":E,"aria-valuetext":E.toString(),"aria-label":g,"data-type":"pointer","data-index":t.index,"data-id":n,"data-percent":t.percent,cursor:"pointer",transform:`translate(${A[0]-P/2}, ${A[1]-D/2})`,tabIndex:0,role:"slider",children:Te("g",{pointerEvents:"none",children:s})})]}):Te(bt,{})},St=bn;import{useEffect as vn,useState as Tn}from"react";import{jsx as Pn}from"react/jsx-runtime";var Mn=e=>{let{svgCenter:n,round:t,min:r,max:o,pointers:i,data:a,textPrefix:s,textSuffix:l,textColor:c,textFontSize:f,textFontFamily:h}=e,[d,x]=n,[g,T]=Tn("");return vn(()=>{let M=[];for(let p of i){let S=$(p.percent,r,o,t,a);M.push(`${s||""}${S}${l||""}`)}T(M.join(" "))},[a,o,r,i,t,s,l]),Pn("text",{x:d,y:x,fill:c||Se,fontSize:f||ve,fontFamily:h,style:{userSelect:"none"},textAnchor:"middle",children:g})},vt=Mn;import{Fragment as pn,useEffect as En,useState as Cn}from"react";import{jsx as Fe,jsxs as An}from"react/jsx-runtime";var Dn=(e,n,t,r,o,i,a,s,l,c)=>{var d,x;let f=[],h=e===0?0:n/e;for(let g=0;g<e;g++){let T=g*h,M=(d=t==null?void 0:t.current)==null?void 0:d.getPointAtLength(T),p=M?M.x:0,S=M?M.y:0,P=s!==void 0&&g%s===0,D;l&&(!c||c&&(P||s===void 0))&&(D=((x=$(T*100/n,r,o,i,a))!=null?x:"").toString()),f.push({distance:T,x:p,y:S,isLonger:P,tickValue:D})}return f},In=e=>{let{ticksColor:n,ticksWidth:t,ticksHeight:r,longerTicksHeight:o,ticsCount:i,ticksGroupSize:a,totalLength:s,sliderRef:l,svgCenter:c,ticksDistanceToPanel:f,min:h,max:d,round:x,data:g,showTickValues:T,longerTickValuesOnly:M,tickValuesColor:p,tickValuesFontSize:S,tickValuesFontFamily:P,tickValuesDistance:D}=e,[F,I]=Cn([]);En(()=>{I(Dn(i,s,l,h,d,x,g,a,T,M))},[i,s,l,a,g,M,h,d,x,T]);let[A,B]=c;return Fe("g",{children:F.map((E,O)=>{let{x:R,y:_}=E,z=r||re;E.isLonger&&(z=o);let J=Ye([A-R,B-_]),ae=be(J,z),le=be(J,f);R+=le[0],_+=le[1];let Me=R+ae[0],H=_+ae[1],se=0,ue=0,ce=E.tickValue!==void 0;if(ce){let de=b(z+D,z*1.5),me=be(J,de);se=R+me[0],ue=_+me[1]}return An(pn,{children:[Fe("line",{x1:R,y1:_,x2:Me,y2:H,strokeWidth:t||ne,stroke:n}),ce&&Fe("text",{x:se,y:ue,textAnchor:"middle",dominantBaseline:"middle",fill:p||Se,fontSize:S||ve,fontFamily:P,style:{userSelect:"none"},children:E.tickValue})]},O)})})},Tt=In;import{jsx as ie,jsxs as Mt}from"react/jsx-runtime";var Yr=e=>{var Ge;let n=Be(null),t=Be(null),r=Be("click"),[o,i]=m(null),[a,s]=m([0,0]),[l,c]=m(0),[f,h]=m([0,0]),[d,x]=m([]),[g,T]=m([0,0]),[M,p]=m([0,0]),[S,P]=m([0,0]),[D,F]=m([0,0]),[I,A]=m({start:[0,0],end:[0,0],largeArcFlag:0}),[B,E]=m(Ie),[O,R]=m(Ae),[_,z]=m(Q),[J,ae]=m(Re),[le,Me]=m(!1),[H,se]=m(!1),[ue,ce]=m(void 0),[de,me]=m(!1),[Pt,pt]=m(!1),[ge,Et]=m(ye),[Ct,Dt]=m(void 0),[w,L]=f,[It,At]=M,[X,W]=D,[Rt,yt]=m(!1),[wt,Lt]=m(""),[_t,Vt]=m(""),[kt,Ft]=m(!1),[Bt,Ot]=m(ne),[Nt,Ht]=m(re),[Gt,Ut]=m(void 0),[$t,zt]=m(0),[Xt,Wt]=m(0);C(()=>{Dt(we(w,L,e.data,e.step))},[w,L,e.data,e.step]),C(()=>{Ft(Z(e.disableTicks,!1)),Ot(b(e.ticksWidth,ne)),Wt(b(e.ticksDistanceToPanel,0));let u=b(e.ticksHeight,re);Ht(u),Ut(b(e.longerTicksHeight,u*2));let v=b(e.ticsCount,0);v||(e.data&&e.data.length>0?v=e.data.length:v=Math.abs(X-W)%360*(L-w)/360),zt(v)},[e.disableTicks,e.ticksWidth,e.ticksHeight,e.longerTicksHeight,e.ticsCount,e.ticksDistanceToPanel,L,w,e.data,X,W]),C(()=>{E(te(e.panelBgColor,Ie)),R(te(e.connectionBgColor,Ae)),z(te(e.pointerBgColor,Q)),ae(te(e.disabledPointerBgColor,Re))},[e.panelBgColor,e.connectionBgColor,e.pointerBgColor,e.disabledPointerBgColor]),C(()=>{Me(Z(e.pointersOverlap,!1))},[e.pointersOverlap]),C(()=>{se(Z(e.disabled,!1)),ce(e.disabledPointerStyle),me(Z(e.keyboardDisabled,!1)),pt(Z(e.mousewheelDisabled,!1))},[e.disabled,e.disabledPointerStyle,e.keyboardDisabled,e.mousewheelDisabled]),C(()=>{s([b(e.rx,150),b(e.ry,150)])},[e.rx,e.ry]),C(()=>{c(b(e.panelStrokeWidth,5))},[e.panelStrokeWidth]),C(()=>{h(rt(e.min,e.max,e.data))},[e.min,e.max,e.data]),C(()=>{x(ot(e.pointers,w,L,e.data,_,e.pointerSVG))},[e.pointers,e.data,w,L,_,e.pointerSVG]),C(()=>{T(nt(d))},[d]),C(()=>{p(_e(a,g,l))},[a,g,l]),C(()=>{P(Ve(a,g,l))},[a,g,l]),C(()=>{F(je(e.startAngleDegrees,e.endAngleDegrees))},[e.startAngleDegrees,e.endAngleDegrees]),C(()=>{A(dt(X,W,a,g,l))},[X,W,a,g,l]),C(()=>{Et(b(e.round,ye))},[e.round]),C(()=>{yt(e.hideText),Lt(e.textPrefix),Vt(e.textSuffix)},[e.hideText,e.textPrefix,e.textSuffix]);let Pe=u=>{if(!e.onChange||typeof e.onChange!="function")return;let v=[];for(let N of u)v.push($(N.percent,w,L,ge,e.data));e.onChange(v,u)},Y=u=>{var q;if(H||!n||!n.current)return;let v=u.type.indexOf("mouse")!==-1?u.clientX:u.touches[0].clientX,N=u.type.indexOf("mouse")!==-1?u.clientY:u.touches[0].clientY,V=at(n.current,[v,N],S,a,X,W,w,L,e.data,e.step);if(d.length<=1){i(((q=d[0])==null?void 0:q.id)||null),x(K=>{let Ee=st(K,V);return Pe(Ee),Ee});return}let G=o;Le(u.target)&&console.log("here"),i(K=>(G=lt(u.target,d,V,K,X,W,r.current),G)),G!==null&&x(K=>{le||L===w||(V=ct(V,K,G,w,L));let Ue=ut(K,V,G);return Pe(Ue),Ue})},Yt=u=>{if(H)return;let v=u.target;!v||!(v===t.current||v.getAttribute("data-type")==="pointer")||(Y(u),window.addEventListener("mousemove",Y),window.addEventListener("mouseup",Oe),r.current="drag")},Oe=u=>{window.removeEventListener("mousemove",Y),window.removeEventListener("mouseup",Y),r.current="click"},pe=u=>{let v=oe(d,o);if(v===-1)return;let N=U({},d[v]),V=N.percent;if(!he(V))return;let G=Ct;G===void 0&&(G=1),u?V-=G:V+=G,V=k(V,100),N.percent=V;let q=[...d];q[v]=N,x(q),Pe(q)},Ne=()=>{if(H||de)return;let u=oe(d,o);u===-1||d[u].disabled||pe(!1)},He=()=>{if(H||de)return;let u=oe(d,o);u===-1||d[u].disabled||pe(!0)};return Mt("svg",{"data-type":"bg",xmlns:"http://www.w3.org/2000/svg",ref:n,width:It,height:At,onMouseDown:Yt,onMouseUp:Oe,onTouchMove:Y,onTouchStart:Y,onKeyDown:u=>{switch(u.key){case"ArrowLeft":{u.preventDefault(),Ne();break}case"ArrowRight":{u.preventDefault(),He();break}case"ArrowUp":{u.preventDefault(),Ne();break}case"ArrowDown":{u.preventDefault(),He();break}}},className:H?"disabled":void 0,"aria-disabled":H?!0:void 0,tabIndex:0,focusable:!0,onWheel:u=>{if(H||Pt)return;let v=oe(d,o);if(v===-1||d[v].disabled)return;u.stopPropagation();let N=u.deltaY<0;pe(!N)},style:Ke,children:[(e.connectionGradient||e.pointerGradient)&&Mt("defs",{children:[e.connectionGradient,e.pointerGradient]}),ie(mt,{ref:t,ellipse:I,strokeWidth:l,svgRadii:a,bgColor:B}),!kt&&t&&t.current&&typeof t.current.getTotalLength=="function"&&ie(Tt,{sliderRef:t,ticksWidth:Bt,ticksHeight:Nt,longerTicksHeight:Gt,ticksColor:B,ticsCount:$t,ticksGroupSize:e.ticksGroupSize,totalLength:((Ge=t==null?void 0:t.current)==null?void 0:Ge.getTotalLength())||0,svgCenter:S,ticksDistanceToPanel:Xt,min:w,max:L,round:ge,data:e.data,showTickValues:e.showTickValues,longerTickValuesOnly:e.longerTickValuesOnly,tickValuesColor:e.tickValuesColor,tickValuesFontSize:e.tickValuesFontSize,tickValuesFontFamily:e.tickValuesFontFamily,tickValuesDistance:e.tickValuesDistance}),ie(ft,{pointers:d,ellipse:I,svgRadii:a,strokeWidth:l,connectionBgColor:O,startEndAngle:D,svgCenter:S,connectionGradient:e.connectionGradient}),d.map(u=>ie(St,{pointer:u,id:u.id,startEndAngle:D,svgRadii:a,svgCenter:S,isSliderDisabled:H,pointerBgColor:u.bgColor,disabledPointerBgColor:J,pointerSVG:e.pointerSVG||u.pointerSVG,pointerGradient:e.pointerGradient,disabledPointerStyle:ue,min:w,max:L,round:ge,data:e.data,ariaLabel:u.ariaLabel},u.id)),!Rt&&ie(vt,{svgCenter:S,round:ge,min:w,max:L,pointers:d,data:e.data,textPrefix:wt,textSuffix:_t,textColor:e.textColor,textFontSize:e.textFontSize,textFontFamily:e.textFontFamily})]})};export{Yr as RoundSlider};
//# sourceMappingURL=mz-react-round-slider.esm.js.map
