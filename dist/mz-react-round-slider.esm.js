/* 
MZ React Round Slider v1.0.0
https://github.com/mzusin/react-round-slider
MIT License      
Copyright (c) 2023-present, Miriam Zusin          
*/
var qt=Object.defineProperty;var $e=Object.getOwnPropertySymbols;var Kt=Object.prototype.hasOwnProperty,Zt=Object.prototype.propertyIsEnumerable;var ze=(e,n,t)=>n in e?qt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,U=(e,n)=>{for(var t in n||(n={}))Kt.call(n,t)&&ze(e,t,n[t]);if($e)for(var t of $e(n))Zt.call(n,t)&&ze(e,t,n[t]);return e};import{useEffect as p,useRef as Be,useState as m}from"react";var Qt=Math.pow,R=(e,n=1/0)=>{if(n===1/0)return e;n<0&&(n=0);let t=Qt(10,n);return Math.round(e*t)/t},k=(e,n)=>(e%n+n)%n,he=(e,n,t,r,o)=>(o-r)*(e-n)/(t-n)+r;var fe=e=>!isNaN(parseFloat(e))&&isFinite(e),Ce=(e,n,t,r=1/0)=>{let[o,a]=e,[i,s]=n;return[R(o+i*Math.cos(t),r),R(a+s*Math.sin(t),r)]};var Xe=(e,n=1/0)=>{let t=e*(180/Math.PI);return R(t,n)},ee=(e,n=1/0)=>{let t=e*(Math.PI/180);return R(t,n)};var xe=(e,n,t=1/0)=>{let r=Math.abs(k(e,360)-k(n,360));return R(r<=180?r:360-r,t)};var jt=(e,n,t=1/0)=>{let r=[];for(let o=0;o<e.length;o++)r.push(R(e[o]-n[o],t));return r},We=(e,n,t=1/0)=>jt(e,n,t);var Jt=(e,n,t=1/0)=>{let r=[];for(let o=0;o<e.length;o++)r.push(R(e[o]*n,t));return r},be=(e,n,t=1/0)=>Jt(e,n,t);var en=(e,n=1/0)=>{let t=0;for(let r=0;r<e.length;r++)t+=e[r]*e[r];return R(Math.sqrt(t),n)};var tn=(e,n=1/0)=>{let t=en(e),r=[];for(let o=0;o<e.length;o++)r.push(t===0?0:R(e[o]/t,n));return r},Ye=(e,n=1/0)=>tn(e,n);var qe=(e,n,t,r)=>(n=n%Math.PI*2,[e[0]+Math.cos(n)*t,e[1]+Math.sin(n)*r]);var De=()=>Math.random().toString(36).substring(2)+new Date().getTime().toString(36);var b=(e,n)=>fe(e)?Number(e):n,te=(e,n)=>e==null?n:e,Z=(e,n)=>e==null?n:e;var Ie="#efefef",Ae="#5daed2",Q="#333",Re="#b0b0b0";var Ke={outline:"none"},Ze={outline:"none"},ye=2,ne=3,re=20,Se="#000",ve=16;var Qe=(e,n,t)=>t>=e&&t<=n||t+360>=e&&t+360<=n,je=(e,n)=>{let t=b(e,0),r=b(n,359.999);return t=k(t,360),r=k(r,360),t<0&&(t+=360),r<0&&(r+=360),r<t&&(r+=360),t===r&&(r+=359.999),[t,r]};var nt=e=>{if(e.length<=0)return[0,0];let n=-1/0,t=-1/0;for(let r of e){let[o,a]=r.pointerRadii;n=Math.max(n,Math.max(0,o)),t=Math.max(t,Math.max(0,a))}return[n,t]},rt=(e,n,t)=>{if(t&&t.length>0){let a=t.findIndex(c=>c===e),i=t.findIndex(c=>c===n),s=a===-1?0:a,l=i===-1?t.length:i;return[s,l]}let r=b(e,0),o=b(n,100);return r>o&&(o=r+100),[r,o]},an=(e,n,t,r)=>{if(r&&r.length>0){let a=r.findIndex(i=>i===e);return a===-1?0:a}let o=b(e,n);return o<n&&(o=n),o>t&&(o=t),o};var $=(e,n,t,r,o)=>{let a=n===t?0:he(e,0,100,n,t);return o&&o.length>0?o[Math.round(a)]:R(a,r)},ln=(e,n)=>n===0?0:Math.round(e/n)*n,we=(e,n,t,r)=>{if(r===void 0&&t&&(r=1),r===void 0)return;let o=n-e;return o===0?0:r*100/o},ot=(e,n,t,r,o,a)=>{let i=[],s=e||[];for(let l=0;l<s.length;l++){let c=s[l];if(c.rx<=0||c.ry<=0)continue;let h=an(c.value,n,t,r),f=n===t?0:he(n,t,0,100,h),d={pointerRadii:[b(c.rx,10),b(c.ry,10)],percent:f,id:De(),index:0,bgColor:c.bgColor||o||Q,pointerSVG:a||c.pointerSVG,disabled:c.disabled===!0,keyboardDisabled:!1,mousewheelDisabled:!1,ariaLabel:c.ariaLabel};i.push(d)}if(i.length>1){i.sort((l,c)=>l.percent-c.percent);for(let l=0;l<i.length;l++)i[l].index=l}return!i||i.length<=0?[{pointerRadii:[10,10],percent:0,id:De(),index:0,bgColor:Q,disabled:!1,keyboardDisabled:!1,mousewheelDisabled:!1}]:i},j=(e,n,t,r,o)=>{let a=Math.abs(t-n),i=e*a/100,s=k(n+i,360),l=ee(s);return l=he(l,0,Math.PI*2,0,Math.PI),{position:qe(o,l,r[0],r[1]),angleDegrees:s}},at=e=>{if(!e||e.length<2)return null;let n=1/0,t=null,r=-1/0,o=null;for(let a=0;a<e.length;a++){let i=e[a];i.percent<n&&(n=i.percent,t=i),i.percent>r&&(r=i.percent,o=i)}return t===null||o===null?null:[t,o]},it=(e,n,t,r,o,a,i,s,l,c)=>{let[h,f]=n,{left:d,top:x}=e.getBoundingClientRect(),g=[h-d,f-x],T=We(g,t),[M,E]=r,S=Math.atan2(T[1]/E,T[0]/M);S<0&&(S+=2*Math.PI);let P=Xe(S);if(!Qe(o,a,P)){let C=xe(P,o),G=xe(P,a);return C<=G?i:s}P-=o;let O=Math.abs(a-o),L=P*100/O,I=we(i,s,l,c),F=k(I===void 0?L:ln(L,I),100);return F===100?0:F},oe=(e,n)=>!e||!n?-1:e.findIndex(t=>t.id===n),sn=e=>e.getAttribute("data-type")==="panel",Le=e=>e.getAttribute("data-type")==="connection",un=(e,n)=>e.getAttribute("data-type")==="pointer"&&e.getAttribute("data-id")===n||e.querySelector(`[data-type="pointer"][data-index="${n}"]`)!==null,lt=(e,n,t,r,o,a,i)=>{if(n.length<=0)return null;if(n.length===1)return n[0].id;if(i==="drag")return r;if(sn(e)||Le(e)){let s=Math.abs(a-o),l=t*s/100,c=1/0,h=null;for(let f=0;f<n.length;f++){let d=n[f],x=d.percent*s/100,g=xe(x,l);g<c&&(c=g,h=d.id)}return h}for(let s=0;s<n.length;s++){let l=n[s];if(un(e,l.id))return l.id}return r};var cn=(e,n)=>{let t=e.find(s=>s.id===n);if(!t)return null;let r=k(t.index+1,e.length),o=e.find(s=>s.index===r);if(!o)return null;let a=k(t.index-1,e.length),i=e.find(s=>s.index===a);return[t,o,i]},st=(e,n)=>{if(e[0].disabled)return e;let t=[...e],r=t[0];return r.percent=n,t[0]=r,t},ut=(e,n,t)=>{if(!t)return e;let r=e.findIndex(i=>i.id===t);if(r===-1||e[r].disabled)return e;let o=[...e],a=U({},o[r]);return a.percent=n,o[r]=a,o},ct=(e,n,t,r,o)=>{let[a,i,s]=cn(n,t),l=e-a.percent,c=Math.abs(o-r)/2;if(l!==0&&a.percent!==0&&e!==0){let h=Math.abs(l)>c?l<0:l>=0;h&&i.percent>=a.percent&&(e=Math.min(e,i.percent)),!h&&s.percent<=a.percent&&(e=Math.max(e,s.percent))}return e};var _e=(e,n,t)=>{let[r,o]=e,[a,i]=n,s=Math.max(0,a*2-t),l=Math.max(0,i*2-t),c=r*2+t+s,h=o*2+t+l;return[c,h]},Ve=(e,n,t)=>{let[r,o]=_e(e,n,t);return[R(r/2,2),R(o/2,2)]},dt=(e,n,t,r,o)=>{let a=n,i=a-e<=180?0:1;e>a&&(a+=360);let s=Ve(t,r,o),l=Ce(s,t,ee(e)),c=Ce(s,t,ee(a));return{start:l,end:c,largeArcFlag:i}};import{forwardRef as dn}from"react";import{jsx as gn}from"react/jsx-runtime";var mn=(e,n)=>{let{ellipse:t,strokeWidth:r,svgRadii:o,bgColor:a}=e,{start:i,end:s,largeArcFlag:l}=t;return gn("path",{"data-type":"panel",ref:n,d:`M ${i[0]} ${i[1]} A ${o[0]} ${o[1]} 0 ${l} 1 ${s[0]} ${s[1]}`,stroke:a,strokeWidth:r,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer"})},mt=dn(mn);import{useEffect as hn,useState as ke}from"react";import{Fragment as xn,jsx as gt}from"react/jsx-runtime";var fn=e=>{let{pointers:n,ellipse:t,strokeWidth:r,svgCenter:o,svgRadii:a,connectionBgColor:i,connectionGradient:s,startEndAngle:l,rangeDragging:c}=e,{start:h}=t,[f,d]=l,[x,g]=ke(null),[T,M]=ke(null),[E,S]=ke(0);return hn(()=>{if(!n||n.length<=0)return;if(n.length<=1){let G=n[0],{position:A,angleDegrees:_}=j(G.percent,f,d,a,o);g(h),M(A),S(Math.abs(_-f)<=180?0:1);return}let P=at(n);if(P===null)return;let D=P[0],O=P[1],{position:L,angleDegrees:I}=j(D.percent,f,d,a,o),{position:F,angleDegrees:C}=j(O.percent,f,d,a,o);g(L),M(F),S(Math.abs(C-I)<=180?0:1)},[d,n,h,f,o,a]),gt(xn,{children:x!==null&&T!==null&&gt("path",{"data-type":"connection",d:`M ${x[0]} ${x[1]} A ${a[0]} ${a[1]} 0 ${E} 1 ${T[0]} ${T[1]}`,stroke:s?"url(#connection)":i,strokeWidth:r+1,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:c?"move":"pointer",pointerEvents:c?"":"none"})})},ht=fn;import{useEffect as ft,useState as xt}from"react";import{Fragment as bt,jsx as Te,jsxs as Sn}from"react/jsx-runtime";var bn=e=>{let{id:n,pointer:t,startEndAngle:r,svgRadii:o,svgCenter:a,pointerBgColor:i,pointerSVG:s,disabledPointerStyle:l,disabledPointerBgColor:c,min:h,max:f,round:d,data:x,ariaLabel:g,pointerGradient:T,isSliderDisabled:M}=e,{percent:E,pointerRadii:S}=t,[P,D]=S,[O,L]=r,[I,F]=xt(null),[C,G]=xt("");ft(()=>{let{position:_}=j(E,O,L,o,a);F(_)},[E,o,a,O,L]),ft(()=>{G($(E,h,f,d,x))},[h,f,d,x,E]);let A=U({},Ze);return t.disabled&&(A=U(U({},A),l)),I?Sn(bt,{children:[!s&&Te("ellipse",{className:t.disabled?"disabled":void 0,style:A,"aria-disabled":t.disabled?!0:void 0,"aria-valuenow":C,"aria-valuetext":(C||"").toString(),"aria-label":g,"data-type":"pointer","data-index":t.index,"data-id":n,"data-percent":t.percent,cx:I[0],cy:I[1],rx:P,ry:D,cursor:"pointer",tabIndex:0,role:"slider",fill:M||t.disabled?c:T?"url(#pointer)":i}),s&&Te("g",{className:t.disabled?"disabled":void 0,style:A,"aria-disabled":t.disabled?!0:void 0,"aria-valuenow":C,"aria-valuetext":C.toString(),"aria-label":g,"data-type":"pointer","data-index":t.index,"data-id":n,"data-percent":t.percent,cursor:"pointer",transform:`translate(${I[0]-P/2}, ${I[1]-D/2})`,tabIndex:0,role:"slider",children:Te("g",{pointerEvents:"none",children:s})})]}):Te(bt,{})},St=bn;import{useEffect as vn,useState as Tn}from"react";import{jsx as Pn}from"react/jsx-runtime";var Mn=e=>{let{svgCenter:n,round:t,min:r,max:o,pointers:a,data:i,textPrefix:s,textSuffix:l,textColor:c,textFontSize:h,textFontFamily:f}=e,[d,x]=n,[g,T]=Tn("");return vn(()=>{let M=[];for(let E of a){let S=$(E.percent,r,o,t,i);M.push(`${s||""}${S}${l||""}`)}T(M.join(" "))},[i,o,r,a,t,s,l]),Pn("text",{x:d,y:x,fill:c||Se,fontSize:h||ve,fontFamily:f,style:{userSelect:"none"},textAnchor:"middle",children:g})},vt=Mn;import{Fragment as En,useEffect as pn,useState as Cn}from"react";import{jsx as Fe,jsxs as An}from"react/jsx-runtime";var Dn=(e,n,t,r,o,a,i,s,l,c)=>{var d,x;let h=[],f=e===0?0:n/e;for(let g=0;g<e;g++){let T=g*f,M=(d=t==null?void 0:t.current)==null?void 0:d.getPointAtLength(T),E=M?M.x:0,S=M?M.y:0,P=s!==void 0&&g%s===0,D;l&&(!c||c&&(P||s===void 0))&&(D=((x=$(T*100/n,r,o,a,i))!=null?x:"").toString()),h.push({distance:T,x:E,y:S,isLonger:P,tickValue:D})}return h},In=e=>{let{ticksColor:n,ticksWidth:t,ticksHeight:r,longerTicksHeight:o,ticsCount:a,ticksGroupSize:i,totalLength:s,sliderRef:l,svgCenter:c,ticksDistanceToPanel:h,min:f,max:d,round:x,data:g,showTickValues:T,longerTickValuesOnly:M,tickValuesColor:E,tickValuesFontSize:S,tickValuesFontFamily:P,tickValuesDistance:D}=e,[O,L]=Cn([]);pn(()=>{L(Dn(a,s,l,f,d,x,g,i,T,M))},[a,s,l,i,g,M,f,d,x,T]);let[I,F]=c;return Fe("g",{children:O.map((C,G)=>{let{x:A,y:_}=C,z=r||re;C.isLonger&&(z=o);let J=Ye([I-A,F-_]),ie=be(J,z),le=be(J,h);A+=le[0],_+=le[1];let Me=A+ie[0],N=_+ie[1],se=0,ue=0,ce=C.tickValue!==void 0;if(ce){let de=b(z+D,z*1.5),me=be(J,de);se=A+me[0],ue=_+me[1]}return An(En,{children:[Fe("line",{x1:A,y1:_,x2:Me,y2:N,strokeWidth:t||ne,stroke:n}),ce&&Fe("text",{x:se,y:ue,textAnchor:"middle",dominantBaseline:"middle",fill:E||Se,fontSize:S||ve,fontFamily:P,style:{userSelect:"none"},children:C.tickValue})]},G)})})},Tt=In;import{jsx as ae,jsxs as Mt}from"react/jsx-runtime";var Yr=e=>{var Ge;let n=Be(null),t=Be(null),r=Be("click"),[o,a]=m(null),[i,s]=m([0,0]),[l,c]=m(0),[h,f]=m([0,0]),[d,x]=m([]),[g,T]=m([0,0]),[M,E]=m([0,0]),[S,P]=m([0,0]),[D,O]=m([0,0]),[L,I]=m({start:[0,0],end:[0,0],largeArcFlag:0}),[F,C]=m(Ie),[G,A]=m(Ae),[_,z]=m(Q),[J,ie]=m(Re),[le,Me]=m(!1),[N,se]=m(!1),[ue,ce]=m(void 0),[de,me]=m(!1),[Pt,Et]=m(!1),[ge,pt]=m(ye),[Ct,Dt]=m(void 0),[y,w]=h,[It,At]=M,[X,W]=D,[Rt,yt]=m(!1),[wt,Lt]=m(""),[_t,Vt]=m(""),[kt,Ft]=m(!1),[Bt,Ot]=m(ne),[Nt,Ht]=m(re),[Gt,Ut]=m(void 0),[$t,zt]=m(0),[Xt,Wt]=m(0);p(()=>{Dt(we(y,w,e.data,e.step))},[y,w,e.data,e.step]),p(()=>{Ft(Z(e.disableTicks,!1)),Ot(b(e.ticksWidth,ne)),Wt(b(e.ticksDistanceToPanel,0));let u=b(e.ticksHeight,re);Ht(u),Ut(b(e.longerTicksHeight,u*2));let v=b(e.ticsCount,0);v||(e.data&&e.data.length>0?v=e.data.length:v=Math.abs(X-W)%360*(w-y)/360),zt(v)},[e.disableTicks,e.ticksWidth,e.ticksHeight,e.longerTicksHeight,e.ticsCount,e.ticksDistanceToPanel,w,y,e.data,X,W]),p(()=>{C(te(e.panelBgColor,Ie)),A(te(e.connectionBgColor,Ae)),z(te(e.pointerBgColor,Q)),ie(te(e.disabledPointerBgColor,Re))},[e.panelBgColor,e.connectionBgColor,e.pointerBgColor,e.disabledPointerBgColor]),p(()=>{Me(Z(e.pointersOverlap,!1))},[e.pointersOverlap]),p(()=>{se(Z(e.disabled,!1)),ce(e.disabledPointerStyle),me(Z(e.keyboardDisabled,!1)),Et(Z(e.mousewheelDisabled,!1))},[e.disabled,e.disabledPointerStyle,e.keyboardDisabled,e.mousewheelDisabled]),p(()=>{s([b(e.rx,150),b(e.ry,150)])},[e.rx,e.ry]),p(()=>{c(b(e.panelStrokeWidth,5))},[e.panelStrokeWidth]),p(()=>{f(rt(e.min,e.max,e.data))},[e.min,e.max,e.data]),p(()=>{x(ot(e.pointers,y,w,e.data,_,e.pointerSVG))},[e.pointers,e.data,y,w,_,e.pointerSVG]),p(()=>{T(nt(d))},[d]),p(()=>{E(_e(i,g,l))},[i,g,l]),p(()=>{P(Ve(i,g,l))},[i,g,l]),p(()=>{O(je(e.startAngleDegrees,e.endAngleDegrees))},[e.startAngleDegrees,e.endAngleDegrees]),p(()=>{I(dt(X,W,i,g,l))},[X,W,i,g,l]),p(()=>{pt(b(e.round,ye))},[e.round]),p(()=>{yt(e.hideText),Lt(e.textPrefix),Vt(e.textSuffix)},[e.hideText,e.textPrefix,e.textSuffix]);let Pe=u=>{if(!e.onChange||typeof e.onChange!="function")return;let v=[];for(let B of u)v.push($(B.percent,y,w,ge,e.data));e.onChange(v,u)},Y=u=>{var q;if(N||!n||!n.current)return;let v=u.type.indexOf("mouse")!==-1?u.clientX:u.touches[0].clientX,B=u.type.indexOf("mouse")!==-1?u.clientY:u.touches[0].clientY,V=it(n.current,[v,B],S,i,X,W,y,w,e.data,e.step);if(d.length<=1){a(((q=d[0])==null?void 0:q.id)||null),x(K=>{let pe=st(K,V);return Pe(pe),pe});return}let H=o;Le(u.target)&&console.log("here"),a(K=>(H=lt(u.target,d,V,K,X,W,r.current),H)),H!==null&&x(K=>{le||w===y||(V=ct(V,K,H,y,w));let Ue=ut(K,V,H);return Pe(Ue),Ue})},Yt=u=>{if(N)return;let v=u.target;!v||!(v===t.current||v.getAttribute("data-type")==="pointer")||(Y(u),window.addEventListener("mousemove",Y),window.addEventListener("mouseup",Oe),r.current="drag")},Oe=u=>{window.removeEventListener("mousemove",Y),window.removeEventListener("mouseup",Y),r.current="click"},Ee=u=>{let v=oe(d,o);if(v===-1)return;let B=U({},d[v]),V=B.percent;if(!fe(V))return;let H=Ct;H===void 0&&(H=1),u?V-=H:V+=H,V=k(V,100),B.percent=V;let q=[...d];q[v]=B,x(q),Pe(q)},Ne=()=>{if(N||de)return;let u=oe(d,o);u===-1||d[u].disabled||Ee(!1)},He=()=>{if(N||de)return;let u=oe(d,o);u===-1||d[u].disabled||Ee(!0)};return Mt("svg",{"data-type":"bg",xmlns:"http://www.w3.org/2000/svg",ref:n,width:It,height:At,onMouseDown:Yt,onMouseUp:Oe,onTouchMove:Y,onTouchStart:Y,onKeyDown:u=>{switch(u.key){case"ArrowLeft":{u.preventDefault(),Ne();break}case"ArrowRight":{u.preventDefault(),He();break}case"ArrowUp":{u.preventDefault(),Ne();break}case"ArrowDown":{u.preventDefault(),He();break}}},className:N?"disabled":void 0,"aria-disabled":N?!0:void 0,tabIndex:0,focusable:!0,onWheel:u=>{if(N||Pt)return;let v=oe(d,o);if(v===-1||d[v].disabled)return;u.stopPropagation();let B=u.deltaY<0;Ee(!B)},style:Ke,children:[(e.connectionGradient||e.pointerGradient)&&Mt("defs",{children:[e.connectionGradient,e.pointerGradient]}),ae(mt,{ref:t,ellipse:L,strokeWidth:l,svgRadii:i,bgColor:F}),!kt&&t&&t.current&&typeof t.current.getTotalLength=="function"&&ae(Tt,{sliderRef:t,ticksWidth:Bt,ticksHeight:Nt,longerTicksHeight:Gt,ticksColor:F,ticsCount:$t,ticksGroupSize:e.ticksGroupSize,totalLength:((Ge=t==null?void 0:t.current)==null?void 0:Ge.getTotalLength())||0,svgCenter:S,ticksDistanceToPanel:Xt,min:y,max:w,round:ge,data:e.data,showTickValues:e.showTickValues,longerTickValuesOnly:e.longerTickValuesOnly,tickValuesColor:e.tickValuesColor,tickValuesFontSize:e.tickValuesFontSize,tickValuesFontFamily:e.tickValuesFontFamily,tickValuesDistance:e.tickValuesDistance}),ae(ht,{pointers:d,ellipse:L,svgRadii:i,strokeWidth:l,connectionBgColor:G,startEndAngle:D,svgCenter:S,connectionGradient:e.connectionGradient}),d.map(u=>ae(St,{pointer:u,id:u.id,startEndAngle:D,svgRadii:i,svgCenter:S,isSliderDisabled:N,pointerBgColor:u.bgColor,disabledPointerBgColor:J,pointerSVG:e.pointerSVG||u.pointerSVG,pointerGradient:e.pointerGradient,disabledPointerStyle:ue,min:y,max:w,round:ge,data:e.data,ariaLabel:u.ariaLabel},u.id)),!Rt&&ae(vt,{svgCenter:S,round:ge,min:y,max:w,pointers:d,data:e.data,textPrefix:wt,textSuffix:_t,textColor:e.textColor,textFontSize:e.textFontSize,textFontFamily:e.textFontFamily})]})};export{Yr as RoundSlider};
//# sourceMappingURL=mz-react-round-slider.esm.js.map
