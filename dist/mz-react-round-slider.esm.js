/* 
MZ React Round Slider v1.0.0
https://github.com/mzusin/react-round-slider
MIT License      
Copyright (c) 2023-present, Miriam Zusin          
*/
var bt=Object.defineProperty;var Me=Object.getOwnPropertySymbols;var vt=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable;var Pe=(e,t,n)=>t in e?bt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B=(e,t)=>{for(var n in t||(t={}))vt.call(t,n)&&Pe(e,n,t[n]);if(Me)for(var n of Me(t))St.call(t,n)&&Pe(e,n,t[n]);return e};import{useEffect as b,useRef as fe,useState as h}from"react";var Mt=Math.pow,R=(e,t=1/0)=>{if(t===1/0)return e;t<0&&(t=0);let n=Mt(10,t);return Math.round(e*n)/n},y=(e,t)=>(e%t+t)%t,Z=(e,t,n,r,o)=>(o-r)*(e-t)/(n-t)+r;var K=e=>!isNaN(parseFloat(e))&&isFinite(e),ae=(e,t,n,r=1/0)=>{let[o,a]=e,[i,s]=t;return[R(o+i*Math.cos(n),r),R(a+s*Math.sin(n),r)]};var Ee=(e,t=1/0)=>{let n=e*(180/Math.PI);return R(n,t)},Y=(e,t=1/0)=>{let n=e*(Math.PI/180);return R(n,t)};var j=(e,t,n=1/0)=>{let r=Math.abs(y(e,360)-y(t,360));return R(r<=180?r:360-r,n)};var Pt=(e,t,n=1/0)=>{let r=[];for(let o=0;o<e.length;o++)r.push(R(e[o]-t[o],n));return r},Te=(e,t,n=1/0)=>Pt(e,t,n);var Re=(e,t,n,r)=>(t=t%Math.PI*2,[e[0]+Math.cos(t)*n,e[1]+Math.sin(t)*r]);var ie=()=>Math.random().toString(36).substring(2)+new Date().getTime().toString(36);var p=(e,t)=>K(e)?Number(e):t,J=(e,t)=>e==null?t:e,q=(e,t)=>e==null?t:e;var le="#efefef",se="#5daed2",G="#333";var Ce={filter:"opacity(0.7) grayscale(100%)"},Ie={outline:"none"},Ae={outline:"none"},ue=2;var De=(e,t,n)=>n>=e&&n<=t||n+360>=e&&n+360<=t,we=(e,t)=>{let n=p(e,0),r=p(t,359.999);return n=y(n,360),r=y(r,360),n<0&&(n+=360),r<0&&(r+=360),r<n&&(r+=360),n===r&&(r+=359.999),[n,r]};var _e=e=>{if(e.length<=0)return[0,0];let t=-1/0,n=-1/0;for(let r of e){let[o,a]=r.pointerRadii;t=Math.max(t,Math.max(0,o)),n=Math.max(n,Math.max(0,a))}return[t,n]},Ne=(e,t,n)=>{if(n&&n.length>0){let a=n.findIndex(u=>u===e),i=n.findIndex(u=>u===t),s=a===-1?0:a,l=i===-1?n.length-1:i;return[s,l]}let r=p(e,0),o=p(t,100);return r>o&&(o=r+100),[r,o]},Ct=(e,t,n,r)=>{if(r&&r.length>0){let a=r.findIndex(i=>i===e);return a===-1?0:a}let o=p(e,t);return o<t&&(o=t),o>n&&(o=n),o};var ee=(e,t,n,r,o)=>{let a=t===n?0:Z(e,0,100,t,n);return o&&o.length>0?o[Math.round(a)]:R(a,r)},It=(e,t)=>t===0?0:Math.round(e/t)*t,ce=(e,t,n,r)=>{if(r===void 0&&n&&(r=1),r===void 0)return;let o=t-e;return o===0?0:r*100/o},Be=(e,t,n,r,o,a)=>{let i=[],s=e||[];for(let l=0;l<s.length;l++){let u=s[l];if(u.rx<=0||u.ry<=0)continue;let d=Ct(u.value,t,n,r),g=t===n?0:Z(t,n,0,100,d),m={pointerRadii:[p(u.rx,10),p(u.ry,10)],percent:g,id:ie(),index:0,bgColor:u.bgColor||o||G,pointerSVG:a||u.pointerSVG,disabled:u.disabled===!0,keyboardDisabled:!1,mousewheelDisabled:!1,ariaLabel:u.ariaLabel};i.push(m)}if(i.length>1){i.sort((l,u)=>l.percent-u.percent);for(let l=0;l<i.length;l++)i[l].index=l}return!i||i.length<=0?[{pointerRadii:[10,10],percent:0,id:ie(),index:0,bgColor:G,disabled:!1,keyboardDisabled:!1,mousewheelDisabled:!1}]:i},k=(e,t,n,r,o)=>{let a=Math.abs(n-t),i=e*a/100,s=y(t+i,360),l=Y(s);return l=Z(l,0,Math.PI*2,0,Math.PI),{position:Re(o,l,r[0],r[1]),angleDegrees:s}},$e=e=>{if(!e||e.length<2)return null;let t=1/0,n=null,r=-1/0,o=null;for(let a=0;a<e.length;a++){let i=e[a];i.percent<t&&(t=i.percent,n=i),i.percent>r&&(r=i.percent,o=i)}return n===null||o===null?null:[n,o]},Oe=(e,t,n,r,o,a,i,s,l,u)=>{let[d,g]=t,{left:m,top:x}=e.getBoundingClientRect(),f=[d-m,g-x],C=Te(f,n),[w,I]=r,v=Math.atan2(C[1]/I,C[0]/w);v<0&&(v+=2*Math.PI);let T=Ee(v);if(!De(o,a,T)){let A=j(T,o),O=j(T,a);return A<=O?i:s}let $=Math.abs(a-o),M=T*100/$,L=ce(i,s,l,u);return L===void 0?M:It(M,L)},X=(e,t)=>!e||!t?-1:e.findIndex(n=>n.id===t),At=e=>e.getAttribute("data-type")==="panel",Dt=e=>e.getAttribute("data-type")==="panel-fill",wt=(e,t)=>e.getAttribute("data-type")==="pointer"&&e.getAttribute("data-id")===t||e.querySelector(`[data-type="pointer"][data-index="${t}"]`)!==null,Fe=(e,t,n,r,o,a,i)=>{if(t.length<=0)return null;if(t.length===1)return t[0].id;if(i==="drag")return r;if(At(e)||Dt(e)){let s=Math.abs(a-o),l=n*s/100,u=1/0,d=null;for(let g=0;g<t.length;g++){let m=t[g],x=m.percent*s/100,f=j(x,l);f<u&&(u=f,d=m.id)}return d}for(let s=0;s<t.length;s++){let l=t[s];if(wt(e,l.id))return l.id}return r};var yt=(e,t)=>{let n=e.find(s=>s.id===t);if(!n)return null;let r=y(n.index+1,e.length),o=e.find(s=>s.index===r);if(!o)return null;let a=y(n.index-1,e.length),i=e.find(s=>s.index===a);return[n,o,i]},He=(e,t)=>{if(e[0].disabled)return e;let n=[...e],r=n[0];return r.percent=t,n[0]=r,n},Ue=(e,t,n)=>{if(!n)return e;let r=e.findIndex(i=>i.id===n);if(r===-1||e[r].disabled)return e;let o=[...e],a=B({},o[r]);return a.percent=t,o[r]=a,o},Ge=(e,t,n,r,o)=>{let[a,i,s]=yt(t,n),l=e-a.percent,u=Math.abs(o-r)/2;if(l!==0&&a.percent!==0&&e!==0){let d=Math.abs(l)>u?l<0:l>=0;d&&i.percent>=a.percent&&(e=Math.min(e,i.percent)),!d&&s.percent<=a.percent&&(e=Math.max(e,s.percent))}return e};var me=(e,t,n)=>{let[r,o]=e,[a,i]=t,s=Math.max(0,a*2-n),l=Math.max(0,i*2-n),u=r*2+n+s,d=o*2+n+l;return[u,d]},de=(e,t,n)=>{let[r,o]=me(e,t,n);return[R(r/2,2),R(o/2,2)]},ke=(e,t,n,r,o)=>{let a=t,i=a-e<=180?0:1;e>a&&(a+=360);let s=de(n,r,o),l=ae(s,n,Y(e)),u=ae(s,n,Y(a));return{start:l,end:u,largeArcFlag:i}};import{forwardRef as Lt}from"react";import{jsx as _t}from"react/jsx-runtime";var Vt=(e,t)=>{let{ellipse:n,strokeWidth:r,svgRadii:o,bgColor:a}=e,{start:i,end:s,largeArcFlag:l}=n;return _t("path",{"data-type":"panel",ref:t,d:`M ${i[0]} ${i[1]} A ${o[0]} ${o[1]} 0 ${l} 1 ${s[0]} ${s[1]}`,stroke:a,strokeWidth:r,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer"})},ze=Lt(Vt);import{useEffect as Nt,useState as he}from"react";import{Fragment as $t,jsx as Ye}from"react/jsx-runtime";var Bt=e=>{let{pointers:t,ellipse:n,strokeWidth:r,svgCenter:o,svgRadii:a,connectionBgColor:i,startEndAngle:s}=e,{start:l}=n,[u,d]=s,[g,m]=he(null),[x,f]=he(null),[C,w]=he(0);return Nt(()=>{if(!t||t.length<=0)return;if(t.length<=1){let A=t[0],{position:O,angleDegrees:re}=k(A.percent,u,d,a,o);m(l),f(O),w(Math.abs(re-u)<=180?0:1);return}let I=$e(t);if(I===null)return;let v=I[0],T=I[1],{position:S,angleDegrees:$}=k(v.percent,u,d,a,o),{position:M,angleDegrees:L}=k(T.percent,u,d,a,o);m(S),f(M),w(Math.abs(L-$)<=180?0:1)},[d,t,l,u,o,a]),Ye($t,{children:g!==null&&x!==null&&Ye("path",{"data-type":"panel-fill",d:`M ${g[0]} ${g[1]} A ${a[0]} ${a[1]} 0 ${C} 1 ${x[0]} ${x[1]}`,stroke:i,strokeWidth:r+1,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer",pointerEvents:"none"})})},qe=Bt;import{useEffect as Xe,useState as We}from"react";import{Fragment as Qe,jsx as te,jsxs as Ft}from"react/jsx-runtime";var Ot=e=>{let{id:t,pointer:n,startEndAngle:r,svgRadii:o,svgCenter:a,pointerBgColor:i,pointerSVG:s,disabledPointerStyle:l,min:u,max:d,round:g,data:m,ariaLabel:x}=e,{percent:f,pointerRadii:C}=n,[w,I]=C,[v,T]=r,[S,$]=We(null),[M,L]=We("");Xe(()=>{let{position:O}=k(f,v,T,o,a);$(O)},[f,o,a,v,T]),Xe(()=>{L(ee(f,u,d,g,m))},[u,d,g,m,f]);let A=B({},Ae);return n.disabled&&(A=B(B({},A),l)),S?Ft(Qe,{children:[!s&&te("ellipse",{className:n.disabled?"disabled":void 0,style:A,"aria-disabled":n.disabled?!0:void 0,"aria-valuenow":M,"aria-valuetext":M.toString(),"aria-label":x,"data-type":"pointer","data-index":n.index,"data-id":t,"data-percent":n.percent,cx:S[0],cy:S[1],rx:w,ry:I,cursor:"pointer",tabIndex:0,role:"slider",fill:i}),s&&te("g",{className:n.disabled?"disabled":void 0,style:A,"aria-disabled":n.disabled?!0:void 0,"aria-valuenow":M,"aria-valuetext":M.toString(),"aria-label":x,"data-type":"pointer","data-index":n.index,"data-id":t,"data-percent":n.percent,cursor:"pointer",transform:`translate(${S[0]-w/2}, ${S[1]-I/2})`,tabIndex:0,role:"slider",children:te("g",{pointerEvents:"none",children:s})})]}):te(Qe,{})},Ze=Ot;import{useEffect as Ht,useState as Ut}from"react";import{jsx as kt}from"react/jsx-runtime";var Gt=e=>{let{svgCenter:t,round:n,min:r,max:o,pointers:a,data:i,textPrefix:s,textSuffix:l}=e,[u,d]=t,[g,m]=Ut("");return Ht(()=>{let x=[];for(let f of a){let C=ee(f.percent,r,o,n,i);x.push(`${s||""}${C}${l||""}`)}m(x.join(" "))},[i,o,r,a,n,s,l]),kt("text",{x:u,y:d,style:{userSelect:"none"},textAnchor:"middle",children:g})},Ke=Gt;import{jsx as ne,jsxs as Wt}from"react/jsx-runtime";var tr=e=>{let t=fe(null),n=fe(null),r=fe("click"),[o,a]=h(null),[i,s]=h([0,0]),[l,u]=h(0),[d,g]=h([0,0]),[m,x]=h([]),[f,C]=h([0,0]),[w,I]=h([0,0]),[v,T]=h([0,0]),[S,$]=h([0,0]),[M,L]=h({start:[0,0],end:[0,0],largeArcFlag:0}),[A,O]=h(le),[re,je]=h(se),[ge,Je]=h(G),[et,tt]=h(!1),[F,nt]=h(!1),[rt,ot]=h(void 0),[xe,at]=h(!1),[it,lt]=h(!1),[pe,st]=h(ue),[V,_]=d,[ut,ct]=w,[W,Q]=S,[mt,dt]=h(!1),[ht,ft]=h(""),[gt,xt]=h("");b(()=>{O(J(e.bgColor,le)),je(J(e.connectionBgColor,se)),Je(J(e.pointerBgColor,G))},[e.bgColor,e.connectionBgColor,e.pointerBgColor]),b(()=>{tt(q(e.pointersOverlap,!1))},[e.pointersOverlap]),b(()=>{nt(q(e.disabled,!1)),ot(e.disabledPointerStyle||Ce),at(q(e.keyboardDisabled,!1)),lt(q(e.mousewheelDisabled,!1))},[e.disabled,e.disabledPointerStyle,e.keyboardDisabled,e.mousewheelDisabled]),b(()=>{s([p(e.rx,150),p(e.ry,150)])},[e.rx,e.ry]),b(()=>{u(p(e.strokeWidth,5))},[e.strokeWidth]),b(()=>{g(Ne(e.min,e.max,e.data))},[e.min,e.max,e.data]),b(()=>{x(Be(e.pointers,V,_,e.data,ge,e.pointerSVG))},[e.pointers,e.data,V,_,ge,e.pointerSVG]),b(()=>{C(_e(m))},[m]),b(()=>{I(me(i,f,l))},[i,f,l]),b(()=>{T(de(i,f,l))},[i,f,l]),b(()=>{$(we(e.startAngleDegrees,e.endAngleDegrees))},[e.startAngleDegrees,e.endAngleDegrees]),b(()=>{L(ke(W,Q,i,f,l))},[W,Q,i,f,l]),b(()=>{st(p(e.round,ue))},[e.round]),b(()=>{dt(e.hideText),ft(e.textPrefix),xt(e.textSuffix)},[e.hideText,e.textPrefix,e.textSuffix]);let H=c=>{var z;if(F||!t||!t.current)return;let P=c.type.indexOf("mouse")!==-1?c.clientX:c.touches[0].clientX,N=c.type.indexOf("mouse")!==-1?c.clientY:c.touches[0].clientY,E=Oe(t.current,[P,N],v,i,W,Q,V,_,e.data,e.step);if(m.length<=1){a(((z=m[0])==null?void 0:z.id)||null),x(U=>He(U,E));return}let D=o;a(U=>(D=Fe(c.target,m,E,U,W,Q,r.current),D)),D!==null&&x(U=>(et||_===V||(E=Ge(E,U,D,V,_)),Ue(U,E,D)))},pt=c=>{if(F)return;let P=c.target;!P||!(P===n.current||P.getAttribute("data-type")==="pointer")||(H(c),window.addEventListener("mousemove",H),window.addEventListener("mouseup",be),r.current="drag")},be=c=>{window.removeEventListener("mousemove",H),window.removeEventListener("mouseup",H),r.current="click"},oe=c=>{let P=X(m,o);if(P===-1)return;let N=B({},m[P]),E=N.percent;if(!K(E))return;let D=ce(V,_,e.data,e.step);D===void 0&&(D=1),c?E-=D:E+=D,E>100&&(E=100),N.percent=E;let z=[...m];z[P]=N,x(z)},ve=()=>{if(F||xe)return;let c=X(m,o);c===-1||m[c].disabled||oe(!1)},Se=()=>{if(F||xe)return;let c=X(m,o);c===-1||m[c].disabled||oe(!0)};return Wt("svg",{"data-type":"bg",xmlns:"http://www.w3.org/2000/svg",ref:t,width:ut,height:ct,onMouseDown:pt,onMouseUp:be,onTouchMove:H,onTouchStart:H,onKeyDown:c=>{switch(c.key){case"ArrowLeft":{c.preventDefault(),ve();break}case"ArrowRight":{c.preventDefault(),Se();break}case"ArrowUp":{c.preventDefault(),ve();break}case"ArrowDown":{c.preventDefault(),Se();break}}},className:F?"disabled":void 0,"aria-disabled":F?!0:void 0,tabIndex:0,focusable:!0,onWheel:c=>{if(F||it)return;let P=X(m,o);if(P===-1||m[P].disabled)return;c.stopPropagation();let N=c.deltaY<0;oe(!N)},style:Ie,children:[ne(ze,{ref:n,ellipse:M,strokeWidth:l,svgRadii:i,bgColor:A}),ne(qe,{pointers:m,ellipse:M,svgRadii:i,strokeWidth:l,connectionBgColor:re,startEndAngle:S,svgCenter:v}),m.map(c=>ne(Ze,{pointer:c,id:c.id,startEndAngle:S,svgRadii:i,svgCenter:v,pointerBgColor:c.bgColor,pointerSVG:e.pointerSVG||c.pointerSVG,disabledPointerStyle:rt,min:V,max:_,round:pe,data:e.data,ariaLabel:c.ariaLabel},c.id)),!mt&&ne(Ke,{svgCenter:v,round:pe,min:V,max:_,pointers:m,data:e.data,textPrefix:ht,textSuffix:gt})]})};export{tr as RoundSlider};
//# sourceMappingURL=mz-react-round-slider.esm.js.map
