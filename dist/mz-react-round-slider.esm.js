/* 
MZ React Round Slider v1.0.0
https://github.com/mzusin/react-round-slider
MIT License      
Copyright (c) 2023-present, Miriam Zusin          
*/
var Xe=Object.defineProperty;var ae=Object.getOwnPropertySymbols;var qe=Object.prototype.hasOwnProperty,Ye=Object.prototype.propertyIsEnumerable;var ie=(e,t,n)=>t in e?Xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U=(e,t)=>{for(var n in t||(t={}))qe.call(t,n)&&ie(e,n,t[n]);if(ae)for(var n of ae(t))Ye.call(t,n)&&ie(e,n,t[n]);return e};import{useEffect as oe,useRef as Ut,useState as se}from"react";var Ke=Math.pow,S=(e,t=1/0)=>{if(t===1/0)return e;t<0&&(t=0);let n=Ke(10,t);return Math.round(e*n)/n},I=(e,t)=>(e%t+t)%t,v=(e,t,n,o,r)=>(r-o)*(e-t)/(n-t)+o;var le=e=>!isNaN(parseFloat(e))&&isFinite(e);var ue=(e,t=1/0)=>{let n=e*(180/Math.PI);return S(n,t)},C=(e,t=1/0)=>{let n=e*(Math.PI/180);return S(n,t)};var ce=(e,t,n=1/0)=>{let o=[];for(let r=0;r<e.length;r++)o.push(S(e[r]-t[r],n));return o},me=(e,t,n=1/0)=>ce(e,t,n);var We=(e,t,n=1/0)=>{let o=[];for(let r=0;r<e.length;r++)o.push(S(e[r]*t,n));return o},V=(e,t,n=1/0)=>We(e,t,n);var ge=(e,t=1/0)=>{let n=0;for(let o=0;o<e.length;o++)n+=e[o]*e[o];return S(Math.sqrt(n),t)};var H=(e,t,n=1/0)=>{let o=ce(e,t);return ge(o,n)};var Ze=(e,t=1/0)=>{let n=ge(e),o=[];for(let r=0;r<e.length;r++)o.push(n===0?0:S(e[r]/n,t));return o},de=(e,t=1/0)=>Ze(e,t);var M=(e,t,n)=>(t=t%Math.PI*2,[e[0]+Math.cos(t)*n,e[1]+Math.sin(t)*n]);var Q=()=>Math.random().toString(36).substring(2)+new Date().getTime().toString(36);var fe=(e,t,n,o,r,s)=>{let a=t+n*2,i=Math.max(0,o*2-a),c=e*2+a+i,[u,l]=Qe(e,o,t,n);return{cx:u,cy:l,radius:e,size:c,thickness:t,border:n,startAngleDeg:r,endAngleDeg:s}},Qe=(e,t,n,o)=>{let r=je(e,t,n,o),s=S(r/2,2);return[s,s]},je=(e,t,n,o)=>{let r=n+o*2,s=Math.max(0,t*2-r);return e*2+r+s};var he="#efefef";var pe="#444444";var j="#163a86",J="#000",ee="#a8a8a8";var te="#000",be="#5daed2",xe="#97b0bb",De="#000";var ve="#efefef",Te="#000";var m=(e,t)=>le(e)?Number(e):t,x=(e,t)=>e==null?t:e,P=(e,t)=>e==null?t:e;var G=(e,t,n)=>(e>t&&(t+=360),n>=e&&n<=t||n+360>=e&&n+360<=t),F=(e,t)=>{t<e&&(t+=360);let n=t-e,o=I(n,360);return o===0&&n>0?360:o},Se=(e,t,n)=>{e>t&&(t+=360);let o=2*Math.PI*n;e>t&&(t+=360);let r=t-e,s=-(e/360)*o,a=r/360*o,i=o-a;return{strokeDasharray:[a,i].join(" "),strokeOffset:s}};var w=(e,t,n,o,r,s,a)=>{let{left:i,top:c}=e.getBoundingClientRect(),u=[t-i,n-c],l=me(u,[o,r]),f=Math.atan2(l[1]/a,l[0]/s);return f<0&&(f+=2*Math.PI),ue(f)},$=(e,t,n,o)=>{o<n&&(o+=360),t<n&&(t+=360);let r=v(t,n,o,e.min,e.max);if(e.data.length>0){let s=Math.round(r);r=e.data[s]}else r=S(r,e.round);return r},Je=(e,t,n,o)=>{let r;if(o<n&&(o+=360),e.data.length>0){let s=e.data.findIndex(a=>a===t);r=s===-1?0:s}else r=typeof t!="number"?e.min:t;return I(v(r,e.min,e.max,n,o),360)},et=(e,t)=>{if(!e||!e.pointers||e.pointers.length<0||!t)return[{id:Q(),index:0,radius:10,angleDeg:I(m(e.pathStartAngle,0),360),bgColor:x(e.pointerBgColor,j),bgColorSelected:x(e.pointerBgColorSelected,J),bgColorDisabled:x(e.pointerBgColorDisabled,ee),border:m(e.pointerBorder,0),borderColor:x(e.pointerBorderColor,te),disabled:!!e.disabled}];let n=[];for(let o=0;o<e.pointers.length;o++){let r=e.pointers[o],s=r.bgColor?r.bgColor:x(e.pointerBgColor,j),a=r.bgColorSelected?r.bgColorSelected:x(e.pointerBgColorSelected,J),i=r.bgColorDisabled?r.bgColorDisabled:x(e.pointerBgColorDisabled,ee),c=r.border?r.border:m(e.pointerBorder,0),u=r.borderColor?r.borderColor:x(e.pointerBorderColor,te),l=r.disabled!==void 0?r.disabled:P(e.disabled,!1),f=Je(t,r.value,m(e.pathStartAngle,0),m(e.pathEndAngle,360)),g=ne(f,t.stepAngleDeg);n.push({id:Q(),index:o,radius:m(r.radius,10),angleDeg:g,bgColor:s,bgColorSelected:a,bgColorDisabled:i,border:c,borderColor:u,disabled:l})}return n},Ee=(e,t)=>{let n=et(e,t);return{pointers:n,maxRadius:tt(n)}},tt=e=>{if(e.length<=0)return 0;let t=-1/0;for(let n of e)t=Math.max(t,Math.max(0,n.radius+n.border/2));return t},z=(e,t,n,o,r)=>{if(!e||e.length<=0)return null;if(e.length===1)return e[0];let s=v(C(t),0,Math.PI*2,0,Math.PI),a=M([n,o],s,r),i,c=null,u=e.filter(l=>!l.disabled);for(let l of u){let f=v(C(l.angleDeg),0,Math.PI*2,0,Math.PI),g=M([n,o],f,r),d=H(a,g);(i===void 0||d<i)&&(i=d,c=l)}return U({},c)},X=(e,t,n,o,r,s)=>{let a=v(C(n),0,Math.PI*2,0,Math.PI),i=M([o,r],a,s),c=v(C(e),0,Math.PI*2,0,Math.PI),u=M([o,r],c,s),l=v(C(t),0,Math.PI*2,0,Math.PI),f=M([o,r],l,s),g=H(i,u),d=H(i,f);return g<=d?e:t},Ce=(e,t)=>{if(!e||e.length<=0)return null;let n,o,r=null,s=null;for(let a of e){let i=F(t,a.angleDeg);(n===void 0||i<n)&&(r=a,n=i),(o===void 0||i>o)&&(s=a,o=i)}return r===null||s===null?null:[r,s]},ne=(e,t)=>t===0?0:Math.round(e/t)*t;import{useEffect as Me,useState as nt,useRef as rt,useCallback as ot}from"react";var q={outline:"none"};import{Fragment as it,jsx as re}from"react/jsx-runtime";var st=(e,t,n,o,r)=>e.disabled?r:document.activeElement===t.current&&o||n,at=e=>{let t=rt(null),{pointer:n,svg:o,$svg:r,setPointer:s,data:a,settings:i}=e,{radius:c,angleDeg:u,bgColor:l,bgColorSelected:f,bgColorDisabled:g,border:d,borderColor:p}=e.pointer,{cx:T,cy:D}=o,[_,B]=nt(null);Me(()=>{let h=v(C(u),0,Math.PI*2,0,Math.PI),A=M([T,D],h,o.radius);B(A)},[u,T,D,o.radius]);let R=ot(h=>{if(!r||i.disabled||n.disabled)return;let A=h.type.indexOf("mouse")!==-1?h.clientX:h.touches[0].clientX,k=h.type.indexOf("mouse")!==-1?h.clientY:h.touches[0].clientY,b=w(r,A,k,o.cx,o.cy,o.radius,o.radius),E;G(o.startAngleDeg,o.endAngleDeg,b)?E=b:E=X(o.startAngleDeg,o.endAngleDeg,n.angleDeg,o.cx,o.cy,o.radius),s(n,E)},[r,n,s,o.cx,o.cy,o.endAngleDeg,o.radius,o.startAngleDeg,i.disabled]),K=()=>{window.removeEventListener("mousemove",R),window.removeEventListener("mouseup",R)},W=h=>{i.disabled||n.disabled||!h.target||(R(h),window.addEventListener("mousemove",R),window.addEventListener("mouseup",K))},O=h=>{if(!(i.disabled||n.disabled||i.keyboardDisabled))switch(h.key){case"ArrowLeft":{h.preventDefault(),s(n,n.angleDeg+a.stepAngleDeg);break}case"ArrowRight":{h.preventDefault(),s(n,n.angleDeg-a.stepAngleDeg);break}case"ArrowUp":{h.preventDefault(),s(n,n.angleDeg-a.stepAngleDeg);break}case"ArrowDown":{h.preventDefault(),s(n,n.angleDeg+a.stepAngleDeg);break}}};return Me(()=>{let h=t.current,A=b=>{i.disabled||n.disabled||(b.preventDefault(),b.stopPropagation(),R(b))},k=b=>{if(i.disabled||n.disabled||i.mousewheelDisabled||document.activeElement!==h)return;b.stopPropagation(),b.preventDefault();let E=b.deltaY<0,Z;E?Z=n.angleDeg+a.stepAngleDeg:Z=n.angleDeg-a.stepAngleDeg,s(n,Z)};return h==null||h.addEventListener("touchmove",A,{passive:!1}),document.addEventListener("wheel",k,{passive:!1}),()=>{h==null||h.removeEventListener("touchmove",A),document.removeEventListener("wheel",k)}},[_,R,a.stepAngleDeg,n,s,i.disabled,i.mousewheelDisabled]),re(it,{children:_&&re("g",{ref:t,transform:`translate(${_[0]-c/2}, ${_[1]-c/2})`,role:"slider","aria-disabled":n.disabled?!0:void 0,"data-type":"pointer","data-angle":n.angleDeg,"data-id":n.id,"data-index":n.index,onMouseDown:W,onKeyDown:O,tabIndex:0,cursor:n.disabled?"default":"pointer",style:q,children:re("circle",{cx:c/2,cy:c/2,r:c,fill:st(n,t,l,f,g),strokeWidth:d,stroke:p})})})},Pe=at;import{Fragment as ut,jsx as Re}from"react/jsx-runtime";var lt=e=>{let{pointers:t,settings:n,svg:o,$svg:r,setPointer:s,data:a}=e;return Re(ut,{children:t.pointers.map(i=>Re(Pe,{pointer:i,svg:o,settings:n,$svg:r,setPointer:s,data:a},i.id))})},_e=lt;var Le=e=>{let t=m(e.min,0),n=m(e.max,100),o=m(e.step,1),r=m(e.arrowStep,1),s=m(e.round,0),a=e.data||[];if(a.length>0){let g=a.findIndex(p=>p===t),d=a.findIndex(p=>p===n);t=g===-1?0:g,n=d===-1?a.length:d}else t>n&&(t=n+100);let i=m(e.pathStartAngle,0),c=m(e.pathEndAngle,360),u=I(i,360)===I(c,360),l=o*360/(n-t),f=r*360/(n-t);return{min:t,max:n,round:s,data:a,stepAngleDeg:l,arrowStepAngleDeg:f,isClosedShape:u}};import{useEffect as ft,useState as ht}from"react";var we=(e,t,n,o,r,s)=>{if(!e.pointers||e.pointers.length<=0)return null;let a={radius:t,cx:n,cy:o,startAngleDeg:r,endAngleDeg:r,strokeDasharray:[0,0],strokeOffset:0};if(e.pointers.length===1)a.startAngleDeg=r,a.endAngleDeg=e.pointers[0].angleDeg;else{let p=Ce(e.pointers,r);if(!p)return null;let[T,D]=p;a.startAngleDeg=T.angleDeg,a.endAngleDeg=D.angleDeg}let i=F(r,s);a.startAngleDeg>a.endAngleDeg&&(a.endAngleDeg+=360);let c=F(a.startAngleDeg,a.endAngleDeg);c>i&&(c=360-c,[a.startAngleDeg,a.endAngleDeg]=[a.endAngleDeg,a.startAngleDeg]);let l=2*Math.PI*t,f=-(a.startAngleDeg/360)*l,g=c/360*l,d=l-g;return a.strokeDasharray=[g,d],a.strokeOffset=f,a};import{Fragment as bt,jsx as ye}from"react/jsx-runtime";var pt=e=>{let{settings:t,pointers:n,$svg:o,svg:r,setPointer:s}=e,[a,i]=ht(null);ft(()=>{i(we(n,r.radius,r.cx,r.cy,r.startAngleDeg,r.endAngleDeg))},[n,r.radius,r.cx,r.cy,r.startAngleDeg,r.endAngleDeg]);let c=u=>{if(!o||t.disabled)return;let l=w(o,u.clientX,u.clientY,r.cx,r.cy,r.radius,r.radius),f=z(n.pointers,l,r.cx,r.cy,r.radius);f&&s(f,l)};return ye(bt,{children:!P(t.hideConnection,!1)&&a&&ye("circle",{cx:a.cx,cy:a.cy,r:a.radius,strokeDasharray:a.strokeDasharray.join(" "),strokeDashoffset:a.strokeOffset,stroke:t.disabled?x(t.connectionBgColorDisabled,xe):x(t.connectionBgColor,be),strokeWidth:r.thickness+1,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:t.disabled?"default":"pointer",onClick:c,"data-type":"connection"})})},Oe=pt;import{useEffect as Dt,useState as vt}from"react";import{Fragment as St,jsx as Fe}from"react/jsx-runtime";var Tt=e=>{let{settings:t,pointers:n,svg:o,data:r}=e,{cx:s,cy:a}=o,[i,c]=vt("");Dt(()=>{let l=n.pointers.map(g=>$(r,g.angleDeg,o.startAngleDeg,o.endAngleDeg));l.sort((g,d)=>g.toString().localeCompare(d.toString(),"en",{numeric:!0}));let f=l.map(g=>`${t.textPrefix||""}${g}${t.textSuffix||""}`);c(f.join(" "))},[r,n.pointers,o.startAngleDeg,o.endAngleDeg,t.textPrefix,t.textSuffix]);let u=P(t.hideText,!1);return Fe(St,{children:!u&&Fe("text",{x:s,y:a,fill:x(t.textColor,De),fontSize:m(t.textFontSize,16),fontFamily:t.textFontFamily,style:{userSelect:"none"},textAnchor:"middle",children:i})})},Ne=Tt;import{useEffect as Ve,useState as He,Fragment as Pt}from"react";var Be=(e,t)=>{let n=m(e.ticsCount,0);n||(t.data&&t.data.length>0?n=t.data.length:n=t.max);let o=m(e.ticksHeight,20);return{ticksCount:n,disableTicks:P(e.disableTicks,!1),ticksWidth:m(e.ticksWidth,3),ticksHeight:o,longerTicksHeight:m(e.longerTicksHeight,o*2),ticksDistanceToPanel:m(e.ticksDistanceToPanel,0),tickValuesDistance:m(e.tickValuesDistance,15),ticksColor:x(e.ticksColor,ve),tickValuesColor:x(e.tickValuesColor,Te),tickValuesFontSize:m(e.tickValuesFontSize,12),ticksGroupSize:m(e.ticksGroupSize,10),longerTickValuesOnly:P(e.longerTickValuesOnly,!0),showTickValues:P(e.showTickValues,!0)}},Ue=(e,t,n,o,r,s)=>{let a=[],i=Math.abs(o-n),c=t===0?0:i/t,u=t;s.isClosedShape||u++;for(let l=0;l<u;l++){let f=n+l*c,g=v(C(f),0,Math.PI*2,0,Math.PI),[d,p]=M([r.cx,r.cy],g,r.radius),T=e.ticksGroupSize!==void 0&&l%e.ticksGroupSize===0,D=e.ticksHeight;T&&(D=e.longerTicksHeight);let _=de([r.cx-d,r.cy-p]),B=V(_,D),R=V(_,e.ticksDistanceToPanel);d+=R[0],p+=R[1];let K=d+B[0],W=p+B[1],O;if(e.showTickValues&&(!e.longerTickValuesOnly||e.longerTickValuesOnly&&(T||e.ticksGroupSize===void 0))){let b=v(l,0,t,s.min,s.max);if(s.data.length>0){let E=Math.round(b);b=s.data[E]}else b=S(b,s.round);O=(b!=null?b:"").toString()}let h=0,A=0,k=O!==void 0;if(k){let b=m(D+e.tickValuesDistance,D*1.5),E=V(_,b);h=d+E[0],A=p+E[1]}a.push({x:d,y:p,x1:K,y1:W,textX:h,textY:A,isLonger:T,tickValue:O,showText:k})}return a};import{Fragment as kt,jsx as Y,jsxs as _t}from"react/jsx-runtime";var Rt=e=>{let{settings:t,svg:n,data:o}=e,[r,s]=He(null),[a,i]=He([]);return Ve(()=>{s(Be(t,o))},[t,o]),Ve(()=>{if(!r)return;let c=n.endAngleDeg;c<n.startAngleDeg&&(c+=360),i(Ue(r,r.ticksCount,n.startAngleDeg,c,n,o))},[o,n,r]),Y(kt,{children:r&&!r.disableTicks&&Y("g",{children:a.map((c,u)=>{let{x:l,y:f,x1:g,y1:d,textX:p,textY:T,showText:D}=c;return _t(Pt,{children:[Y("line",{x1:l,y1:f,x2:g,y2:d,strokeWidth:r.ticksWidth,stroke:r.ticksColor}),D&&Y("text",{x:p,y:T,textAnchor:"middle",dominantBaseline:"middle",fill:r.tickValuesColor,fontSize:r.tickValuesFontSize,fontFamily:t.tickValuesFontFamily,style:{userSelect:"none"},children:c.tickValue})]},u)})})})},Ge=Rt;import{useEffect as Lt,useState as wt}from"react";import{jsx as $e,jsxs as Ot}from"react/jsx-runtime";var yt=e=>{let{settings:t,pointers:n,$svg:o,svg:r,setPointer:s}=e,[a,i]=wt({strokeDasharray:"0 1000000",strokeOffset:0});return Lt(()=>{i(Se(r.startAngleDeg,r.endAngleDeg,r.radius))},[r.startAngleDeg,r.endAngleDeg,r.radius]),Ot("g",{onClick:u=>{if(!o||t.disabled)return;let l=w(o,u.clientX,u.clientY,r.cx,r.cy,r.radius,r.radius),f=z(n.pointers,l,r.cx,r.cy,r.radius);f&&s(f,l)},children:[r.border>0&&$e("circle",{strokeDasharray:a.strokeDasharray,strokeDashoffset:a.strokeOffset,cx:r.cx,cy:r.cy,r:r.radius,stroke:x(t.pathBorderColor,pe),strokeWidth:r.thickness+r.border*2,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer","data-type":"path-border"}),$e("circle",{strokeDasharray:a.strokeDasharray,strokeDashoffset:a.strokeOffset,cx:r.cx,cy:r.cy,r:r.radius,stroke:x(t.pathBgColor,he),strokeWidth:r.thickness,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer","data-type":"path"})]})},ze=yt;import{Fragment as Ht,jsx as y,jsxs as Vt}from"react/jsx-runtime";var yr=e=>{let[t,n]=se(null),[o,r]=se(null),[s,a]=se(null),i=Ut(null);oe(()=>{n(Le(e))},[e]),oe(()=>{a(Ee(e,t))},[e,t]),oe(()=>{if(!s)return;let u=m(e.pathStartAngle,0),l=m(e.pathEndAngle,360);l<=u&&(l+=360),r(fe(m(e.pathRadius,150),m(e.pathThickness,5),m(e.pathBorder,0),s.maxRadius,u,l))},[e.pathRadius,e.pathThickness,e.pathBorder,e.pathStartAngle,e.pathEndAngle,s]);let c=(u,l)=>{if(e.disabled||!s.pointers||!u||u.disabled||(l=ne(l,t.stepAngleDeg),u.angleDeg===l))return;if(!e.pointersOverlap&&s.pointers.length>1){let d,p;if(t.isClosedShape){let T=I(u.index-1,s.pointers.length),D=I(u.index+1,s.pointers.length);d=s.pointers[T].angleDeg,p=s.pointers[D].angleDeg}else d=u.index===0?o.startAngleDeg:s.pointers[u.index-1].angleDeg,p=u.index===s.pointers.length-1?o.endAngleDeg:s.pointers[u.index+1].angleDeg;p<=d&&(p+=360),G(d,p,l)||(l=X(d,p,l,o.cx,o.cy,o.radius))}if(u.angleDeg===l)return;let g=U({},s);if(g.pointers=[...s.pointers],g.pointers[u.index].angleDeg=l,s.pointers=g.pointers,a(g),typeof e.onChange=="function"){let d=g.pointers.map(p=>$(t,p.angleDeg,o.startAngleDeg,o.endAngleDeg));e.onChange(d)}};return y(Ht,{children:o&&Vt("svg",{ref:i,xmlns:"http://www.w3.org/2000/svg",width:o.size,height:o.size,tabIndex:0,focusable:!0,"aria-disabled":e.disabled?!0:void 0,style:q,children:[y(Ge,{settings:e,svg:o,data:t}),y(ze,{settings:e,pointers:s,svg:o,$svg:i.current,setPointer:c}),y(Oe,{settings:e,pointers:s,svg:o,$svg:i.current,setPointer:c}),y(_e,{settings:e,pointers:s,svg:o,$svg:i.current,setPointer:c,data:t}),y(Ne,{settings:e,pointers:s,svg:o,data:t})]})})};export{yr as RoundSlider};
//# sourceMappingURL=mz-react-round-slider.esm.js.map
