/* 
MZ React Round Slider v1.0.0
https://github.com/mzusin/react-round-slider
MIT License      
Copyright (c) 2023-present, Miriam Zusin          
*/
var Ke=Object.defineProperty;var ue=Object.getOwnPropertySymbols;var We=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable;var ce=(e,t,n)=>t in e?Ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$=(e,t)=>{for(var n in t||(t={}))We.call(t,n)&&ce(e,n,t[n]);if(ue)for(var n of ue(t))Ze.call(t,n)&&ce(e,n,t[n]);return e};import{useEffect as ie,useRef as Ht,useState as le}from"react";var Qe=Math.pow,S=(e,t=1/0)=>{if(t===1/0)return e;t<0&&(t=0);let n=Qe(10,t);return Math.round(e*n)/n},I=(e,t)=>(e%t+t)%t,v=(e,t,n,o,r)=>(r-o)*(e-t)/(n-t)+o;var me=e=>!isNaN(parseFloat(e))&&isFinite(e);var ge=(e,t=1/0)=>{let n=e*(180/Math.PI);return S(n,t)},E=(e,t=1/0)=>{let n=e*(Math.PI/180);return S(n,t)};var de=(e,t,n=1/0)=>{let o=[];for(let r=0;r<e.length;r++)o.push(S(e[r]-t[r],n));return o},fe=(e,t,n=1/0)=>de(e,t,n);var je=(e,t,n=1/0)=>{let o=[];for(let r=0;r<e.length;r++)o.push(S(e[r]*t,n));return o},z=(e,t,n=1/0)=>je(e,t,n);var he=(e,t=1/0)=>{let n=0;for(let o=0;o<e.length;o++)n+=e[o]*e[o];return S(Math.sqrt(n),t)};var X=(e,t,n=1/0)=>{let o=de(e,t);return he(o,n)};var Je=(e,t=1/0)=>{let n=he(e),o=[];for(let r=0;r<e.length;r++)o.push(n===0?0:S(e[r]/n,t));return o},pe=(e,t=1/0)=>Je(e,t);var C=(e,t,n)=>(t=t%Math.PI*2,[e[0]+Math.cos(t)*n,e[1]+Math.sin(t)*n]);var J=()=>Math.random().toString(36).substring(2)+new Date().getTime().toString(36);var be=(e,t,n,o,r,a)=>{let s=t+n*2,i=Math.max(0,o*2-s),c=e*2+s+i,[u,l]=et(e,o,t,n);return{cx:u,cy:l,radius:e,size:c,thickness:t,border:n,startAngleDeg:r,endAngleDeg:a}},et=(e,t,n,o)=>{let r=tt(e,t,n,o),a=S(r/2,2);return[a,a]},tt=(e,t,n,o)=>{let r=n+o*2,a=Math.max(0,t*2-r);return e*2+r+a};var xe="#efefef";var De="#444444";var ee="#163a86",te="#000",ne="#a8a8a8";var re="#000",ve="#5daed2",Te="#97b0bb",Se="#000";var Ie="#efefef",Ae="#000";var m=(e,t)=>me(e)?Number(e):t,b=(e,t)=>e==null?t:e,M=(e,t)=>e==null?t:e;var q=(e,t,n)=>(e>t&&(t+=360),n>=e&&n<=t||n+360>=e&&n+360<=t),N=(e,t)=>{t<e&&(t+=360);let n=t-e,o=I(n,360);return o===0&&n>0?360:o},Ee=(e,t,n)=>{e>t&&(t+=360);let o=2*Math.PI*n;e>t&&(t+=360);let r=t-e,a=-(e/360)*o,s=r/360*o,i=o-s;return{strokeDasharray:[s,i].join(" "),strokeOffset:a}};var L=(e,t,n,o,r,a,s)=>{let{left:i,top:c}=e.getBoundingClientRect(),u=[t-i,n-c],l=fe(u,[o,r]),h=Math.atan2(l[1]/s,l[0]/a);return h<0&&(h+=2*Math.PI),ge(h)},w=(e,t,n,o)=>{o<n&&(o+=360),t<n&&(t+=360);let r=v(t,n,o,e.min,e.max);if(e.data.length>0){let a=Math.round(r);r=e.data[a]}else r=S(r,e.round);return r},nt=(e,t,n,o)=>{let r;if(o<n&&(o+=360),e.data.length>0){let a=e.data.findIndex(s=>s===t);r=a===-1?0:a}else r=typeof t!="number"?e.min:t;return I(v(r,e.min,e.max,n,o),360)},rt=(e,t)=>{if(!e||!e.pointers||e.pointers.length<0||!t)return[{id:J(),index:0,radius:10,angleDeg:I(m(e.pathStartAngle,0),360),bgColor:b(e.pointerBgColor,ee),bgColorSelected:b(e.pointerBgColorSelected,te),bgColorDisabled:b(e.pointerBgColorDisabled,ne),border:m(e.pointerBorder,0),borderColor:b(e.pointerBorderColor,re),disabled:!!e.disabled}];let n=[];for(let o=0;o<e.pointers.length;o++){let r=e.pointers[o],a=r.bgColor?r.bgColor:b(e.pointerBgColor,ee),s=r.bgColorSelected?r.bgColorSelected:b(e.pointerBgColorSelected,te),i=r.bgColorDisabled?r.bgColorDisabled:b(e.pointerBgColorDisabled,ne),c=r.border?r.border:m(e.pointerBorder,0),u=r.borderColor?r.borderColor:b(e.pointerBorderColor,re),l=r.disabled!==void 0?r.disabled:M(e.disabled,!1),h=nt(t,r.value,m(e.pathStartAngle,0),m(e.pathEndAngle,360)),d=oe(h,t.stepAngleDeg);n.push({id:J(),index:o,radius:m(r.radius,10),angleDeg:d,bgColor:a,bgColorSelected:s,bgColorDisabled:i,border:c,borderColor:u,disabled:l,ariaLabel:r.ariaLabel})}return n},Pe=(e,t)=>{let n=rt(e,t);return{pointers:n,maxRadius:ot(n)}},ot=e=>{if(e.length<=0)return 0;let t=-1/0;for(let n of e)t=Math.max(t,Math.max(0,n.radius+n.border/2));return t},Y=(e,t,n,o,r)=>{if(!e||e.length<=0)return null;if(e.length===1)return e[0];let a=v(E(t),0,Math.PI*2,0,Math.PI),s=C([n,o],a,r),i,c=null,u=e.filter(l=>!l.disabled);for(let l of u){let h=v(E(l.angleDeg),0,Math.PI*2,0,Math.PI),d=C([n,o],h,r),f=X(s,d);(i===void 0||f<i)&&(i=f,c=l)}return $({},c)},K=(e,t,n,o,r,a)=>{let s=v(E(n),0,Math.PI*2,0,Math.PI),i=C([o,r],s,a),c=v(E(e),0,Math.PI*2,0,Math.PI),u=C([o,r],c,a),l=v(E(t),0,Math.PI*2,0,Math.PI),h=C([o,r],l,a),d=X(i,u),f=X(i,h);return d<=f?e:t},Re=(e,t)=>{if(!e||e.length<=0)return null;let n,o,r=null,a=null;for(let s of e){let i=N(t,s.angleDeg);(n===void 0||i<n)&&(r=s,n=i),(o===void 0||i>o)&&(a=s,o=i)}return r===null||a===null?null:[r,a]},oe=(e,t)=>t===0?0:Math.round(e/t)*t;import{useEffect as ae,useState as _e,useRef as at,useCallback as st}from"react";var W={outline:"none"};import{Fragment as ut,jsx as se}from"react/jsx-runtime";var it=(e,t,n,o,r)=>e.disabled?r:document.activeElement===t.current&&o||n,lt=e=>{let t=at(null),{pointer:n,svg:o,$svg:r,setPointer:a,data:s,settings:i}=e,{radius:c,angleDeg:u,bgColor:l,bgColorSelected:h,bgColorDisabled:d,border:f,borderColor:p}=e.pointer,{cx:T,cy:D}=o,[R,U]=_e(null),[V,Q]=_e("");ae(()=>{let g=w(s,n.angleDeg,o.startAngleDeg,o.endAngleDeg);Q(g===void 0?"":g.toString())},[s,n.angleDeg,o.startAngleDeg,o.endAngleDeg]),ae(()=>{let g=v(E(u),0,Math.PI*2,0,Math.PI),x=C([T,D],g,o.radius);U(x)},[u,T,D,o.radius]);let _=st(g=>{if(!r||i.disabled||n.disabled)return;let x=g.type.indexOf("mouse")!==-1?g.clientX:g.touches[0].clientX,P=g.type.indexOf("mouse")!==-1?g.clientY:g.touches[0].clientY,A=L(r,x,P,o.cx,o.cy,o.radius,o.radius),F;q(o.startAngleDeg,o.endAngleDeg,A)?F=A:F=K(o.startAngleDeg,o.endAngleDeg,n.angleDeg,o.cx,o.cy,o.radius),a(n,F)},[r,n,a,o.cx,o.cy,o.endAngleDeg,o.radius,o.startAngleDeg,i.disabled]),O=()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",_)},H=g=>{i.disabled||n.disabled||!g.target||(_(g),window.addEventListener("mousemove",_),window.addEventListener("mouseup",O))},G=g=>{if(!(i.disabled||n.disabled||i.keyboardDisabled))switch(g.key){case"ArrowLeft":{g.preventDefault(),a(n,n.angleDeg+s.stepAngleDeg);break}case"ArrowRight":{g.preventDefault(),a(n,n.angleDeg-s.stepAngleDeg);break}case"ArrowUp":{g.preventDefault(),a(n,n.angleDeg-s.stepAngleDeg);break}case"ArrowDown":{g.preventDefault(),a(n,n.angleDeg+s.stepAngleDeg);break}}};return ae(()=>{let g=t.current,x=A=>{i.disabled||n.disabled||(A.preventDefault(),A.stopPropagation(),_(A))},P=A=>{if(i.disabled||n.disabled||i.mousewheelDisabled||document.activeElement!==g)return;A.stopPropagation(),A.preventDefault();let F=A.deltaY<0,j;F?j=n.angleDeg+s.stepAngleDeg:j=n.angleDeg-s.stepAngleDeg,a(n,j)};return g==null||g.addEventListener("touchmove",x,{passive:!1}),document.addEventListener("wheel",P,{passive:!1}),()=>{g==null||g.removeEventListener("touchmove",x),document.removeEventListener("wheel",P)}},[R,_,s.stepAngleDeg,n,a,i.disabled,i.mousewheelDisabled]),se(ut,{children:R&&se("g",{ref:t,transform:`translate(${R[0]-c/2}, ${R[1]-c/2})`,role:"slider","aria-disabled":n.disabled?!0:void 0,"aria-valuenow":n.angleDeg,"aria-valuetext":V,"aria-label":n.ariaLabel,"data-type":"pointer","data-angle":n.angleDeg,"data-id":n.id,"data-index":n.index,onMouseDown:H,onKeyDown:G,tabIndex:0,cursor:n.disabled?"default":"pointer",style:W,children:se("circle",{cx:c/2,cy:c/2,r:c,fill:it(n,t,l,h,d),strokeWidth:f,stroke:p})})})},ke=lt;import{Fragment as mt,jsx as Le}from"react/jsx-runtime";var ct=e=>{let{pointers:t,settings:n,svg:o,$svg:r,setPointer:a,data:s}=e;return Le(mt,{children:t.pointers.map(i=>Le(ke,{pointer:i,svg:o,settings:n,$svg:r,setPointer:a,data:s},i.id))})},we=ct;var Oe=e=>{let t=m(e.min,0),n=m(e.max,100),o=m(e.step,1),r=m(e.arrowStep,1),a=m(e.round,0),s=e.data||[];if(s.length>0){let d=s.findIndex(p=>p===t),f=s.findIndex(p=>p===n);t=d===-1?0:d,n=f===-1?s.length:f}else t>n&&(t=n+100);let i=m(e.pathStartAngle,0),c=m(e.pathEndAngle,360),u=I(i,360)===I(c,360),l=o*360/(n-t),h=r*360/(n-t);return{min:t,max:n,round:a,data:s,stepAngleDeg:l,arrowStepAngleDeg:h,isClosedShape:u}};import{useEffect as pt,useState as bt}from"react";var Fe=(e,t,n,o,r,a)=>{if(!e.pointers||e.pointers.length<=0)return null;let s={radius:t,cx:n,cy:o,startAngleDeg:r,endAngleDeg:r,strokeDasharray:[0,0],strokeOffset:0};if(e.pointers.length===1)s.startAngleDeg=r,s.endAngleDeg=e.pointers[0].angleDeg;else{let p=Re(e.pointers,r);if(!p)return null;let[T,D]=p;s.startAngleDeg=T.angleDeg,s.endAngleDeg=D.angleDeg}let i=N(r,a);s.startAngleDeg>s.endAngleDeg&&(s.endAngleDeg+=360);let c=N(s.startAngleDeg,s.endAngleDeg);c>i&&(c=360-c,[s.startAngleDeg,s.endAngleDeg]=[s.endAngleDeg,s.startAngleDeg]);let l=2*Math.PI*t,h=-(s.startAngleDeg/360)*l,d=c/360*l,f=l-d;return s.strokeDasharray=[d,f],s.strokeOffset=h,s};import{Fragment as Dt,jsx as Ne}from"react/jsx-runtime";var xt=e=>{let{settings:t,pointers:n,$svg:o,svg:r,setPointer:a}=e,[s,i]=bt(null);pt(()=>{i(Fe(n,r.radius,r.cx,r.cy,r.startAngleDeg,r.endAngleDeg))},[n,r.radius,r.cx,r.cy,r.startAngleDeg,r.endAngleDeg]);let c=u=>{if(!o||t.disabled)return;let l=L(o,u.clientX,u.clientY,r.cx,r.cy,r.radius,r.radius),h=Y(n.pointers,l,r.cx,r.cy,r.radius);h&&a(h,l)};return Ne(Dt,{children:!M(t.hideConnection,!1)&&s&&Ne("circle",{cx:s.cx,cy:s.cy,r:s.radius,strokeDasharray:s.strokeDasharray.join(" "),strokeDashoffset:s.strokeOffset,stroke:t.disabled?b(t.connectionBgColorDisabled,Te):b(t.connectionBgColor,ve),strokeWidth:r.thickness+1,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:t.disabled?"default":"pointer",onClick:c,"data-type":"connection"})})},Be=xt;import{useEffect as Tt,useState as St}from"react";import{Fragment as At,jsx as Ue}from"react/jsx-runtime";var It=e=>{let{settings:t,pointers:n,svg:o,data:r}=e,{cx:a,cy:s}=o,[i,c]=St("");Tt(()=>{let l=n.pointers.map(d=>w(r,d.angleDeg,o.startAngleDeg,o.endAngleDeg));l.sort((d,f)=>d.toString().localeCompare(f.toString(),"en",{numeric:!0}));let h=l.map(d=>`${t.textPrefix||""}${d}${t.textSuffix||""}`);c(h.join(" "))},[r,n.pointers,o.startAngleDeg,o.endAngleDeg,t.textPrefix,t.textSuffix]);let u=M(t.hideText,!1);return Ue(At,{children:!u&&Ue("text",{x:a,y:s,fill:b(t.textColor,Se),fontSize:m(t.textFontSize,16),fontFamily:t.textFontFamily,style:{userSelect:"none"},textAnchor:"middle",children:i})})},Ve=It;import{useEffect as $e,useState as ze,Fragment as _t}from"react";var He=(e,t)=>{let n=m(e.ticsCount,0);n||(t.data&&t.data.length>0?n=t.data.length:n=t.max);let o=m(e.ticksHeight,20);return{ticksCount:n,disableTicks:M(e.disableTicks,!1),ticksWidth:m(e.ticksWidth,3),ticksHeight:o,longerTicksHeight:m(e.longerTicksHeight,o*2),ticksDistanceToPanel:m(e.ticksDistanceToPanel,0),tickValuesDistance:m(e.tickValuesDistance,15),ticksColor:b(e.ticksColor,Ie),tickValuesColor:b(e.tickValuesColor,Ae),tickValuesFontSize:m(e.tickValuesFontSize,12),ticksGroupSize:m(e.ticksGroupSize,10),longerTickValuesOnly:M(e.longerTickValuesOnly,!0),showTickValues:M(e.showTickValues,!0)}},Ge=(e,t,n,o,r,a)=>{let s=[],i=Math.abs(o-n),c=t===0?0:i/t,u=t;a.isClosedShape||u++;for(let l=0;l<u;l++){let h=n+l*c,d=v(E(h),0,Math.PI*2,0,Math.PI),[f,p]=C([r.cx,r.cy],d,r.radius),T=e.ticksGroupSize!==void 0&&l%e.ticksGroupSize===0,D=e.ticksHeight;T&&(D=e.longerTicksHeight);let R=pe([r.cx-f,r.cy-p]),U=z(R,D),V=z(R,e.ticksDistanceToPanel);f+=V[0],p+=V[1];let Q=f+U[0],_=p+U[1],O;if(e.showTickValues&&(!e.longerTickValuesOnly||e.longerTickValuesOnly&&(T||e.ticksGroupSize===void 0))){let x=v(l,0,t,a.min,a.max);if(a.data.length>0){let P=Math.round(x);x=a.data[P]}else x=S(x,a.round);O=(x!=null?x:"").toString()}let H=0,G=0,g=O!==void 0;if(g){let x=m(D+e.tickValuesDistance,D*1.5),P=z(R,x);H=f+P[0],G=p+P[1]}s.push({x:f,y:p,x1:Q,y1:_,textX:H,textY:G,isLonger:T,tickValue:O,showText:g})}return s};import{Fragment as wt,jsx as Z,jsxs as Lt}from"react/jsx-runtime";var kt=e=>{let{settings:t,svg:n,data:o}=e,[r,a]=ze(null),[s,i]=ze([]);return $e(()=>{a(He(t,o))},[t,o]),$e(()=>{if(!r)return;let c=n.endAngleDeg;c<n.startAngleDeg&&(c+=360),i(Ge(r,r.ticksCount,n.startAngleDeg,c,n,o))},[o,n,r]),Z(wt,{children:r&&!r.disableTicks&&Z("g",{children:s.map((c,u)=>{let{x:l,y:h,x1:d,y1:f,textX:p,textY:T,showText:D}=c;return Lt(_t,{children:[Z("line",{x1:l,y1:h,x2:d,y2:f,strokeWidth:r.ticksWidth,stroke:r.ticksColor}),D&&Z("text",{x:p,y:T,textAnchor:"middle",dominantBaseline:"middle",fill:r.tickValuesColor,fontSize:r.tickValuesFontSize,fontFamily:t.tickValuesFontFamily,style:{userSelect:"none"},children:c.tickValue})]},u)})})})},Xe=kt;import{useEffect as yt,useState as Ot}from"react";import{jsx as qe,jsxs as Nt}from"react/jsx-runtime";var Ft=e=>{let{settings:t,pointers:n,$svg:o,svg:r,setPointer:a}=e,[s,i]=Ot({strokeDasharray:"0 1000000",strokeOffset:0});return yt(()=>{i(Ee(r.startAngleDeg,r.endAngleDeg,r.radius))},[r.startAngleDeg,r.endAngleDeg,r.radius]),Nt("g",{onClick:u=>{if(!o||t.disabled)return;let l=L(o,u.clientX,u.clientY,r.cx,r.cy,r.radius,r.radius),h=Y(n.pointers,l,r.cx,r.cy,r.radius);h&&a(h,l)},children:[r.border>0&&qe("circle",{strokeDasharray:s.strokeDasharray,strokeDashoffset:s.strokeOffset,cx:r.cx,cy:r.cy,r:r.radius,stroke:b(t.pathBorderColor,De),strokeWidth:r.thickness+r.border*2,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer","data-type":"path-border"}),qe("circle",{strokeDasharray:s.strokeDasharray,strokeDashoffset:s.strokeOffset,cx:r.cx,cy:r.cy,r:r.radius,stroke:b(t.pathBgColor,xe),strokeWidth:r.thickness,fill:"none",shapeRendering:"geometricPrecision",strokeLinecap:"round",cursor:"pointer","data-type":"path"})]})},Ye=Ft;import{Fragment as $t,jsx as y,jsxs as Gt}from"react/jsx-runtime";var Fr=e=>{let[t,n]=le(null),[o,r]=le(null),[a,s]=le(null),i=Ht(null);ie(()=>{n(Oe(e))},[e]),ie(()=>{s(Pe(e,t))},[e,t]),ie(()=>{if(!a)return;let u=m(e.pathStartAngle,0),l=m(e.pathEndAngle,360);l<=u&&(l+=360),r(be(m(e.pathRadius,150),m(e.pathThickness,5),m(e.pathBorder,0),a.maxRadius,u,l))},[e.pathRadius,e.pathThickness,e.pathBorder,e.pathStartAngle,e.pathEndAngle,a]);let c=(u,l)=>{if(e.disabled||!a.pointers||!u||u.disabled||(l=oe(l,t.stepAngleDeg),u.angleDeg===l))return;if(!e.pointersOverlap&&a.pointers.length>1){let f,p;if(t.isClosedShape){let T=I(u.index-1,a.pointers.length),D=I(u.index+1,a.pointers.length);f=a.pointers[T].angleDeg,p=a.pointers[D].angleDeg}else f=u.index===0?o.startAngleDeg:a.pointers[u.index-1].angleDeg,p=u.index===a.pointers.length-1?o.endAngleDeg:a.pointers[u.index+1].angleDeg;p<=f&&(p+=360),q(f,p,l)||(l=K(f,p,l,o.cx,o.cy,o.radius))}if(u.angleDeg===l)return;let d=$({},a);if(d.pointers=[...a.pointers],d.pointers[u.index].angleDeg=l,a.pointers=d.pointers,s(d),typeof e.onChange=="function"){let f=d.pointers.map(p=>w(t,p.angleDeg,o.startAngleDeg,o.endAngleDeg));e.onChange(f)}};return y($t,{children:o&&Gt("svg",{ref:i,xmlns:"http://www.w3.org/2000/svg",width:o.size,height:o.size,tabIndex:0,focusable:!0,"aria-disabled":e.disabled?!0:void 0,style:W,children:[y(Xe,{settings:e,svg:o,data:t}),y(Ye,{settings:e,pointers:a,svg:o,$svg:i.current,setPointer:c}),y(Be,{settings:e,pointers:a,svg:o,$svg:i.current,setPointer:c}),y(we,{settings:e,pointers:a,svg:o,$svg:i.current,setPointer:c,data:t}),y(Ve,{settings:e,pointers:a,svg:o,data:t})]})})};export{Fr as RoundSlider};
//# sourceMappingURL=mz-react-round-slider.esm.js.map
